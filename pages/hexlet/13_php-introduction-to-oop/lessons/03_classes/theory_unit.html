<!DOCTYPE html>
<html class='h-100' lang='ru' prefix='og: https://ogp.me/ns#'>

<head>
  <title>Классы - PHP: Введение в ООП</title>
  <meta content='width=device-width, initial-scale=1.0' name='viewport'>
  <meta charset='utf-8'>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
</head>

<body class='h-100'>
  <div class='d-flex flex-column flex-md-row h-100'>
    <div class='x-border-md-right flex-fill tab-content overflow-hidden h-100'>
      <div aria-labelledby='lesson-tab' class='tab-pane fade show active overflow-auto h-100' id='lesson'
        role='tabpanel'>
        <div class='container-xl my-3 mb-md-4 mb-lg-5'>
          <div class='row justify-content-center'>
            <div class='col-12 col-lg-10'>
              <div class='mt-3 paywall'>
                <div class='p-2 p-md-4 shadow-sm bg-white'>
                  <div class='hexlet-markdown-body overflow-hidden p-2 p-md-4'>
                    <h1 class='mt-0 mb-4'>Классы</h1>
                    <p>Аналогом структур из Си в PHP являются классы (как вы увидите позже, классы устроены намного
                      сложнее). По крайней мере, в первом приближении.</p>
                    <pre class="hljs"><code class=php><span style="color: #999999;font-weight: bold">&lt;?php</span>

<span style="color: #999988;font-style: italic">// Обратите внимание на стиль, где ставятся открывающие и закрывающие скобки:</span>
<span style="color: #000000;font-weight: bold">class</span> <span style="color: #445588;font-weight: bold">Point</span>
<span style="background-color: #f8f8f8">{</span>
    <span style="color: #000000;font-weight: bold">public</span> <span style="color: #008080">$x</span><span style="background-color: #f8f8f8">;</span>
    <span style="color: #000000;font-weight: bold">public</span> <span style="color: #008080">$y</span><span style="background-color: #f8f8f8">;</span>
<span style="background-color: #f8f8f8">}</span>
</code></pre>
                    <p>Определение класса подозрительно похоже на определение структуры. За ключевым словом
                      <code>class</code> следует имя класса, затем в фигурных скобках перечисляются элементы класса.
                      Если в структурах их элементы назывались членами, то в PHP их принято называть свойствами. Такое
                      именование характерно для большинства классовых языков. В PHP классы должны начинаться с заглавной
                      буквы.</p>

                    <p>Одно из отличий классов от структур связано с наличием встроенного механизма защиты данных.
                      Ключевое слово <code>public</code> делает свойства публичными, то есть доступными снаружи для
                      чтения и модификации. Это поведение аналогично тому, как ведут себя элементы структур. Кроме
                      <code>public</code> есть и другие варианты, но мы их рассмотрим позже, когда поговорим об
                      инкапсуляции и методах.</p>

                    <p>Определив класс, можно начать создавать объекты или, как их ещё называют, экземпляры (instance)
                      класса. На текущий момент достаточно рассматривать объект как конкретную структуру данных с
                      конкретными данными.</p>
                    <pre class="hljs"><code class=php><span style="color: #999999;font-weight: bold">&lt;?php</span>

<span style="color: #999988;font-style: italic">// Создаём объект класса Point</span>
<span style="color: #008080">$point</span> <span style="color: #000000;font-weight: bold">=</span> <span style="color: #000000;font-weight: bold">new</span> <span style="color: #445588;font-weight: bold">Point</span><span style="background-color: #f8f8f8">();</span>

<span style="color: #999988;font-style: italic">// По умолчанию значения равны null</span>
<span style="color: #0086B3">print_r</span><span style="background-color: #f8f8f8">(</span><span style="color: #008080">$point</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="background-color: #f8f8f8">x</span><span style="background-color: #f8f8f8">);</span> <span style="color: #999988;font-style: italic">// =&gt; null</span>
<span style="color: #0086B3">print_r</span><span style="background-color: #f8f8f8">(</span><span style="color: #008080">$point</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="background-color: #f8f8f8">y</span><span style="background-color: #f8f8f8">);</span> <span style="color: #999988;font-style: italic">// =&gt; null</span>

<span style="color: #999988;font-style: italic">// Обратите внимание на синтаксис. Такой вызов неверный: $point-&gt;$x.</span>
<span style="color: #008080">$point</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="background-color: #f8f8f8">x</span> <span style="color: #000000;font-weight: bold">=</span> <span style="color: #009999">5</span><span style="background-color: #f8f8f8">;</span>
<span style="color: #008080">$point</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="background-color: #f8f8f8">y</span> <span style="color: #000000;font-weight: bold">=</span> <span style="color: #009999">10</span><span style="background-color: #f8f8f8">;</span>

<span style="color: #0086B3">print_r</span><span style="background-color: #f8f8f8">(</span><span style="color: #008080">$point</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="background-color: #f8f8f8">x</span><span style="background-color: #f8f8f8">);</span> <span style="color: #999988;font-style: italic">// =&gt; 5</span>
<span style="color: #0086B3">print_r</span><span style="background-color: #f8f8f8">(</span><span style="color: #008080">$point</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="background-color: #f8f8f8">y</span><span style="background-color: #f8f8f8">);</span> <span style="color: #999988;font-style: italic">// =&gt; 10</span>
</code></pre>
                    <p>Создание объекта выглядит как вызов функции, к которому добавили ключевое слово <code>new</code>,
                      и как вы увидите позже, это так и есть. В остальном всё работает, как и в структурах, только для
                      разделения используется не точка, а стрелка. При обращении к свойствам знак <code>$</code> перед
                      именем свойства не ставится.</p>

                    <p><em>Попробуйте создать данный класс на repl.it. Создайте несколько экземпляров, распечатайте их,
                        измените свойства.</em></p>

                    <p>Если распечатать объект на экран <code>print_r($point)</code>, то можно увидеть его структуру и
                      значения всех свойств.</p>
                    <pre class="hljs"><code class=>Point Object
(
    [x] =&gt; 5
    [y] =&gt; 10
)
</code></pre>
                    <h2 id="klassy-kak-rekursivnaya-struktura-dannyh">Классы как рекурсивная структура данных</h2>
                    <p>Как и в случае со структурами, значением свойства объекта может быть другой объект. Ограничений
                      на вложенность никаких нет: объекты, содержащие объекты, которые содержат объекты — это нормально.
                    </p>
                    <pre class="hljs"><code class=php><span style="color: #999999;font-weight: bold">&lt;?php</span>

<span style="color: #000000;font-weight: bold">class</span> <span style="color: #445588;font-weight: bold">Circle</span>
<span style="background-color: #f8f8f8">{</span>
    <span style="color: #000000;font-weight: bold">public</span> <span style="color: #008080">$center</span><span style="background-color: #f8f8f8">;</span>
    <span style="color: #000000;font-weight: bold">public</span> <span style="color: #008080">$radius</span><span style="background-color: #f8f8f8">;</span>
<span style="background-color: #f8f8f8">}</span>

<span style="color: #008080">$circle</span> <span style="color: #000000;font-weight: bold">=</span> <span style="color: #000000;font-weight: bold">new</span> <span style="color: #445588;font-weight: bold">Circle</span><span style="background-color: #f8f8f8">();</span>
<span style="color: #008080">$circle</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="background-color: #f8f8f8">radius</span> <span style="color: #000000;font-weight: bold">=</span> <span style="color: #009999">3</span><span style="background-color: #f8f8f8">;</span>
<span style="color: #008080">$circle</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="background-color: #f8f8f8">center</span> <span style="color: #000000;font-weight: bold">=</span> <span style="color: #000000;font-weight: bold">new</span> <span style="color: #445588;font-weight: bold">Point</span><span style="background-color: #f8f8f8">();</span>
<span style="color: #008080">$circle</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="background-color: #f8f8f8">center</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="background-color: #f8f8f8">x</span> <span style="color: #000000;font-weight: bold">=</span> <span style="color: #009999">5</span><span style="background-color: #f8f8f8">;</span>
<span style="color: #008080">$circle</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="background-color: #f8f8f8">center</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="background-color: #f8f8f8">y</span> <span style="color: #000000;font-weight: bold">=</span> <span style="color: #009999">10</span><span style="background-color: #f8f8f8">;</span>

<span style="color: #0086B3">print_r</span><span style="background-color: #f8f8f8">(</span><span style="color: #008080">$circle</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="background-color: #f8f8f8">center</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="background-color: #f8f8f8">x</span><span style="background-color: #f8f8f8">);</span> <span style="color: #999988;font-style: italic">// =&gt; 5</span>
<span style="color: #0086B3">print_r</span><span style="background-color: #f8f8f8">(</span><span style="color: #008080">$circle</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="background-color: #f8f8f8">radius</span><span style="background-color: #f8f8f8">);</span> <span style="color: #999988;font-style: italic">// =&gt; 3</span>
</code></pre>
                    <h2 id="tipy-dannyh">Типы данных</h2>
                    <p>В PHP около 10 встроенных типов данных, с большинством которых мы уже знакомы, например со
                      строками или массивами. Объекты в этом списке представлены типом <code>object</code>.</p>
                    <pre class="hljs"><code class=php><span style="color: #999999;font-weight: bold">&lt;?php</span>

<span style="color: #0086B3">gettype</span><span style="background-color: #f8f8f8">(</span><span style="color: #008080">$circle</span><span style="background-color: #f8f8f8">);</span> <span style="color: #999988;font-style: italic">// object</span>
<span style="color: #0086B3">gettype</span><span style="background-color: #f8f8f8">(</span><span style="color: #008080">$point</span><span style="background-color: #f8f8f8">);</span> <span style="color: #999988;font-style: italic">// object</span>
</code></pre>
                    <p>С другой стороны, каждый класс в PHP может рассматриваться как пользовательский тип данных, а его
                      объекты-значения (инстансы) — как данные этого типа. На синтаксическом уровне классы наравне с
                      обычными типами могут использоваться для описания входных и выходного типов данных функций.</p>
                    <pre class="hljs"><code class=php><span style="color: #999999;font-weight: bold">&lt;?php</span>

<span style="color: #000000;font-weight: bold">function</span> <span style="background-color: #f8f8f8">showUser</span><span style="background-color: #f8f8f8">(</span><span style="color: #445588;font-weight: bold">User</span> <span style="color: #008080">$user</span><span style="background-color: #f8f8f8">)</span> <span style="background-color: #f8f8f8">{</span>
    <span style="color: #999988;font-style: italic">// ...</span>
<span style="background-color: #f8f8f8">}</span>
</code></pre>
                    <p>Такое определение вызовет ошибку при передаче в функцию любых посторонних данных.</p>
                    <h2 id="vyvod">Вывод</h2>
                    <p>Классы — основной способ описывать программные абстракции в PHP; следовательно, объекты —
                      основной способ их использования. Знакомиться с этими понятиями непросто из-за обилия новых
                      терминов, конструкций языка и просто того, что PHP во многих аспектах с объектами ведёт себя не
                      так, как с другими данными. Но просто выучить эти особенности недостаточно для понимания того, что
                      такое ООП, и как писать в этом стиле. Эту ситуацию можно сравнить с игрой в шахматы. Знание, как
                      ходят фигуры, не делает из вас шахматиста. Обучение самой игре — процесс долгий и достаточно
                      сложный. Большая часть этого курса посвящена изучению базовых правил, а вот практика
                      отрабатывается дальше в курсах, посвящённых веб-разработке и ORM. Поэтому не переживайте, что даже
                      зная, как описывать классы и создавать объекты, вы ещё некоторое время не будете понимать, как
                      создавать полноценные программы.</p>
                      <div class="d-flex justify-content-center">
                        <a href="./exercise_unit.html" type="button" class="btn btn-dark">Задача</a>
                      </div>
</body>

</html>