<!DOCTYPE html>
<html class='h-100' lang='ru' prefix='og: https://ogp.me/ns#'>

<head>
  <title>Реляционная модель данных - Основы реляционных баз данных</title>
  <meta name="csrf-param" content="authenticity_token" />
  <meta name="csrf-token"
    content="5bLcAOH7i2PlrxXa5SHW0wNDglPrMn2Rv5eF4b2GcN0cb3JrEtLWRNdaRzcIiRVUHVTjAvQQdybtxx9-dkcv1Q" />
  <meta name="csp-nonce" />
  <link rel="shortcut icon" type="image/x-icon"
    href="https://cdn2.hexlet.io/assets/favicon-8fa102c058afb01de5016a155d7db433283dc7e08ddc3c4d1aef527c1b8502b6.ico" />
  <meta content='width=device-width, initial-scale=1.0' name='viewport'>
  <meta charset='utf-8'>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
</head>

<body class='h-100'>
  <div class='d-flex flex-column flex-md-row h-100'>
    <div class='x-border-md-right flex-fill tab-content overflow-hidden h-100'>
      <div aria-labelledby='lesson-tab' class='tab-pane fade show active overflow-auto h-100' id='lesson'
        role='tabpanel'>
        <div class='container-xl my-3 mb-md-4 mb-lg-5'>
          <div class='row justify-content-center'>
            <div class='col-12 col-lg-10'>
              <a class="small" data-toggle="collapse" href="theory_unit.html#tips">Ошибки, сложный материал, вопросы
                &gt;</a>
              <div class='collapse' id='tips'>
                <div class='py-3 px-4 x-line-height-15 bg-hexlet-gray mt-3'>
                  <h6 class='font-weight-bold'>Нашли опечатку или неточность?</h6>
                  <p>
                    Выделите текст, нажмите
                    <kbd class='bg-secondary'>ctrl + enter</kbd>
                    и отправьте его нам. В течение нескольких дней мы исправим ошибку или улучшим формулировку.
                  </p>
                  <h6 class='font-weight-bold'>Что-то не получается или материал кажется сложным?</h6>
                  <p class='mb-1'>Загляните в раздел «Обсуждение»:</p>
                  <ul>
                    <li>задайте вопрос. Вы быстрее справитесь с трудностями и прокачаете навык постановки правильных
                      вопросов, что пригодится и в учёбе, и в работе программистом;</li>
                    <li>расскажите о своих впечатлениях. Если курс слишком сложный, подробный отзыв поможет нам сделать
                      его лучше;</li>
                    <li>изучите вопросы других учеников и ответы на них. Это база знаний, которой можно и нужно
                      пользоваться.</li>
                  </ul>
                  <h6 class='font-weight-bold'>Об обучении на Хекслете</h6>
                  <ul class='list-unstyled mb-0'>
                    <li>
                      Статья «<a target="_blank" href="https://guides.hexlet.io/learning">Как учиться и справляться с
                        негативными мыслями</a>»
                    </li>
                    <li>
                      Статья «<a target="_blank" href="https://ru.hexlet.io/blog/posts/traps-learning">Ловушки
                        обучения</a>»
                    </li>
                    <li>
                      Статья «<a target="_blank"
                        href="https://ru.hexlet.io/blog/posts/slozhnye-prostye-zadachi-po-programmirovaniyu">Сложные
                        простые задачи по программированию</a>»
                    </li>
                    <li>
                      Урок «<a target="_blank"
                        href="https://ru.hexlet.io/courses/introduction_to_programming/lessons/hexlet-flow/theory_unit">Как
                        эффективно учиться на Хекслете</a>»
                    </li>
                    <li>
                      Вебинар «<a target="_blank" rel="noopener noreferrer nofollow"
                        href="https://www.youtube.com/watch?v=dCYZppVgGww">Как самостоятельно учиться</a>»
                    </li>
                  </ul>
                </div>
              </div>

              <div class='mt-3 paywall'>
                <div class='p-2 p-md-4 shadow-sm bg-white'>
                  <div class='hexlet-markdown-body overflow-hidden p-2 p-md-4'>
                    <a class="h6 mb-0 font-weight-normal text-muted x-link-only-hover"
                      href="../transactions/exercise_unit.html">Основы реляционных баз данных</a>
                    <h1 class='mt-0 mb-4'>Реляционная модель данных</h1>
                    <p>Основой логики работы в реляционных СУБД является реляционная алгебра, именно поэтому в подобных
                      системах добавляют приставку &quot;реляционная&quot;. Если посмотреть книги, посвященные базам
                      данных (особенно университетские), то они в обязательном порядке дают её, и иногда в больших
                      количествах. Несмотря на то, что прикладному программисту не обязательно разбираться в её
                      тонкостях, знать основы реляционной алгебры всё же полезно. Ниже я попробую дать некоторое общее
                      представление без привлечения соответствующего математического аппарата. Если вы захотите копнуть
                      глубже, то смотрите ссылки в дополнительных материалах.</p>
                    <h2 id="ierarhicheskaya-model">Иерархическая модель</h2>
                    <p>Существует множество разных способов представить одни и те же данные. Один из первых широко
                      используемых способов — иерархическая модель. В такой модели данные представлены в виде
                      <strong>дерева</strong>, где дочерние элементы находятся в зависимости от родительских. Самый
                      яркий пример древовидной структуры — файловая система (ФС). Вероятно, будет сюрпризом для вас, что
                      файловая система — это база данных, а операционная система ведёт себя, как СУБД по отношению к ФС.
                      Однако то, как мы видим данные и как они хранятся в реальности (на диске) — две большие разницы.
                      Физическое размещение данных на носителях — прерогатива конкретных СУБД, и здесь они соревнуются,
                      кто быстрее и эффективнее. А вот их внешнее представление — это то, что видит пользователь, и оно
                      очень сильно влияет на способ взаимодействия с данными. Именно поэтому разные способы
                      представления данных называются моделями. Эти модели не отражают то, что происходит на самом деле
                      (на физическом уровне), они лишь описывают то, как данные структурированы и как с ними можно
                      взаимодействовать. Модели данных очень похожи на <strong>абстрактные типы данных</strong>, которые
                      определяют интерфейс взаимодействия с типом и не определяют его внутреннюю реализацию.</p>

                    <p><img alt="Иерархическая модель данных" class="lazyload px-2 px-md-3 px-lg-4 px-xl-5"
                        data-src="https://cdn2.hexlet.io/derivations/image/original/eyJpZCI6IjE0ODljOGRhNzljYTQ0NzdhYjMxOGEzNzNlZjMyMWQwLmpwZyIsInN0b3JhZ2UiOiJjYWNoZSJ9?signature=60b866984444c1d8f68d648768c0f61c24c4be7ae7c7eb0dd5f0d18146f461d4"
                        src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" /></p>

                    <p>С помощью иерархической модели можно представить и бизнес области. К примеру, в предметной
                      области интернет-магазина есть такие понятия, как пользователь и заказ. Причём, у одного
                      пользователя может быть множество заказов, что сразу определяет структуру дерева, где вершиной
                      становится пользователь, а его детьми — заказы. Подобным образом структурируются и все остальные
                      части.</p>

                    <p>Проблемы начинаются, когда у одного ребёнка может быть несколько родителей. В современных
                      сервисах такси есть возможность оплачивать счёт за такси совместно — это значит, что у одного
                      заказа сразу несколько клиентов. Как быть в такой ситуации? К сожалению, иерархическая модель не
                      может предложить хорошего решения данной задачи. Придётся создавать параллельные деревья, в
                      которых появится дублирование данных.</p>
                    <h2 id="setevaya-model">Сетевая модель</h2>
                    <p>Эта проблема решается в <strong>сетевой</strong> модели данных, которая расширяет иерархическую и
                      даёт возможность иметь множество предков. По сути, сетевая модель представляет собой
                      <strong>граф</strong>. В сетевой структуре каждый элемент может быть связан с любым другим
                      элементом.</p>

                    <p><img alt="Сетевая модель данных" class="lazyload px-2 px-md-3 px-lg-4 px-xl-5"
                        data-src="https://cdn2.hexlet.io/derivations/image/original/eyJpZCI6ImFlMzVmYmZmNjdmZWQyOTljMzYwN2NkMDgwNTgxZTFiLmpwZyIsInN0b3JhZ2UiOiJjYWNoZSJ9?signature=c509ed99eb8c80b337635e1edccad5229345791a5903ddbf45751dec372ae43b"
                        src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" /></p>

                    <p>Недостатком сетевой модели данных являются высокая сложность и жесткость схемы БД, построенной на
                      её основе. Поскольку логика процедуры выборки данных зависит от физической организации этих
                      данных, то эта модель не является полностью независимой от приложения. Другими словами, если
                      необходимо изменить структуру данных, то нужно изменить и приложение.</p>
                    <h2 id="relyatsionnaya-model">Реляционная модель</h2>
                    <p>В конечном итоге, наибольшее распространение получила реляционная модель данных. Именно на её
                      основе построены РСУБД (реляционные СУБД). В реляционной модели данные представляют собой набор
                      отношений. Формальное определение понятия <strong>отношение</strong> звучит так:</p>

                    <blockquote>
                      <p>Пусть дана совокупность типов данных T1, T2, ..., Tn, называемых также доменами, не обязательно
                        различных. Тогда n-арным отношением R, или отношением R степени n называют подмножество
                        декартовa произведения множеств T1, T2, ..., Tn.</p>
                    </blockquote>

                    <p>Не пугайтесь, если вы ничего не поняли из этого определения. Попробуем разобраться.</p>

                    <p>Отношение — это, как вы уже догадались, математическое понятие, у него нет физического
                      представления. Часто, для упрощения, говорят, что отношение это как таблица. Такое сравнение, хоть
                      и кажется соблазнительным, но создаёт неверное представление о реальной природе и особенностях
                      отношений. В этом смысле реляционная база данных это лишь попытка отразить реляционную модель, а
                      не её точная копия.</p>

                    <p>Реляционная модель очень сильно опирается на теорию множеств, которую нужно знать хотя бы
                      немного. Теория множеств, в своей базе, довольно простой и интуитивно понятный раздел математики.
                      Центральное понятие теории множеств — множество, совокупность произвольных элементов, объединённых
                      по какому-либо признаку, например, множество натуральных чисел (бесконечное множество) или
                      множество учеников одного класса (конечное множество).</p>

                    <p><img alt="Подмножества" class="lazyload px-2 px-md-3 px-lg-4 px-xl-5"
                        data-src="https://cdn2.hexlet.io/derivations/image/original/eyJpZCI6ImFhNDY2MzA1OTM2ZTBhZmFmMzhjZTBmMmQ2M2NlY2RiLmpwZyIsInN0b3JhZ2UiOiJjYWNoZSJ9?signature=705be14a8291b653cb464a266bd469bf05cafb29e9a23ebad308fc511190a798"
                        src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" /></p>

                    <p>В свою очередь, из любого множества можно выделить <strong>подмножество</strong>. То есть
                      множество элементов, все элементы которого входят в исходное множество. Другими словами,
                      подмножество это часть множества. Например, множество натуральных чисел является подмножеством по
                      отношению к множеству целых чисел, которое в свою очередь является подмножеством рациональных
                      чисел. Из чего, кстати, следует, что натуральные числа являются подмножеством и рациональных
                      чисел.</p>

                    <p>Еще одно важное понятие — <strong>кортеж</strong>. Кортеж — это упорядоченный набор данных
                      фиксированной длины. Элементами кортежа может быть всё, что угодно. В принципе, больше ничего
                      интересного в кортежах нет, это всего лишь математический способ представить некоторый набор
                      связанных данных.</p>

                    <p>Теперь мы знаем достаточно для изучения отношений. Отношение — это множество кортежей, называемых
                      <strong>телом отношения</strong>, в котором каждый кортеж соответствует схеме. Схема — это
                      заголовок отношения, она описывает общую структуру кортежей, количество элементов внутри них и их
                      типы. Каждый такой элемент называется <strong>атрибутом</strong>.</p>

                    <p><img alt="Отношение" class="lazyload px-2 px-md-3 px-lg-4 px-xl-5"
                        data-src="https://cdn2.hexlet.io/derivations/image/original/eyJpZCI6IjdhN2Y5N2U4YzIyMzdkYWMxZDU3NTIxMDM0MzE2YTY3LmpwZyIsInN0b3JhZ2UiOiJjYWNoZSJ9?signature=58746f091d8fe5bf6f33373eb0f2460c821ca848a6e645408b868ea6855d048c"
                        src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" /></p>

                    <p>Несмотря на визуальную схожесть с таблицей, у отношений есть существенные отличия:</p>

                    <ul>
                      <li>В отношении нет двух одинаковых элементов (кортежей).</li>
                      <li>Порядок кортежей в отношении не определён.</li>
                      <li>Порядок атрибутов в заголовке отношения не определён.</li>
                    </ul>

                    <p>Именно эти аспекты делают таблицу непригодной для точного описания понятия &quot;отношение&quot;.
                      В любой таблице порядок столбцов (соответствуют атрибутам схемы) и строк (соответствуют кортежам)
                      строго определён. Но не следует путать теорию с практикой. На практике мы оперируем таблицами и не
                      можем игнорировать их природы. Во всех реляционных базах данных столбцы расположены в определённом
                      порядке, и данные тоже добавляются строго определённым образом. Другое дело, что этот порядок
                      зависит от реализации самой базы данных и не может быть задан явно (он задаётся при выборке).</p>

                    <p>Как это ни странно, но реляционная модель оказывается удачным выбором в подавляющем большинстве
                      ситуаций, и она не обладает недостатками, присущими другим моделям. Именно поэтому она приобрела
                      столь широкое распространение. Но она требует время на освоение и привыкание, потому что придётся
                      научиться раскладывать данные по таблицам правильным способом. Для взаимодействия с данными,
                      описанными реляционной моделью, используется реляционная алгебра (элементы которой рассмотрим
                      позже).</p>

                    <p>С точки зрения теории, данные, представленные в реляционной модели, должны быть
                      <strong>нормализованы</strong>, то есть приведены к <strong>нормальной форме</strong>. Нормальная
                      форма — это некоторые требования, которым должно удовлетворять отношение для минимизации
                      избыточности данных, потенциально приводящих к логическим ошибкам. Всего существует 6 нормальных
                      форм, от первой до шестой. С каждым следующим уровнем требования всё жёстче и включают в себя все
                      предыдущие уровни. Вот определения первых трех (не пытайтесь их понять и запомнить):</p>

                    <ol>
                      <li>
                        <p>Переменная отношения находится в первой нормальной форме (1НФ) тогда и только тогда, когда в
                          любом допустимом значении отношения каждый его кортеж содержит только одно значение для
                          каждого из атрибутов.</p>
                      </li>
                      <li>
                        <p>Переменная отношения находится во второй нормальной форме тогда и только тогда, когда она
                          находится в первой нормальной форме и каждый неключевой атрибут неприводимо (функционально
                          полно) зависит от её первичного ключа.</p>
                      </li>
                      <li>
                        <p>Переменная отношения находится в третьей нормальной форме тогда и только тогда, когда она
                          находится во второй нормальной форме, и отсутствуют транзитивные функциональные зависимости
                          неключевых атрибутов от ключевых.</p>
                      </li>
                    </ol>

                    <p>В таком виде, эта информация понятна только студентам профильных вузов. Поэтому дальше разговор
                      пойдет о практических аспектах нормальных форм. В следующих уроках, мы познакомимся с тремя
                      первыми формами, так как они наиболее часто используются в реальной разработке. Причём
                      программисты, которые часто работают с базами данных, даже не помнят теорию, связанную с формами.
                      Единожды поняв, как структурируются данные в реляционной модели, мозг самостоятельно предлагает
                      правильные решения по тому, как разложить данные.</p>

                    <hr class='my-5'>
                    <h4 class='mb-4'>Дополнительные материалы</h4>
                    <ol>
                      <li class='lead'>
                        <a target="_blank" href="https://habr.com/post/145381/">Основы реляционной алгебры</a>
                      </li>
                      <li class='lead'>
                        <a target="_blank"
                          href="https://ru.wikipedia.org/wiki/%D0%A0%D0%B5%D0%BB%D1%8F%D1%86%D0%B8%D0%BE%D0%BD%D0%BD%D0%B0%D1%8F_%D0%BC%D0%BE%D0%B4%D0%B5%D0%BB%D1%8C_%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85">Реляционная
                          модель данных</a>
                      </li>
                    </ol>
                    <div class="d-flex justify-content-center">
                      <a href="./exercise_unit.html" type="button" class="btn btn-dark">Задача</a>
                    </div>
</body>

</html>