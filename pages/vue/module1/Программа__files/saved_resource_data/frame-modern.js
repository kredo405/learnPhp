!function(e){function t(t){for(var r,o,c=t[0],a=t[1],u=t[2],l=0,p=[];l<c.length;l++)o=c[l],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&p.push(i[o][0]),i[o]=0;for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r]);for(d&&d(t);p.length;)p.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,c=1;c<n.length;c++){var a=n[c];0!==i[a]&&(r=!1)}r&&(s.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},i={4:0},s=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(e){var t=[],n=i[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=i[e]=[t,r]}));t.push(n[2]=r);var s,c=document.createElement("script");c.charset="utf-8",c.timeout=120,o.nc&&c.setAttribute("nonce",o.nc),c.src=function(e){return o.p+""+({0:"app",1:"banner",2:"bound-events",3:"confetti",5:"install",6:"launcher-discovery",7:"locale-ar-json",8:"locale-bg-json",9:"locale-bs-json",10:"locale-ca-json",11:"locale-cs-json",12:"locale-da-json",13:"locale-de-form-json",14:"locale-de-json",15:"locale-el-json",16:"locale-es-json",17:"locale-et-json",18:"locale-fi-json",19:"locale-fr-json",20:"locale-he-json",21:"locale-hr-json",22:"locale-hu-json",23:"locale-id-json",24:"locale-it-json",25:"locale-ja-json",26:"locale-ko-json",27:"locale-lt-json",28:"locale-lv-json",29:"locale-mn-json",30:"locale-nb-json",31:"locale-nl-json",32:"locale-package-json",33:"locale-pl-json",34:"locale-pt-BR-json",35:"locale-pt-json",36:"locale-ro-json",37:"locale-ru-json",38:"locale-sl-json",39:"locale-sr-json",40:"locale-sv-json",41:"locale-tr-json",42:"locale-vi-json",43:"locale-zh-CN-json",44:"locale-zh-TW-json",45:"message",46:"sentry",48:"vendors~app",49:"vendors~bound-events",50:"vendors~message",51:"vendors~sentry"}[e]||e)+"-modern."+{0:"b3a36376",1:"fc636e30",2:"ea53fdfb",3:"4f16390f",5:"8d6a6cd8",6:"255431f1",7:"13f10517",8:"cd79e0d8",9:"84df8904",10:"55f95abd",11:"358d3cf4",12:"fd0e5941",13:"e5d6643c",14:"ad0e1bd4",15:"87ab494e",16:"31a67836",17:"90ea15e0",18:"af042216",19:"9243c261",20:"f17f1c34",21:"421b0883",22:"de6ead02",23:"d990cd9a",24:"5639fe2e",25:"e214427b",26:"1640388e",27:"c315017e",28:"ec2995e5",29:"ffd6ac27",30:"baef07e0",31:"5d026784",32:"a757333c",33:"c1c6654e",34:"14b86f3f",35:"3c0b829b",36:"84c5cfd9",37:"f77e8607",38:"bc72a00f",39:"fd6c87dd",40:"36bb4520",41:"0204180f",42:"77849dba",43:"25740dd7",44:"6bc09ab0",45:"bb82214f",46:"ed48c945",48:"8ef9459b",49:"5fc990ca",50:"2f26c02b",51:"f4c2bee7"}[e]+".js"}(e);var a=new Error;s=function(t){c.onerror=c.onload=null,clearTimeout(u);var n=i[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;a.message="Loading chunk "+e+" failed.\n("+r+": "+s+")",a.name="ChunkLoadError",a.type=r,a.request=s,n[1](a)}i[e]=void 0}};var u=setTimeout((function(){s({type:"timeout",target:c})}),12e4);c.onerror=c.onload=s,document.head.appendChild(c)}return Promise.all(t)},o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="https://js.intercomcdn.com/",o.oe=function(e){throw console.error(e),e};var c=window.webpackJsonp=window.webpackJsonp||[],a=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var d=a;s.push([240,47]),n()}([,function(e,t,n){"use strict";var r=n(12),i=n.n(r),s=n(19);var o=n(54),c=n(2),a=n(99),u=n(55);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"n",(function(){return y})),n.d(t,"h",(function(){return j})),n.d(t,"l",(function(){return w})),n.d(t,"i",(function(){return R})),n.d(t,"m",(function(){return A})),n.d(t,"d",(function(){return N})),n.d(t,"b",(function(){return P})),n.d(t,"c",(function(){return M})),n.d(t,"a",(function(){return D})),n.d(t,"f",(function(){return U})),n.d(t,"o",(function(){return k})),n.d(t,"k",(function(){return x})),n.d(t,"g",(function(){return V})),n.d(t,"e",(function(){return B}));let f,h,b=0,_=null,g=null;const m=[],O={},E=[],S=[],v=[],y=e=>g=e;function C(e,t){return e.splice(0,Math.min(e.length,t))}function T(e=!1){if(b>=5)return;const t=C(m,100);if(E.length>0||t.length>0){const n=C(S,100),r=C(v,100),i=C(E,100);e?c.b.createMetricsWithBeacon(f,t,n,r,i):c.b.createMetrics(f,t,n,r,i).catch(()=>{var e,s,o,c;b++,e=t,s=n,o=r,c=i,Array.prototype.unshift.apply(m,e),Array.prototype.unshift.apply(S,s),Array.prototype.unshift.apply(v,o),Array.prototype.unshift.apply(E,c)})}}function I(){clearInterval(_),_=null,T()}function j(e,t,n,r,i,s={},o="m4_metric"){if(Object(u.a)(e)){A(R(e,t,n,r,i,s,o))}}function w(){return h}function R(e,t,n,r,i,o={},c="m4_metric"){if(!Object(u.a)(e))return{};const a=e&&e.id?e.id:null,d=l(l({},o),{},{version:"ee3991f0b23d32c5cf6a8c186b903b8e0b1254fc"});return{id:s.a.generateUUID(),name:c,created_at:Math.round(Date.now()/1e3),metadata:Object.assign({user_id:a,action:t,object:n,place:r,context:i},d)}}function A(e){i()(e)||m.push(e)}function N(e){Object(a.c)()&&S.push({level:"info",text:e})}function P(e){Object(a.c)()&&S.length<30&&S.push({level:"error",text:e})}function M(e,t){L({name:e,type:"inc"},t)}function D(e,t,n){L({name:e,type:"count",value:t},n)}function U(e,t,n){L({name:e,type:"timing",value:t},n)}function L(e,t){v.length>50||(t&&(e.tags=t),v.push(e))}function k(e,t){O[e]={start:t}}function x(e){O.hasOwnProperty(e)&&O[e].hasOwnProperty("start")&&(V(e,{duration:Date.now()-O[e].start}),delete O[e])}function G(e,t={}){return{id:s.a.generateUUID(),name:e,createdAt:Date.now(),screenWidth:screen.width,screenHeight:screen.height,additionalMetaData:t,sessionId:f&&f.sessionId}}function V(e,t,n=!1){const r=((e=!1)=>e?1:20)(Object(o.a)()||Object(a.c)());if(void 0===h&&(h=((e=20)=>1===e||Math.random()<1/e)(r)),h||n){F(G(e,l({sample_rate:n?1:r},t)))}}function F(e){E.length<30&&E.push(e)}function B(e,t,n,r,i,s){j(g,e,t,n,r,i,s)}t.j={metrics:m,hcMetrics:E,logs:S,opMetrics:v,pushMetric:A,startMetricsPolling:function(e,t){return f=e,null===_&&(_=setInterval(()=>T(),3e4)),t.addEventListener("beforeunload",()=>T(!0)),I},buildAndAddMetric:j,buildAndAddHcMetric:V,buildMetric:R,buildHcMetric:G,addHcMetric:F,addInfoLog:N,addErrorLog:P,addIncrementOpMetric:M,addCountOpMetric:D,addTimingOpMetric:U,clearMetricsState:function(){m.splice(0),S.splice(0),v.splice(0),E.splice(0),E.splice(0);for(const e in O)delete O[e];b=0},getShouldSample:w,startTimingMetric:k,endTimingMetric:x}},function(e,t,n){"use strict";n.d(t,"c",(function(){return S})),n.d(t,"d",(function(){return I})),n.d(t,"a",(function(){return P})),n.d(t,"e",(function(){return Se}));var r=n(66),i=n.n(r),s=n(12),o=n.n(s),c=n(208),a=n(3),u=n(160),d=n(27),l=n(119),p=n(7),f=n(153);const h=["custom_bot","composer_suggestions","predictive_answers_suggestions"];function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}const{assign:O}=Object,E=Object(c.b)();function S(e){const t=`${E.api_base}/messenger/web/article_collections`;return a.b.post({url:t,session:e}).then(e=>e.map(D))}function v(e,t,n,r,i,s=null,o=!1,c=null,a=null,u=!1){const d={created_at:t,self_serve_suggestions_match:o};r&&(d.client_assigned_uuid=r),i&&(d.email=i),s&&(d.composer_suggestions=JSON.stringify(s.suggestions)),c&&(d.bot_intro=c),a&&(d.resolution_bot_behavior_version_id=a),u&&(d.search_browse=!0);const p=e[0];if("paragraph"===p.type)e=e.map(e=>({type:e.type,text:Object(l.b)(e.text)})),d.blocks=JSON.stringify(e);else if("image"===p.type)n&&(p.url=n.publicUrl),d.blocks=JSON.stringify(e);else if("attachmentList"===p.type&&n){const t=p.attachments[0];t.id=n.id,t.url=n.publicUrl,t.contentType=n.contentType,d.blocks=JSON.stringify(e)}return d}function y(e,t,n,r){return{metrics:JSON.stringify(e),logs:JSON.stringify(t),op_metrics:JSON.stringify(n),hc_metrics:JSON.stringify(r)}}function C(e){return e?{banner_view_id:e}:{}}function T(e){return e?{progress_id:e}:{}}function I(e,t,n){const r=`${E.api_base}/messenger/web/self_serve_suggestions`,i={query:t,answers_limit:n};return a.b.post({url:r,session:e,params:i})}function j(e){return{conversations:e.conversations.map(P),pages:R(e.pages)}}function w(e){return{unreadConversationIds:(e.unread_conversation_ids||[]).map(e=>e.toString()),unreadDismissedConversationIds:(e.unread_dismissed_conversation_ids||[]).map(e=>e.toString())}}function R(e){return{page:e.page,perPage:e.per_page,totalPages:e.total_pages}}function A(e){if(e.conversation_message.team_author){return 0===(e.conversation_parts?e.conversation_parts.conversation_parts||e.conversation_parts:[]).filter(e=>e.author.is_admin&&!e.author.is_bot).length}return!1}function N(e){return A(e)||!e.last_participating_admin?void 0:ee(e.last_participating_admin)}function P(e){return{composerState:M(e.composer_state),dismissed:e.dismissed,id:e.id,intercomLinkSolution:e.intercom_link_solution,lastPartCreatedAt:Object(d.c)(e.updated_at),lastParticipatingAdmin:N(e),participants:e.participants||[],parts:[F(e),...z(e)],preventEndUserReplies:e.prevent_end_user_replies,inboundConversationsDisabled:e.inbound_conversations_disabled,read:e.read,readAt:e.read_at?Object(d.c)(e.read_at):void 0,replyPlaceholder:e.reply_area_placeholder,userParticipated:e.user_participated,notificationStatus:e.notification_status,currentChannel:e.current_channel,analyticsMetadata:{customBotId:e.analytics_metadata?e.analytics_metadata.custom_bot_id:void 0}}}function M(e){if(e)return{visible:e.visible,customBotActive:e.custom_bot_active,selfServeSuggestionsEnabled:e.self_serve_suggestions_enabled}}function D(e){return{id:e.id,name:e.name,description:e.description,sections:e.sections,articleCount:e.article_count}}function U(e){return{articles:e.articles.map(e=>{var t,n,r;const i={id:e.id,url:e.url};var s,o;if(null!==(t=e.highlight)&&void 0!==t&&t.title)i.title=null===(s=e.highlight)||void 0===s?void 0:null===(o=s.title)||void 0===o?void 0:o[0];else if(null!==(n=e.highlight)&&void 0!==n&&n.summary){var c,a;i.title=e.title,i.summary=(null===(c=e.highlight)||void 0===c?void 0:null===(a=c.summary)||void 0===a?void 0:a.join("..."))||e.summary}else if(null!==(r=e.highlight)&&void 0!==r&&r.body){var u,d;i.title=e.title,i.summary=(null===(u=e.highlight)||void 0===u?void 0:null===(d=u.body)||void 0===d?void 0:d.join("..."))||e.summary}else i.title=e.title;return i})}}function L(e=[]){return e.map(k)}function k(e){return{id:e.id,name:e.name,articles:e.articles.map(x)}}function x(e){return{id:e.id,title:e.title,url:e.url}}function G(e){return{author:(t=e.author,{avatar:{square128:t.avatar},firstName:t.first_name||t.name,name:t.name}),blocks:e.blocks,contentId:e.content_id,description:e.description,id:e.id,reactionsReply:le(e.reactions_reply),title:e.title,updatedAt:e.updated_at,url:e.url,alexandriaData:e.alexandria_data};var t}function V(e){return A(e)?{admins:(e.conversation_message.team_author.last_active_admins||[]).map(ee),name:e.conversation_message.team_author.name}:void 0}function F(e){const t=e.conversation_message;return{author:B(t.author),body:de(t.blocks||[],t.attachments||[]),clientId:t.client_assigned_uuid,createdAt:Object(d.c)(t.created_at),eventData:{},form:t.form,id:`message-${t.id}`,isMessage:!0,messageType:ce(t),notificationType:(n=t.delivery_option,{badge:"badge",full:"full",summary:"snippet"}[n]),partType:"message",pointerSelector:t.pointer_selector,reactionsReply:t.reactions_reply?le(t.reactions_reply):void 0,replyOptions:t.reply_options||[],replyType:t.reply_type,seenState:ue(t.seen_by_admin),sentAt:Object(d.c)(t.sent_at),showCreatedAt:t.show_created_at,teamAuthor:V(e)};var n}function B(e){return{admins:e.authors?e.authors.map(H):[],avatar:ie(e.avatar),firstName:$(e.first_name),id:e.id,initial:e.initial,isAdmin:e.is_admin,isBot:e.is_bot,isSelf:e.is_self,type:e.type.toLowerCase()}}function H(e){return{avatar:ie(e.avatar),firstName:$(e.first_name)}}function $(e){return e||""}function W(e=[]){return e.map(q)}function q(e){const t=e.from?ee(e.from):null;return _(_({},e),{},{from:t,reaction_set:(e.reaction_set||[]).map(pe)})}function z(e){let t=[];return e.conversation_parts&&(t=e.conversation_parts.conversation_parts||e.conversation_parts),t.filter(e=>"lightweight_reply_user_response"!==e.part_type).map(Q)}function Q(e){return{author:{avatar:ie(e.author.avatar),firstName:$(e.author.first_name),id:e.author.id,initial:e.author.initial,isAdmin:e.author.is_admin,isBot:e.author.is_bot,isSelf:e.author.is_self,type:e.author.is_admin?"admin":"user"},body:de(e.blocks||[],e.attachments||[]),clientId:e.client_assigned_uuid,conversationRating:fe(e),createdAt:Object(d.c)(e.created_at),eventData:oe(e.event_data,e.part_type),form:e.form,id:e.id,isMessage:!1,messageType:ce(e),partType:e.part_type,replyOptions:e.reply_options||[],seenState:ue(e.seen_by_admin),showCreatedAt:!0}}function Y(e){return{slotType:e.slot_type,messengerCardId:e.messenger_card_id}}function J(e){return e?(Object(p.d)("Tour received",e),{id:e.id.toString(),activeStepId:e.active_step_id.toString(),author:B(e.author),steps:(t=e.steps,i()(t,["order"],["asc"])).map(e=>{return{id:(t=e).id.toString(),blocks:t.blocks,order:t.order,progressionBehavior:(n=t.progression_behavior,K[n]),selector:t.selector,selectors:t.selectors,url:t.url};var t,n}),title:e.title,url:e.url,endTourAnimation:e.end_tour_animation,progressId:e.progress_id}):{};var t}const K=["manual","click","type"];function X(e){const t=e.install_mode;if(t){const e=t.active_subscription,n=t.user_hash_verified,r=t.secure_install_v2,i=t.messenger_enabled_for_visitors;return{activeSubscription:e,messengerEnabledForUsers:t.messenger_enabled_for_users,messengerEnabledForVisitors:i,secureInstallV2:r,userHashVerified:n}}}function Z(e){const{app:t}=e,n=function(e){return{anonymousInboundMessages:e.inbound_lead_messaging||e.inbound_lead_messaging_docs_site,composerSuggestionsAsQuickReplies:e.composer_suggestions_as_quick_replies,googleAnalytics:e.google_analytics,hubspotInstalled:e.hubspot_installed,inboundMessages:e.inbound_messages,launcherDiscoveryMode:e.launcher_discovery_mode,marketoEnrichmentInstalled:e.marketo_enrichment_installed,outboundMessages:e.outbound_messages,singlePageAppRateLimiting:e.single_page_app_rate_limiting,crossSiteCookies:e.cross_site_cookies,renderNativePickerInMobile:e.render_native_picker_in_mobile,openEndpoint:e.open_endpoint,openEndpointShadow:e.open_endpoint_shadow}}(e.modules.messages.features);return{activeAdmins:(t.active_admins||[]).map(ee),alignment:e.modules.customization.alignment,backgroundImage:t.messenger_background,boundWebEvents:(r=e.bound_web_events,r?r.map(he):[]),color:e.modules.messages.colors.base,customGoogleAnalyticsTrackerId:e.modules.messages.google_analytics_tracking_id,expectedResponseDelayTranslationKey:t.expected_response_delay_translation_key,launcherExpectedResponseDelayTranslationKey:t.launcher_expected_response_delay_translation_key,features:n,helpCenterSiteUrl:t.help_center_site_url||void 0,horizontalPadding:e.modules.customization.horizontal_padding,inboundConversationsDisabled:t.inbound_conversations_disabled||!1,accessToTeammateEnabled:t.access_to_teammate_enabled,isAudioEnabled:t.audio_enabled||!1,isDeveloperWorkspace:t.developer_workspace||!1,isErrorReportingDisabled:e.modules.error_reporting&&e.modules.error_reporting.disabled,isInstantBootEnabled:!0===e.modules.messages.instant_boot_enabled,isIntercomLinkEnabled:t.show_powered_by,temporaryExpectationsMessage:t.temporary_expectations_message,isLauncherEnabled:!0===e.modules.messages.use_activator,isOverrideSamplingEnabled:e.modules.metrics&&e.modules.metrics.enabled,logoUrl:t.messenger_logo_url,launcherLogoUrl:t.launcher_logo_url,name:t.name,officeHoursResponse:t.office_hours_response||void 0,originCookieDomain:e.origin_cookie_domain,realtimeConfig:{endpoints:e.modules.rtm.endpoints},secondaryColor:e.modules.messages.colors.secondary,selfServeSuggestionsMatch:t.self_serve_suggestions_match||!1,smsEnabled:t.sms_notifications_enabled||!1,teamGreeting:t.team_greeting,teamIntro:t.team_intro,upfrontEmailCollectionSetting:t.upfront_email_collection_setting,useCacheFor:t.use_cache_for,userConversationAttachmentsEnabled:t.user_conversation_attachments_enabled,userConversationGifsEnabled:t.user_conversation_gifs_enabled,verticalPadding:e.modules.customization.vertical_padding};var r}function ee(e){return{avatar:ie(e.avatar),calendarUrl:te(e.calendar_url),firstName:$(e.first_name),initial:e.initial||e.avatar.initials,intro:te(e.intro),isActive:e.is_active,isAdmin:!0,isBot:e.is_bot,isSelf:!1,jobTitle:te(e.job_title),lastActiveAt:Object(d.c)(e.last_active_at),location:e.location?ne(e.location):void 0,socialAccounts:(e.social_accounts||[]).map(re)}}function te(e){if(e&&0!==e.trim().length)return e}function ne(e){return{cityName:e.city_name,countryCode:e.country_code,countryName:e.country_name,timezoneOffset:e.timezone_offset}}function re(e){return{imageUrl:e.image_url,profileUrl:e.profile_url,provider:e.provider,username:e.username}}function ie(e){let t;return e.square_128?t=e.square_128:e.image_urls&&e.image_urls.square_128&&(t=e.image_urls.square_128),t?{square128:t}:{}}function se(e){return e}function oe(e,t){return"participant_added"!==t&&"participant_removed"!==t||(e.participant.avatar=ie(e.participant.avatar)),e||{}}function ce(e){const t=["chat","post","note","video","pointer"][e.message_style];return t||("attribute_collector"===e.part_type?"attributeCollector":ae(e,"link")||function(e,t){let n=!0;return e.blocks.forEach(e=>{e.type!==t&&(n=!1)}),n&&e.blocks.length>1}(e,"link")?"link":ae(e,"notificationChannelsCard")?"notificationChannels":ae(e,"conversationRating")?"conversationRating":void 0)}function ae(e,t){const n=e.blocks&&1===e.blocks.length&&e.blocks[0];return n&&n.type===t}function ue(e){return{unseen:"not-seen-yet",seen:"seen"}[e]||"not-seen-yet"}function de(e,t){if(function(e){return 1===e.length&&"videoReply"===e[0].type}(e))return e;if(function(e){return 1===e.length&&"videoFile"===e[0].type}(e))return function(e){return[Object.assign({},e[0])]}(e);const n=[];return function(e,t){if(0===e.length)return t;const n=[];return e.map(e=>{e.attachments.map(e=>n.push(e.url))}),t.filter(e=>n.indexOf(e.url)<0)}(e.filter(e=>"attachmentList"===e.type),t).forEach(e=>{!function(e){return e.content_type.indexOf("image")>=0}(e)?n.push(function(e){return{type:"attachmentList",attachments:[{contentType:e.content_type,name:e.name,size:e.size,url:e.url}]}}(e)):n.push(function(e){return{height:parseInt(e.height,10),type:"image",url:e.url,width:parseInt(e.width,10)}}(e))}),e.concat(n)}function le(e){return{reactionIndex:e.reaction_index,reactionSet:(e.reaction_set||[]).map(pe)}}function pe(e){return{emoji:e.unicode_emoticon,index:e.index}}function fe(e){if("conversationRating"!==ce(e))return{};const{remark:t}=e.blocks[0];return{chosenRating:e.blocks[0].rating_index,remark:t}}function he(e){return{id:e.id,description:e.description,name:e.name,selector:e.selector,sourceUrl:e.source_url,trigger:e.trigger,urlRegex:e.url_regex}}function be(e){return{cards:e.cards,cardsSuccess:e.cards_success,conversations:e.conversations.map(P),hasMoreConversations:e.has_more_conversations,articleCollections:e.article_collections.map(D)}}function _e(e){return e?e.map(e=>_(_({},e),{},{serialized_object:ge(e.ruleset_link_object_type,e.serialized_object)})):[]}function ge(e,t){switch(e){case"inbound_trigger":case"inbound_custom_bot":return me(t);case"messenger_trigger":case"button_custom_bot":return{id:(n=t).id,event:n.event,preAction:n.messenger_pre_action,selector:n.selector};default:return t}var n}function me(e){return e?{composerDisabled:e.composer_disabled,prompt:e.prompt,rulesetId:e.ruleset_id,suggestions:e.suggestions.map(e=>function(e){return{preAction:e.pre_action,text:e.text,uuid:e.uuid}}(e)),updatedAt:e.updated_at,priority:e.priority}:null}function Oe(e){return e?{id:e.id,parts:e.parts,operator:B(e.operator)}:null}function Ee(e){const t=Object(f.b)(window);t&&(e.sdk_webview_platform=t)}function Se(){return`${E.api_base}/messenger/web/conversations/transcript`}t.b={addConversationRatingRemark:function(e,t,n){const r=`${E.api_base}/messenger/web/conversations/${t}/remark`,i={remark:n};return a.b.post({url:r,session:e,params:i}).then(()=>{})},buildBanner:q,buildComment:Q,buildComposerSuggestions:me,buildBotIntro:Oe,buildTour:J,changeConversationRatingIndex:function(e,t,n){const r=`${E.api_base}/messenger/web/conversations/${t}/rate`,i={rating_index:n};return a.b.post({url:r,session:e,params:i}).then(()=>{})},collectEmailFromBanner:function(e,t,n,r){const i=`${E.api_base}/messenger/web/banners/${t}/collect_email`,s=Object.assign({email:r},C(n));return a.b.post({url:i,session:e,params:s})},completeTour:function(e,t,n){const r=`${E.api_base}/messenger/web/tours/${t}/complete`,i=T(n);return a.b.post({url:r,session:e,params:i})},createArticleReaction:function(e,t,n,r=!1,i=null,s="help_center",o=null){const c=`${E.api_base}/messenger/web/articles/${t}/react`,u={reaction_index:n,allow_auto_responses:r,article_content_id:i,article_channel:s,article_source:o};return a.b.post({url:c,session:e,params:u}).then(()=>{})},createComment:function(e,t,n,r,i,s,o){const c=`${E.api_base}/messenger/web/conversations/${t}/reply`,u=v(r,i,s,n,o);return a.b.post({url:c,session:e,params:u}).then(e=>Object.assign({},Q(e),{clientId:n}))},createConversation:function(e,{blocks:t,createdAt:n,upload:r,email:i,composerSuggestions:s,selfServeSuggestionsMatch:o,resolutionBotBehaviorVersionId:c,botIntro:u,currentUrl:d,startedFromSearchBrowse:l=!1}){const p={url:`${E.api_base}/messenger/web/messages`,session:e,params:v(t,n,r,null,i,s,o,u,c,l)};return d&&(p.currentUrl=d),a.b.post(p).then(P)},createEvent:function(e,t,n){const r=`${E.api_base}/messenger/web/events`,i={event_name:t,metadata:n},s={event_list:JSON.stringify({data:[i]})};return a.b.post({url:r,session:e,params:s}).then(e=>{if(!o()(e))return function(e){const{banner:t,custom_bot:n,client_matches:r}=e[0];return{banner:t?q(t):t,customBot:n?P(n):n,clientsideRulesetConditions:_e(r||[])}}(e)})},createMetrics:function(e,t,n=[],r=[],i=[]){const s=`${E.api_base}/messenger/web/metrics`,o=y(t,n,r,i);return a.b.post({url:s,session:e,params:o,shouldSetUserData:!1})},createMetricsWithBeacon:function(e,t,n=[],r=[],i=[]){const s=y(t,n,r,i);return a.b.sendBeacon({url:`${E.api_base}/messenger/web/metrics`,session:e,params:s,shouldSetUserData:!1})},createOrUpdateUser:function(e,t={},n,r,i,s,o=!1){t=O({},t),void 0!==n&&(t.anonymous_email=n);const c={source:i,sampling:o};void 0!==r&&(c._intercomEncryptedPayload=r);const u=`${E.api_base}/messenger/web/ping`;return a.b.post({url:u,session:e,params:c,customAttributes:t,internal:s}).then(e=>{const{errors:t}=e;return t?{errors:t}:function(e){var t;const{user:n}=e;e.active_tour&&Object(p.d)("Tour attempting to resume from ping",e.active_tour);return{id:n.id,activeCompanyId:n.active_company_id||"-1",activeTour:J(e.active_tour),anonymousId:n.anonymous_id,anonymousSession:e.anonymous_session,app:Z(e),articleConversationId:JSON.stringify(e.article_conversation_id),banners:W(e.banners),cdasBreachingLimit:e.cdas_breaching_limit||[],clientsideMessageConditions:e.client_messages,clientsideRulesetConditions:_e(e.client_matches),composerSuggestions:me(e.composer_suggestions),botIntro:Oe(e.bot_intro),requiresCookieConsent:n.requires_cookie_consent,resolutionBotBehaviorVersionId:e.resolution_bot_behavior_version_id,countryCode:n.country_code,hasConversations:!1!==n.has_conversations,homeScreenSlots:(null===(t=n.home_screen_slots)||void 0===t?void 0:t.map(Y))||[],identityVerificationReady:e.identity_verification_ready,identityVerified:e.identity_verified,installModeConfig:X(e),lastContactedAt:n.last_contacted_at,locale:n.locale,newConversationComposerState:M(e.composer_state),notificationLinkConversationId:e.notification_link_conversation_id,phoneNumber:n.phone_number,role:(r=n.role,{contact_role:"lead",user_role:"user",visitor_role:"visitor"}[r]),unreadConversationIds:(e.unread_conversation_ids||[]).map(e=>e.toString()),unreadDismissedConversationIds:(e.unread_dismissed_conversation_ids||[]).map(e=>e.toString()),userSuppliedEmail:n.anonymous_email,newSession:n.new_session,searchRequiredBeforeConversation:n.help_center_require_search};var r}(e)})},sendMessengerOpen:function(e,t){const n={};t&&(n.initial_view=t);const r=`${E.api_base}/messenger/web/open`;return a.b.post({url:r,session:e,params:n}).then(e=>{const{errors:t}=e;return t?{errors:t}:{composerSuggestions:me(e.composer_suggestions),clientsideRulesetConditions:_e(e.client_matches)}})},createReaction:function(e,t,n){const r=`${E.api_base}/messenger/web/conversations/${t}/react`,i={reaction_index:n};return a.b.post({url:r,session:e,params:i}).then(()=>{})},createUpload:function(e,t,n){return new Promise((r,i)=>{const s=new FormData;s.append("key",e.key),s.append("acl",e.acl),s.append("Content-Type",e.content_type),s.append("AWSAccessKeyId",e.aws_access_key),s.append("policy",e.policy),s.append("signature",e.signature),s.append("success_action_status",e.success_action_status),s.append("file",t);const o=new XMLHttpRequest;o.upload.addEventListener("progress",(function(e){const{lengthComputable:t,loaded:r,total:i}=e;if(!n||!t)return;const s=parseInt(r/i*100);n(s)}),!1),o.addEventListener("error",(function(){i()}),!1),o.addEventListener("abort",(function(){i()}),!1),o.addEventListener("load",(function(t){201===t.target.status?r({id:e.id,publicUrl:e.public_url,contentType:e.content_type}):i()}),!1),o.open("POST",e.upload_destination,!0),o.send(s)})},createUploadPolicy:function(e,t,n,r){const i=`${E.api_base}/messenger/web/uploads`,s={upload:JSON.stringify({original_filename:Object(u.a)(t.name),size_in_bytes:t.size,content_type:t.type,width:n,height:r})};return a.b.post({url:i,session:e,params:s}).then(se)},disableInstallMode:function(e){const t=`${E.api_base}/messenger/web/install`;return a.b.post({url:t,session:e})},dismissBanner:function(e,t,n){const r=`${E.api_base}/messenger/web/banners/${t}/dismiss`,i=C(n);return a.b.post({url:r,session:e,params:i})},dismissNotifications:function(e,t){const n=`${E.api_base}/messenger/web/conversations/dismiss`,r={conversation_ids:t};return a.b.post({url:n,session:e,params:r}).then(()=>{})},fetchMessengerSheetData:function(e,t,n,r){const i=`${E.api_base}/messenger/web/sheets/open`,s={action_id:n,uri:t,values:JSON.stringify(r)};return a.b.post({url:i,session:e,params:s})},fetchMessengerSheetDataWithToken:function(e,t,n){const r=`${E.api_base}/messenger/web/messenger_card_view/open_sheet`,i={action_id:t,token:e,values:JSON.stringify(n)};return a.b.post({url:r,params:i})},fetchTour:function({session:e,tourId:t,token:n}={}){if(!e&&!n)return Object(p.d)("A session or a token must be supplied when fetching a tour"),Promise.reject("missing_session_and_token");if(e)return Object(p.d)("Attempting to fetch tour with session data."),a.b.post({url:`${E.api_base}/messenger/web/tours/${t}/fetch`,session:e}).then(J);{Object(p.d)("Attempting to fetch tour for messenger card in fallback state.");const e={token:n};return a.b.post({url:`${E.api_base}/messenger/web/tours/${t}/fetch_with_token`,params:e}).then(J)}},fireComposerSuggestion:function(e,{conversationId:t,suggestion:n,clientId:r,botIntro:i,resolutionBotBehaviorVersionId:s}){const o=t?`${E.api_base}/messenger/web/conversations/${t}/reply`:`${E.api_base}/messenger/web/messages`,c={composer_suggestion:JSON.stringify(n),client_assigned_uuid:r};return t&&(c.conversation_id=t),i&&(c.bot_intro=i),s&&(c.resolution_bot_behavior_version_id=s),a.b.post({url:o,session:e,params:c}).then(t?Q:P)},fireTrigger:function(e,{triggerId:t,clientAssignedUUID:n}){const r=`${E.api_base}/messenger/web/triggers/${t}/fire`,i={client_assigned_uuid:n};return a.b.post({url:r,session:e,params:i})},getArticle:function(e,t,n,r=!1){const i=`${E.api_base}/messenger/web/articles/${t}`,s=function(e,t){return{conversation_id:e,browse_mode:t}}(n,r);return a.b.post({url:i,session:e,params:s}).then(G)},getArticleByURL:function(e,t){const n=`${E.api_base}/messenger/web/articles/url`,r={url:t};return a.b.post({url:n,session:e,params:r}).then(G)},getArticleReaction:function(e,t,n,r){const i=`${E.api_base}/messenger/web/articles/get_reaction`,s={article_id:t,article_content_id:n};a.b.post({url:i,session:e,params:s}).then(e=>{e?r(null,e):r()}).catch(e=>{r(e)})},getArticleSectionsInCollection:function(e,t){const n=`${E.api_base}/messenger/web/article_collections/${t}/articles`;return a.b.post({url:n,session:e}).then(L)},getCardView:function(e){const t=`${E.api_base}/messenger/web/messenger_card_view/`,n={token:e};return a.b.post({url:t,params:n})},getConversation:function(e,t,n){const r=`${E.api_base}/messenger/web/conversations/${t}`,i={self_serve_suggestions_match:n};return a.b.post({url:r,session:e,params:i}).then(P)},getConversationTranscriptURL:Se,getConversations:function(e,{source:t,page:n,perPage:r,selfServeSuggestionsMatch:i}){const s=`${E.api_base}/messenger/web/conversations`,o={page:n,per_page:r,source:t,self_serve_suggestions_match:i};return a.b.post({url:s,session:e,params:o}).then(j)},getHomeScreenCards:function(e,{homeScreenSlots:t,selfServeSuggestionsMatch:n,includeArticleCollections:r}){const i=`${E.api_base}/messenger/web/home_cards`,s={slot_card_ids:t.map(e=>e.messengerCardId),self_serve_suggestions_match:n,include_article_collections:r};return a.b.post({url:i,session:e,params:s}).then(be)},getMessengerCanvasContentWithToken:function(e,t){const n=`${E.api_base}/messenger/web/messenger_card_view/live_content`,r={token:e,canvas_id:t};return a.b.post({url:n,params:r}).then(e=>Object.assign(e,{id:t}))},getMessengerCanvasWithContent:function(e,t,n){const r=`${E.api_base}/messenger/web/messenger_cards/content`,i={canvas_id:t,uri:n};return Ee(i),a.b.post({url:r,session:e,params:i}).then(e=>Object.assign(e,{id:t}))},getUnreadConversations:function(e){const t=`${E.api_base}/messenger/web/conversations/unread`;return a.b.post({url:t,session:e}).then(w)},markConversationAsRead:function(e,t){const n=`${E.api_base}/messenger/web/conversations/${t}/read`;return a.b.post({url:n,session:e}).then(P)},outboundPreview:function(e,t){const n=`${E.api_base}/messenger/web/custom_bots/${t}/outbound_preview`;return a.b.post({url:n,session:e})},progressTour:function(e,t,n,r){const i=Object.assign({step_id:n},T(r));return a.b.sendBeacon({url:`${E.api_base}/messenger/web/tours/${t}/progress`,session:e,params:i})},quickReply:function(e,t,n,r,i){const s=`${E.api_base}/messenger/web/conversations/${t}/quick_reply`,o=function(e,t,n){return{client_assigned_uuid:n,conversation_part:JSON.stringify({id:e,reply_option:t})}}(n,r,i);return a.b.post({url:s,session:e,params:o}).then(Q)},reactToBanner:function(e,t,n,r){const i=`${E.api_base}/messenger/web/banners/${t}/react`,s=Object.assign({reaction:r},C(n));return a.b.post({url:i,session:e,params:s})},recordInteractions:function(e,t,n){const r=`${E.api_base}/messenger/web/conversations/${t}/record_interactions`,i={interactions:n};return a.b.post({url:r,session:e,params:i}).then(()=>{})},recordTourFailure:function(e,t,n,r,i,s){const o=`${E.api_base}/messenger/web/tours/${t}/record_failure`,c={failed_selector:r,failure_url:i,tour_step_id:n},u=Object.assign(c,T(s));return a.b.post({url:o,session:e,params:u})},rulesetConditionSatisfied:function(e,t,n,r,i,s,o){const c=`${E.api_base}/messenger/web/rulesets/${t}/match`,u={user_id:r,company_id:i,ruleset_link_id:n,predicates:JSON.stringify(s)};return o&&(u.checkpoint_id=o),a.b.post({url:c,session:e,params:u}).then(e=>{let{custom_bot:t,composer_suggestions:n,predictive_answers_suggestions:r}=e;return _(_({},m(e,h)),{},{customBot:t,composerSuggestions:me(n),answerbotPredictiveContexts:r})})},searchGifs:function(e,t){const n=`${E.api_base}/messenger/web/gifs`,r={query:t};return a.b.post({url:n,session:e,params:r})},sendBeaconEvent:function(e,t,n){const r={event_name:t,metadata:n};return a.b.sendBeacon({url:`${E.api_base}/messenger/web/events`,session:e,params:{event_list:JSON.stringify({data:[r]})}})},startConversationFromSuggestion:function(e,{suggestionUuid:t,clientAssignedUUID:n,selfServeSuggestionsMatch:r,articleUrl:i=null}){const s=`${E.api_base}/messenger/web/custom_bots/trigger_inbound_conversation`,o={id:t,client_assigned_uuid:n,self_serve_suggestions_match:r};return i&&(o.search_browse=!0),a.b.post({url:s,session:e,params:o,currentUrl:i}).then(P)},stopTour:function(e,t,n){const r=`${E.api_base}/messenger/web/tours/${t}/stop`,i=T(n);return a.b.post({url:r,session:e,params:i})},searchArticles:function(e,t){const n=`${E.api_base}/messenger/web/articles/search`,r={phrase:t};return a.b.post({url:n,session:e,params:r}).then(U)},submitMessengerCardAction:function(e,t,n,r){const i=`${E.api_base}/messenger/web/messenger_cards`,s={action_id:n,uri:t,values:JSON.stringify(r)};return Ee(s),a.b.post({url:i,session:e,params:s})},submitMessengerCardActionWithToken:function(e,t,n){const r=`${E.api_base}/messenger/web/messenger_card_view/submit`,i={action_id:t,token:e,values:JSON.stringify(n)};return a.b.post({url:r,params:i})},submitSheet:function(e,t,n){const r=`${E.api_base}/messenger/web/sheets/submit`,i={uri:t,sheet_values:JSON.stringify(n)};return a.b.post({url:r,session:e,params:i})},submitSheetWithToken:function(e,t){const n=`${E.api_base}/messenger/web/messenger_card_view/submit_sheet`,r={token:e,sheet_values:JSON.stringify(t)};return a.b.post({url:n,params:r})},triggerTransitions:function(e,t,n){const r=`${E.api_base}/messenger/web/operator/trigger`,i=function(e,{type:t,payload:{composerHasContent:n,executionTime:r}={}}){return{type:t,payload:JSON.stringify({composer_has_content:n,execution_time:r}),meta:JSON.stringify({conversation_id:e})}}(t,n);return a.b.post({url:r,session:e,params:i}).then(P)},updateConversationForm:function(e,t,n,r,i,s){const o=s?{identifier:r,value:i,conversation_part_id:n,upfront_email_collection:s}:{identifier:r,value:i,conversation_part_id:n},c=`${E.api_base}/messenger/web/conversations/${t}/form`,u={form_params:JSON.stringify(o)};return a.b.post({url:c,session:e,params:u}).then(P)},updatePhoneNumber:function(e,t){const n=`${E.api_base}/apps/${e.appId}/notification_channels/phone_number`,r={phone_number:t};return a.b.post({url:n,session:e,params:r})},visitorAutoMessageConditionSatisfied:function(e,t){const n=`${E.api_base}/messenger/web/messages/${t.id}/match`,r={predicates:JSON.stringify(t.predicates)};return a.b.post({url:n,session:e,params:r}).then(e=>{if(!o()(e))return P(e)})},generateArticleCard:function(e,t){const n=`${E.api_base}/messenger/web/articles/${t}/card`;return a.b.post({url:n,session:e})}}},function(e,t,n){"use strict";var r=n(8);var i=function(e,t,n,r,i,s){const o=new XMLHttpRequest;o.onerror=()=>s(),o.onabort=()=>s(),o.onload=()=>{const{readyState:e,status:t,response:n}=o;4===e&&(t>=200&&t<300?i(n):s(n))},o.open(t,e,!0),o.withCredentials=!0,Object.keys(n).forEach(e=>{o.setRequestHeader(e,n[e])}),o.send(r)};const s=r.a.hasXhr2Support();var o=(e,t,n)=>new Promise((r,o)=>{if(!s)throw new Error("Browser does not support XMLHttpRequest.");i(e,"POST",t,n,r,o)});function c(e){return Math.floor(4294967296*(1+e())).toString(16).substring(1)}var a=n(88),u=n(18);n.d(t,"a",(function(){return d}));function d(e,t,n,i,s,o,d,l=!0){var p;i=i||(null===(p=Object(u.d)())||void 0===p?void 0:p.href),o=o||Object(u.e)(),i=Object(a.b)(i),o=Object(a.b)(o),r.a.isNativeMobile()&&(i=void 0),s=s||function(e=Math.random){return c(e)+c(e)}();const{appId:f,anonymousSession:h,sessionId:b,hostUserAgent:_,activeCompanyId:g}=e,m={app_id:f,v:3,g:"ee3991f0b23d32c5cf6a8c186b903b8e0b1254fc",s:b,r:o,platform:r.a.isMobileBrowser()?"mobile_web":"web","Idempotency-Key":s,internal:d?JSON.stringify(d):"",page_title:Object(u.b)(),user_active_company_id:g};l&&(m.user_data=function(e,t){const{userId:n,email:r,userHash:i,anonymousId:s}=e,o=Object.assign({email:r,user_id:n,user_hash:i,anonymous_id:s},t);return JSON.stringify(o)}(e,n));const O=Object.assign(m,t);return void 0!==i&&(O.referer=i),void 0!==h&&(O.anonymous_session=h),void 0!==_&&(O.host_user_agent=_),O}function l(e){const t=[];return Object.keys(e).forEach(n=>{const r=e[n];n=encodeURIComponent(n),Array.isArray(r)?r.forEach(e=>t.push(`${n}[]=${encodeURIComponent(e)}`)):t.push(`${n}=${encodeURIComponent(r)}`)}),t.join("&")}function p(e){try{return JSON.parse(e)}catch(t){return e}}t.b={buildBody:d,post:function({url:e,session:t={},params:n={},customAttributes:r=null,currentUrl:i=null,idempotencyKey:s=null,referrer:c=null,internal:a=null,shouldSetUserData:u=!0}){if(!t)return Promise.reject("http_post_session_empty");const f=d(t,n,r,i,s,c,a,u);return o(e,{"Content-Type":"application/x-www-form-urlencoded"},l(f)).then(p)},sendBeacon:function({url:e,session:t={},params:n={},customAttributes:r=null,currentUrl:i=null,idempotencyKey:s=null,referrer:c=null,internal:a=null,shouldSetUserData:u=!0}){var f,h,b;if(!t)return Promise.reject("http_post_session_empty");const _=d(t,n,r,i,s,c,a,u);if(null!==(f=window)&&void 0!==f&&null!==(h=f.parent)&&void 0!==h&&null!==(b=h.navigator)&&void 0!==b&&b.sendBeacon){const t={type:"application/x-www-form-urlencoded"};return window.parent.navigator.sendBeacon(e,new Blob([l(_)],t))?Promise.resolve():Promise.reject()}return o(e,{"Content-Type":"application/x-www-form-urlencoded"},l(_)).then(p)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=()=>window.INTERCOM_PRIVILEGE_SEPARATION},function(e,t,n){"use strict";n.d(t,"l",(function(){return m})),n.d(t,"o",(function(){return O})),n.d(t,"m",(function(){return E})),n.d(t,"c",(function(){return S})),n.d(t,"t",(function(){return v})),n.d(t,"k",(function(){return y})),n.d(t,"j",(function(){return C})),n.d(t,"h",(function(){return T})),n.d(t,"i",(function(){return I})),n.d(t,"g",(function(){return j})),n.d(t,"e",(function(){return w})),n.d(t,"f",(function(){return R})),n.d(t,"d",(function(){return A})),n.d(t,"q",(function(){return N})),n.d(t,"a",(function(){return D})),n.d(t,"u",(function(){return U})),n.d(t,"b",(function(){return L})),n.d(t,"s",(function(){return k})),n.d(t,"n",(function(){return x})),n.d(t,"r",(function(){return G})),n.d(t,"p",(function(){return V}));var r=n(8),i=n(35),s=n(6),o=n(25),c=n(2),a=n(3),u=n(213),d=n(1),l=n(16),p=n(27),f=n(54),h=n(161),b=n(9),_=n(217),g=n(45);function m(e,t,n=!1,r=null){return(i,o)=>{i(function(e,t=!1){return{type:"GET_CONVERSATION_REQUEST",conversationId:e,isUpdating:t}}(t,n));const{session:c,operator:a,app:u}=o();return e.getConversation(c,t,u.selfServeSuggestionsMatch).then(t=>{if(i(function(e){return(t,n)=>{const r=n(),{newConversation:i}=r,o=Object(b.f)(r);try{Object(s.e)(e).clientId===Object(s.e)(i).clientId&&"conversation"!==o&&(t(I(e,null,null,Date.now(),"custom_bot")),t(Object(g.a)(e.id,!0)))}catch(e){}}}(t)),i(O(e,t,!1,Date.now())),a){const{lastComposerEvent:e,userCreatedConversationAt:n,lastTriggerTransitionTimestamp:r}=a;Object(l.j)(t,r),Object(l.i)(t,n,e)}r&&Object(f.a)()&&Object(d.g)("newCommentEvent",{duration_ms:Object(p.a)(r)})}).catch(e=>i(function(e,t){return{type:"GET_CONVERSATION_FAILURE",conversationId:e,error:t}}(t,e)))}}function O(e,t,n,r){return o=>{Object(s.s)(t).forEach(t=>o(Object(i.a)(e,t,!1))),o(function(e,t=!1,n){return{type:"GET_CONVERSATION_SUCCESS",conversation:e,skipNotification:t,createdAt:n}}(t,n,r))}}function E(e,t){return(n,r)=>{n(function(e){return{type:"MARK_CONVERSATION_AS_READ_REQUEST",conversationId:e}}(t));const{session:i}=r();return e.markConversationAsRead(i,t).then(()=>n(function(e){return{type:"MARK_CONVERSATION_AS_READ_SUCCESS",conversationId:e}}(t))).catch(e=>n(function(e,t){return{type:"MARK_CONVERSATION_AS_READ_FAILURE",conversationId:e,error:t}}(t,e)))}}function S(e){return{type:"CONVERSATION_READ_ELSEWHERE",conversationId:e}}function v(e){return{type:"USER_CONTENT_SEEN_BY_ADMIN",conversationId:e}}function y(e,t,n,r){return(i,s)=>{i(function(e,t,n){return{type:"CREATE_REACTION_REQUEST",conversationId:e,reactionIndex:t,isFromConversation:!!n}}(t,n,r));const{session:o}=s();return e.createReaction(o,t,n).then(()=>i(function(e,t){return{type:"CREATE_REACTION_SUCCESS",conversationId:e,reactionIndex:t}}(t,n))).catch(e=>i(function(e,t,n){return{type:"CREATE_REACTION_FAILURE",conversationId:e,reactionIndex:t,error:n}}(t,n,e)))}}function C(e,t,n,r=!1,i=!1,s=null,o=null,c=!1,a){return void 0===t?function(e,t,n=!1,r,i,s){return(o,c)=>{const a=c(),{session:u,app:d,user:l,newConversation:p}=a,{body:f,createdAt:h}=t;return o(T(t,n,s,Date.now())),s&&o({type:"UPFRONT_EMAIL_COLLECTION_SUBMITTED"}),P(e,u,t,e=>o(M(t,e))).then(t=>{const n={blocks:f,createdAt:h,upload:t,email:s,composerSuggestions:Object(_.a)(a),selfServeSuggestionsMatch:d.selfServeSuggestionsMatch,botIntro:p?p.botIntroId:null,resolutionBotBehaviorVersionId:l?l.resolutionBotBehaviorVersionId:null};return p&&p.articleUrl&&(n.currentUrl=p.articleUrl,n.startedFromSearchBrowse=!0),e.createConversation(u,n)}).then(e=>{o(I(e,r,i,Date.now()))}).catch(e=>o(j(e)))}}(e,n,r,o,c,a):function(e,t,n,r=!1,i=!1,s,o,c,a){return(u,d)=>{const{session:l}=d(),{body:p,createdAt:f,clientId:h}=n;return u(w(t,n,r,a)),a&&u({type:"UPFRONT_EMAIL_COLLECTION_SUBMITTED"}),P(e,l,n,e=>u(M(n,e,t))).then(n=>e.createComment(l,t,h,p,f,n,a)).then(e=>{u(R(t,e,i,s,o,c,Date.now()))}).catch(e=>u(A(t,n,e)))}}(e,t,n,r,i,s,o,c,a)}function T(e,t,n,r=Date.now()){return{type:"CREATE_CONVERSATION_REQUEST",part:e,isRetry:t,timestamp:r,email:n}}function I(e,t,n,r,i){return{type:"CREATE_CONVERSATION_SUCCESS",conversation:e,officeHoursResponse:t,isAnnotatedImage:n,createdAt:r,conversationTriggerType:i}}function j(e){return{type:"CREATE_CONVERSATION_FAILURE",reason:e}}function w(e,t,n,r){return{type:"CREATE_COMMENT_REQUEST",conversationId:e,part:t,isRetry:n,email:r}}function R(e,t,n,r,i,s,o,c=!1){return{type:"CREATE_COMMENT_SUCCESS",conversationId:e,part:t,isBorderless:n,lastParticipatingAdmin:r,officeHoursResponse:i,isAnnotatedImage:s,createdAt:o,fromMessengerSuggestedContent:c}}function A(e,t,n){return{type:"CREATE_COMMENT_FAILURE",conversationId:e,part:t,reason:n}}function N(e,t,n){const{id:r}=t;return i=>{if(n.selectedReplyOption||n.composerSuggestionItem){let r,s;return n.selectedReplyOption?(r=n.selectedReplyOption.replyOption,s=n.selectedReplyOption.quickReplyPart):r=n.composerSuggestionItem,i(Object(h.a)(e,t,r,!0,s))}return i(C(e,r,n,!0))}}function P(e,t,n,r){const{file:i,body:s}=n,{width:o,height:c}=s[0];return i?i.size>41943040?Promise.reject("file_size"):e.createUploadPolicy(t,i,o,c).then(t=>e.createUpload(t,i,r)):Promise.resolve()}function M(e,t,n){return{type:"UPDATE_UPLOAD_PROGRESS",conversationId:n,part:e,progress:t}}function D(e,t,n,r,i=new Date){return{type:"ADMIN_IS_TYPING",conversationId:e,adminId:t,firstName:n,avatarUrl:r,lastActiveAt:i}}function U(e){return{type:"USER_IS_TYPING",conversationId:e}}function L(e,t,n=new Date){return{type:"COMPOSER_CONTENT_CHANGED",conversationId:e,composerContent:t,lastActiveAt:n}}function k(e,t,n,r,i,s,o,c,a){return(d,l)=>{const{session:p,user:f}=l();return d(function(e,t,n,r,i,s,o){return{type:"UPDATE_CONVERSATION_FORM_REQUEST",conversationId:e,partId:t,identifier:n,value:r,identifierType:i,formType:s,isCustomData:o}}(t,n,r,i,s,o,c)),e.updateConversationForm(p,t,n,r,i,a).then(e=>{d(function(e,t,n,r){return{type:"UPDATE_CONVERSATION_FORM_SUCCESS",conversation:e,partId:t,identifier:n,createdAt:r}}(e,n,r,Date.now())),"email"===r&&d(Object(u.d)(f,i))}).catch(e=>{d(function(e,t,n,r){return{type:"UPDATE_CONVERSATION_FORM_FAILURE",conversationId:e,partId:t,identifier:n,error:r}}(t,n,r,e,Date.now()))})}}function x(e){return(t,n)=>{const{session:i}=n();let s=Object(c.e)();Object(r.h)()&&(s+=`?v=${Math.floor(1e8*Math.random())}`),Object(o.w)(s,Object(a.a)(i,{conversation_id:e}))}}function G(e){return{type:"SET_NEW_CONVERSATION_COMPOSER_STATE",composerState:e}}function V(e,t,n){return(r,i)=>{const{session:s}=i();return e.recordInteractions(s,t,n)}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return E})),n.d(t,"d",(function(){return S})),n.d(t,"a",(function(){return v})),n.d(t,"j",(function(){return y})),n.d(t,"i",(function(){return C})),n.d(t,"l",(function(){return T})),n.d(t,"q",(function(){return I})),n.d(t,"p",(function(){return j})),n.d(t,"g",(function(){return w})),n.d(t,"m",(function(){return R})),n.d(t,"r",(function(){return A})),n.d(t,"e",(function(){return N})),n.d(t,"f",(function(){return P})),n.d(t,"k",(function(){return M})),n.d(t,"c",(function(){return D})),n.d(t,"s",(function(){return L})),n.d(t,"h",(function(){return k})),n.d(t,"t",(function(){return x})),n.d(t,"o",(function(){return G})),n.d(t,"n",(function(){return V}));var r=n(66),i=n.n(r),s=n(12),o=n.n(s),c=n(115),a=n.n(c),u=n(195),d=n.n(u),l=n(91),p=n.n(l),f=n(146),h=n.n(f),b=n(227),_=n.n(b),g=n(15),m=n(1);const{assign:O}=Object,E=e=>e.parts.filter(e=>e.author.isAdmin)[0],S=e=>Object(g.a)(e.parts.filter(e=>e.author.isAdmin)),v=e=>e.parts.reduce((e,t)=>e+(t.author.isAdmin?1:0),0),y=e=>1===e.parts.length&&"chat"===e.parts[0].messageType,C=e=>e.parts.length>1&&Object(g.a)(e.parts).author.isAdmin,T=e=>e.author.isBot&&"Operator"===e.author.firstName,I=(e,t)=>{if(!o()(t)){const n=e=>e.clientId||e.id,r=t.parts||[],s=a()([...e.parts,...r],n);return i()(s,["createdAt"],["asc"])}return e.parts},j=(e,t)=>{if(!o()(t)&&t.composerState){if(t.composerState.version>e.composerState.version)return t.composerState;t.composerState.version===e.composerState.version&&t.composerState.visible!==e.composerState.visible&&Object(m.b)(`Different composerState visibibility with same version number for conversation with id=${e.id}`)}return e.composerState},w=e=>{if(e&&e.parts&&0!==e.parts.length)return`${e.id}-${Object(g.a)(e.parts).id}`},R=e=>"partial"===e.fetchState,A=e=>{const t=S(e);return 1===e.parts.length?N(e):O({},t,{messageType:P(t)})},N=e=>{const{lastParticipatingAdmin:t}=e,n=t?t.lastActiveAt:void 0,r=t?t.isActive:void 0;return O({},e.parts[0],{lastActiveAt:n,isActive:r})},P=e=>e.messageType||"adminReply",M=e=>!(!e.identifier.startsWith("custom_data.")&&!e.identifier.startsWith("company.custom_data.")),D=(e,t)=>{const n=e.attributes.find(e=>e.identifier===t);if(n)return"string"===n.type&&Array.isArray(n.options)?"list":"email"===n.identifier?"email":"phone"===n.identifier?"phone":n.type},U=e=>{const t=h()(e.parts,e=>e.body);return p()(t,e=>"messengerCard"===e.type)},L=e=>h()(U(e),e=>d()(e,"type")),k=(e,t)=>_()(U(e),{uri:t}),x=e=>e.sort((e,t)=>t.lastPartCreatedAt-e.lastPartCreatedAt),G=e=>(e=>e.composerState.visible&&!e.inboundConversationsDisabled&&!e.preventEndUserReplies)(e)&&!(e=>"attribute_collector"===e.parts[0].replyType)(e),V=e=>e.parts&&Object(g.a)(e.parts)&&"pointer"===Object(g.a)(e.parts).messageType},function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return findAndValidateInputField})),n.d(t,"d",(function(){return f})),n.d(t,"a",(function(){return DelayedNodeVisibilityCheck}));var r=n(152),i=n.n(r),s=n(25),o=n(21),c=n.n(o),a=n(4),u=n(23);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.hash===e.hash}const p=e=>e.replace(/[\u200B-\u200D\uFEFF]/g,"");class findAndValidateInputField{constructor(e,t){d(this,"elements",void 0),d(this,"callback",void 0),d(this,"destroyed",void 0),d(this,"validateInputs",()=>{let e=!0;this.elements.forEach(t=>{"checkbox"!==t.type&&"radio"!==t.type&&this.elementHasEmptyValue(t)&&(e=!1)}),this.onChange(e)}),this.callback=t,this.destroyed=!1,this.elements=[];const n=window.parent.document.querySelector(e);if(n){const e=n.tagName.toLowerCase(),t="input"===e||"textarea"===e||"select"===e||n.isContentEditable;this.elements=t?[n]:n.querySelectorAll("input, textarea, select, div[contenteditable]")}}onChange(e){this.destroyed||this.callback(e)}destroy(){this.destroyed=!0,this.removeListeners()}elementHasEmptyValue(e){return e instanceof HTMLSelectElement?!p(e.options[e.selectedIndex].value):e.isContentEditable?!p(e.innerText||""):!p(e.value)}addListeners(){this.elements.forEach(e=>{"select"===e.tagName.toLowerCase()?e.addEventListener("change",this.validateInputs):e.addEventListener("input",this.validateInputs)})}removeListeners(){this.elements.forEach(e=>{"select"===e.type?e.removeEventListener("change",this.validateInputs):e.removeEventListener("input",this.validateInputs)})}run(){if(!this.elements.length)return this.callback(!0);this.validateInputs(),this.addListeners()}}const f=function(...e){c()("tours:debug")(...e)};class DelayedNodeVisibilityCheck{constructor(e,t,n,r){d(this,"selector",void 0),d(this,"timeoutValue",void 0),d(this,"callback",void 0),d(this,"timeout",void 0),d(this,"waitTimeout",void 0),d(this,"document",void 0),d(this,"observer",void 0),Object(a.a)()?Object(u.d)({selector:e,timeoutValue:t,wait:n},r):(this.selector=e,this.timeoutValue=t,this.document=window.parent.document,this.callback=r,this.observer=new MutationObserver(i()(this._check.bind(this),200)),this.waitTimeout=window.setTimeout(()=>{this._initObserver(),this._startTimer(),this._check()},n||0))}_initObserver(){this.document.body&&this.observer.observe(this.document.body,{attributes:!0,childList:!0,subtree:!0})}_check(){const e=this.document.querySelector(this.selector);Object(s.u)(e)?(this.callback(!0),this.cancel()):this.callback(!1)}_startTimer(){(this.timeoutValue||0===this.timeoutValue)&&(this.timeout=window.setTimeout(()=>{this.callback(!1),this.cancel()},this.timeoutValue))}cancel(){this.observer.disconnect(),this.timeout&&clearTimeout(this.timeout),this.waitTimeout&&clearTimeout(this.waitTimeout)}}},function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return a})),n.d(t,"g",(function(){return u})),n.d(t,"h",(function(){return d})),n.d(t,"e",(function(){return l})),n.d(t,"b",(function(){return p})),n.d(t,"f",(function(){return f})),n.d(t,"j",(function(){return h})),n.d(t,"i",(function(){return b}));var r=n(4);const i=/iphone|ipad|ipod|android|blackberry|opera mini|iemobile/i,s=[".intercom-lightweight-app-launcher",".intercom-launcher-frame","#intercom-container",".intercom-messenger",".intercom-notifications"];function o(e){try{if(!(e in window))return!1;const t=window[e];return null!==t&&(t.setItem("intercom-test","0"),t.removeItem("intercom-test"),!0)}catch(e){return!1}}function c(){return o("localStorage")}function a(){return!!(window.FileReader&&window.File&&window.FileList&&window.FormData)}function u(){const e=p().userAgent;return!!e&&(null!==e.match(i)&&void 0!==window.parent)}function d(){const e=p().vendor||"",t=p().userAgent||"";return 0===e.indexOf("Apple")&&/\sSafari\//.test(t)}function l(e=window){const t=p(),n="Google Inc."===t.vendor&&!e.chrome;return""===t.languages&&(t.webdriver||n)}function p(){return navigator||{}}function f(e=p().userAgent){return/iPad|iPhone|iPod/.test(e)&&!window.MSStream}function h(){return!Object(r.a)()&&s.some(e=>{const t=window.parent.document.querySelector(e);if(t){const e=window.getComputedStyle(t);return null===e||"none"===e.display}})}const b=()=>"ontouchstart"in window||navigator.maxTouchPoints>0;t.a={hasXhr2Support:function(){return"XMLHttpRequest"in window&&"withCredentials"in new XMLHttpRequest},hasLocalStorageSupport:c,hasSessionStorageSupport:function(){return o("sessionStorage")},hasFileSupport:a,hasAudioSupport:function(){const e=document.createElement("audio");return!!e.canPlayType&&!!e.canPlayType("audio/mpeg;").replace(/^no$/,"")},hasVisibilitySupport:function(){return void 0!==document.hidden||void 0!==document.mozHidden||void 0!==document.msHidden||void 0!==document.webkitHidden},messengerIsVisible:function(){return!!Object(r.a)()||s.some(e=>{const t=window.parent.document.querySelector(e);if(t){const e=t.getBoundingClientRect();return e&&e.width>0&&e.height>0}})},messengerHasDisplayNoneSet:h,isMobileBrowser:u,isIOSFirefox:function(){return!!p().userAgent.match("FxiOS")},isFirefox:function(){return!!p().userAgent.match("Firefox")},isSafari:d,isElectron:function(){const e=p().userAgent||"",t=(Object(r.a)()?window:window.parent)||{},n=t.process&&t.versions&&t.versions.electron;return/\sElectron\//.test(e)||n},isIE:function(){const e=p().userAgent||"";return e.indexOf("MSIE")>0||e.indexOf("Trident")>0},isEdge:function(){return(p().userAgent||"").indexOf("Edge")>0},isNativeMobile:function(){return p().isNativeMobile},isChrome:function(){const e=window.chrome,t=p().vendor,n=p().userAgent.indexOf("OPR")>-1,r=p().userAgent.indexOf("Edge")>-1;return!!p().userAgent.match("CriOS")||null!=e&&"Google Inc."===t&&!1===n&&!1===r},isIOS:f,isAndroid:function(e=p().userAgent){return e&&e.toLowerCase().indexOf("android")>-1}}},function(e,t,n){"use strict";n.d(t,"e",(function(){return d})),n.d(t,"i",(function(){return l})),n.d(t,"a",(function(){return p})),n.d(t,"f",(function(){return f})),n.d(t,"g",(function(){return h})),n.d(t,"b",(function(){return b})),n.d(t,"l",(function(){return _})),n.d(t,"c",(function(){return g})),n.d(t,"j",(function(){return m})),n.d(t,"m",(function(){return O})),n.d(t,"k",(function(){return E})),n.d(t,"h",(function(){return S})),n.d(t,"d",(function(){return v}));var r=n(0),i=n(42),s=n(6),o=n(15),c=n(125);const a=({viewStack:e})=>e,u=Object(r.createSelector)(a,e=>!!e&&e.length>1),d=Object(r.createSelector)(a,e=>e&&e.length>0?e[e.length-1]:void 0),l=Object(r.createSelector)(a,e=>!e||0===e.length);function p(e){return e.app.accessToTeammateEnabled}const f=({app:e})=>d(e),h=({app:e})=>u(e),b=e=>{const{user:t,app:n}=e;return!n.inboundConversationsDisabled&&("user"===t.role?n.features.inboundMessages:n.features.anonymousInboundMessages)},_=e=>{const{app:t}=e;return t.launcherLogoUrl},g=Object(r.createSelector)([b,e=>e.app.helpCenterSiteUrl],(e,t)=>!e&&!!t),m=(e,{currentView:t})=>"home-screen"!==t&&"empty-screen"!==t,O=e=>{if(!e)return!1;const{officeHoursResponse:t}=e.app,n={only_outside_of_office_hours:!!t,always:!0,never:!1},{role:r,userSuppliedEmail:c}=e.user,{upfrontEmailCollectionSetting:a,upfrontEmailCollectionSubmitted:u}=e.app.upfrontEmailCollection,d=e.session&&e.session.email,l=Object(i.b)(e);return(!l||!l.isEmailAttributeCollectorInserted)&&(!c&&(-1!==["visitor","lead"].indexOf(r)&&(!d&&(!u&&(!function(e){return!!e&&(Object(s.i)(e)&&!Object(o.a)(e.parts).author.isBot)}(l)&&n[a])))))};const E=Object(r.createSelector)(e=>e.app.isIntercomLinkEnabled,c.b,(e,t)=>e&&!t),S=Object(r.createSelector)(c.d,f,(e,t)=>!(!e||"new-conversation"!==t)),v=e=>e.app.color},function(e,t,n){"use strict";var r=n(9),i=n(89),s=n(41),o=n(68),c=n(0),a=Object(c.createSelector)(e=>Object(o.a)(e.conversations.byId),e=>e.filter(e=>!e.read&&e.dismissed)),u=n(50),d=n(149),l=n(2),p=n(5),f=n(65),h=n(45),b=n(1);const _="delivered",g="renotifying";n.d(t,"e",(function(){return O})),n.d(t,"l",(function(){return E})),n.d(t,"a",(function(){return v})),n.d(t,"j",(function(){return y})),n.d(t,"k",(function(){return C})),n.d(t,"i",(function(){return T})),n.d(t,"h",(function(){return w})),n.d(t,"f",(function(){return R})),n.d(t,"g",(function(){return A})),n.d(t,"c",(function(){return P})),n.d(t,"d",(function(){return L})),n.d(t,"m",(function(){return k}));const{assign:m}=Object;function O(){return(e,t)=>{const{launcherDiscoveryMode:{isLauncherDiscoveryModeOpening:n}}=t();n?(e(Object(i.d)()),setTimeout(()=>e(E()),100),setTimeout(()=>e(Object(i.a)()),100)):e(E())}}function E(){return(e,t)=>{const{conversations:n,borderless:{conversationId:r}}=t(),i=n.byId[r];r?(e(A(r)),function(e){return e&&-1!==[_,g].indexOf(e.notificationStatus)}(i)&&e(Object(p.p)(l.b,r,["opened"]))):e((e,t)=>{const{app:{isMessengerOpen:n}}=t();e(n?v():e=>{e(M()),e({type:"OPEN_MESSENGER"}),e(Object(f.a)())})})}}function S(){return{type:"OPEN_MESSENGER"}}function v(e=!1){return{type:"CLOSE_MESSENGER",fromCloseButton:e}}function y(e="",t=!1,n=null){return{type:"SHOW_NEW_CONVERSATION",defaultMessage:e,replaceCurrentView:t,articleUrl:n}}function C(){return{type:"SHOW_SEARCH_BROWSE"}}function T(){return{type:"SHOW_CONVERSATIONS"}}function I(){return{type:"SHOW_EMPTY_SCREEN"}}function j(e=!1){return{type:"SHOW_MESSENGER_TRIGGER_SCREEN",replaceCurrentView:e}}function w(){return e=>{e(j(!0)),e({type:"OPEN_MESSENGER"})}}function R(e){return t=>{t(Object(h.a)(e)),t({type:"OPEN_MESSENGER"})}}function A(e){return t=>{t(Object(f.a)()),t(R(e)),t(Object(p.l)(l.b,e))}}function N(e){return t=>{t(Object(h.a)(e)),t(Object(p.l)(l.b,e))}}function P(e){return t=>t(Object(p.l)(l.b,e)).then(()=>t(R(e)))}function M(){return(e,t)=>{const n=t(),{app:r,user:i,message:o}=n,{features:c,inboundConversationsDisabled:l,viewStack:p,isBooting:h}=r,{hasConversations:b,articleConversationId:_}=i,g=Object(u.b)(n),m=Object(d.k)(n),O=Object(s.a)(n),E=a(n),S=function(e,t){return"user"===e.role&&t.inboundMessages||"user"!==e.role&&t.anonymousInboundMessages}(i,c);h||(S?g>1?(e({type:"SHOW_HOME_SCREEN"}),D(i,"homescreen")):o&&o.conversationId?(e(N(o.conversationId)),e(Object(f.a)()),D(i,"conversation-from-auto-message")):1===O.length?(e(N(O[0].id)),D(i,"conversation-from-notification")):1===E.length?(e(N(E[0].id)),D(i,"conversation-from-dismissed")):_?(e(N(_)),D(i,"conversation-from-article")):p.length||(m||b?(e({type:"SHOW_HOME_SCREEN"}),D(i,"homescreen")):l?m?(e({type:"SHOW_HOME_SCREEN"}),D(i,"homescreen")):(e({type:"SHOW_EMPTY_SCREEN"}),D(i,"empty-screen")):(e(y()),D(i,"new-conversation"))):(e({type:"SHOW_EMPTY_SCREEN"}),D(i,"empty-screen")))}}function D(e,t="homescreen"){b.j.buildAndAddMetric(e,t,"initial-screen","messenger","from_launcher")}function U(e,t){const n=t(),i=function(e){return m({},e,{viewStack:e.viewStack.slice(0,-1)})}(n.app);Object(r.g)(n)&&"messenger-trigger"===Object(r.e)(i)?e({type:"SHOW_HOME_SCREEN"}):Object(r.g)(n)?e({type:"MESSENGER_NAVIGATE_BACK"}):e({type:"SHOW_HOME_SCREEN"})}function L(){return U}function k(){return{type:"TOGGLE_UPFRONT_EMAIL_COLLECTOR_STATE"}}t.b={closeMessenger:v,getAndOpenConversation:P,navigateBack:L,onLauncherClick:O,openConversation:R,openConversationInMessenger:A,openConversations:function(){return e=>{e({type:"SHOW_CONVERSATIONS"}),e({type:"OPEN_MESSENGER"})}},openMessenger:S,openNewConversation:function(e){return(t,n)=>{n().app.inboundConversationsDisabled||t(y(e)),t({type:"OPEN_MESSENGER"})}},showAndGetConversation:N,showConversation:h.a,showConversations:T,showEmptyScreen:I,showMessengerTriggerScreen:j,showInitialScreen:M,showNewConversation:y,showSearchBrowse:C,toggleMessenger:E,toggleUpfrontEmailCollectorState:k,openMessengerLoadingView:w}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return a}));var r=n(4),i=n(93),s=n(8);const o=e=>({get:t=>{try{return e.getItem(`intercom.${t}`)}catch(e){}},set:(t,n)=>{try{return e.setItem(`intercom.${t}`,n||"")}catch(e){}},remove:t=>{try{return e.removeItem(`intercom.${t}`)}catch(e){}},clear:()=>{try{e.clear()}catch(e){}}}),c=Object(r.a)()?Object(i.b)():s.a.hasLocalStorageSupport()?o(localStorage):{get:()=>{},set:()=>{},remove:()=>{},clear:()=>{}},a=Object(r.a)()?Object(i.c)():s.a.hasSessionStorageSupport()?o(sessionStorage):{get:()=>{},set:()=>{},remove:()=>{},clear:()=>{}}},,function(e,t,n){"use strict";let r=0;t.a=(e,t={},n)=>{const i={type:e,payload:t};if(n){i.callbackId=r++;const e=t=>{const{type:r,callbackId:s,payload:o}=t.data;"intercom:callback"===r&&s===i.callbackId&&(window.removeEventListener("message",e),n(o))};window.addEventListener("message",e)}window.parent.postMessage(i,"*")}},function(e,t,n){"use strict";function r(e){console&&console.warn(e)}function i(e){console&&console.error(e)}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";t.a=e=>{if(e)return e[e.length-1]}},function(e,t,n){"use strict";n.d(t,"f",(function(){return f})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return b})),n.d(t,"h",(function(){return _})),n.d(t,"m",(function(){return g})),n.d(t,"a",(function(){return m})),n.d(t,"l",(function(){return O})),n.d(t,"c",(function(){return E})),n.d(t,"j",(function(){return S})),n.d(t,"i",(function(){return v})),n.d(t,"k",(function(){return T})),n.d(t,"b",(function(){return I})),n.d(t,"g",(function(){return j}));var r=n(12),i=n.n(r),s=n(8),o=n(14),c=n(1);let a=!1,u=!1,d=!1,l=!1,p=!1;const f=e=>!!e&&!!e[0]&&"attachmentList"===e[0].type,h=e=>{if(e)return e.isActive?"active":"away"},b=e=>{if(!e||!e.lastActiveAt)return;const t=new Date;return Math.round((t.getTime()-e.lastActiveAt.getTime())/6e4)},_=e=>i()(e),g=e=>{a=e},m=()=>a,O=e=>{u=e},E=()=>u;function S(e,t){try{const n=C(),r=e.parts[e.parts.length-1].author.isBot;if(n||!r||!t)return;Object(c.g)("timeToFirstBotResponse",{duration_ms:Date.now()-t}),y(!0)}catch(e){Object(o.a)(`Failure while recording trigger transition duration ${e}`)}}function v(e,t,n){try{let r=p;const i=e.parts[e.parts.length-1].author.isBot;if(r||!i||!t||Math.abs(n-t)>50)return void(p=!0);Object(c.g)("durationFromCreateConversationToOperatorReply",{duration_ms:Date.now()-t}),p=!0}catch(e){Object(o.a)(`Failure while recording trigger transition duration ${e}`)}}const y=e=>{l=e},C=()=>l,T=e=>{d=e},I=()=>d,j=e=>!!e&&s.a.messengerIsVisible()},,function(e,t,n){"use strict";n.d(t,"h",(function(){return l})),n.d(t,"b",(function(){return p})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return h})),n.d(t,"i",(function(){return b})),n.d(t,"c",(function(){return _})),n.d(t,"a",(function(){return g})),n.d(t,"f",(function(){return m})),n.d(t,"g",(function(){return O}));var r,i=n(4),s=n(23);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let u=null===(r=window)||void 0===r?void 0:r.parent,d=[];const l=e=>{u=e,Object(i.a)()||window.parent.addEventListener("resize",e=>d.forEach(t=>t(e)))},p=()=>{var e,t;return Object(i.a)()?u.title:null===(e=u)||void 0===e?void 0:null===(t=e.document)||void 0===t?void 0:t.title},f=()=>{var e;return Object(i.a)()?u.location:null===(e=u)||void 0===e?void 0:e.location},h=()=>{var e,t;return Object(i.a)()?u.referrer:null===(e=u)||void 0===e?void 0:null===(t=e.document)||void 0===t?void 0:t.referrer},b=e=>{Object(i.a)()&&(u=c(c({},u),e),d.forEach(e=>e(u)))},_=()=>{var e,t;return{innerWidth:null===(e=u)||void 0===e?void 0:e.innerWidth,innerHeight:null===(t=u)||void 0===t?void 0:t.innerHeight}},g=e=>{d.push(e)},m=e=>d=d.filter(t=>t!==e),O=e=>Object(s.k)(e)},function(e,t,n){"use strict";n.d(t,"b",(function(){return r}));function r(){const e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const n=(e+16*Math.random())%16|0;return("x"===t?n:3&n|8).toString(16)})}t.a={generateUUID:r}},,,function(e,t,n){"use strict";n.d(t,"k",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"i",(function(){return c})),n.d(t,"g",(function(){return a})),n.d(t,"a",(function(){return u})),n.d(t,"j",(function(){return d})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return p})),n.d(t,"f",(function(){return f})),n.d(t,"l",(function(){return h})),n.d(t,"o",(function(){return b})),n.d(t,"n",(function(){return _})),n.d(t,"b",(function(){return g})),n.d(t,"m",(function(){return O})),n.d(t,"h",(function(){return E}));var r=n(0);const i=e=>e.tour,s=(Object(r.createSelector)(i,e=>e.isFetching),Object(r.createSelector)(i,e=>e.isFetched)),o=(Object(r.createSelector)(i,e=>e.fetchingFailed),Object(r.createSelector)(i,e=>e.activeTour)),c=Object(r.createSelector)(i,e=>e.isPreviewing),a=Object(r.createSelector)(i,e=>e.updateFailed),u=Object(r.createSelector)(i,e=>{if(e.activeTour)return e.activeTour.author}),d=Object(r.createSelector)(i,e=>!(!e.activeTour||!e.activeTour.isCompleted)),l=Object(r.createSelector)(i,e=>{if(e.activeTour)return e.activeTour.steps.length}),p=Object(r.createSelector)(i,e=>{const t=e.activeTour;if(t)return t.steps.findIndex(e=>e.id===t.activeStepId)}),f=Object(r.createSelector)(i,e=>{const t=e.activeTour;if(!t)return;const{steps:n,activeStepId:r}=t;return t?n.find(e=>e.id===r):void 0}),h=Object(r.createSelector)(i,e=>{const t=e.activeTour;if(!t)return;const{steps:n,activeStepId:r}=t,i=n.findIndex(e=>e.id===r);return n[i+1]}),b=Object(r.createSelector)(i,e=>e.videoAudioMuted),_=Object(r.createSelector)(i,e=>e.userHasInteractedWithVideo),g=Object(r.createSelector)(i,e=>{const t=e.activeTour;if(t)return t.endTourAnimation}),m=Object(r.createSelector)(p,l,(e,t)=>e+1===t),O=Object(r.createSelector)(g,m,(e,t)=>"confetti"===e&&t),E=Object(r.createSelector)(i,e=>e.isAwaitingProgress)},function(e,t,n){"use strict";var r=e=>({data:t})=>{const{type:n,payload:r}=t,i=e[n];i&&i(r)},i=n(13),s=()=>Object(i.a)("intercom:ready"),o=(e,t,n)=>Object(i.a)("intercom:create-or-update-frame",{name:e,styles:t},n),c=e=>Object(i.a)("intercom:destroy-frame",{name:e}),a=e=>Object(i.a)("intercom:write-cookie",{cookie:e}),u=e=>Object(i.a)("intercom:request-animation-frame",{},e),d=(e,t)=>Object(i.a)("intercom:open-url",{url:e,openNatively:t}),l=(e,t,n)=>Object(i.a)("intercom:set-storage-item",{key:e,value:t,type:n}),p=(e,t)=>Object(i.a)("intercom:remove-storage-item",{key:e,type:t}),f=e=>Object(i.a)("intercom:get-storage",{},e),h=(e,t)=>Object(i.a)("intercom:get-dom-element",{selector:e},t),b=(e,t)=>Object(i.a)("intercom:delayed-node-visibility-check",e,t);let _=0;var g=(e,t={},n)=>{const r=_++,i={type:"intercom:add-event-listener",event:e,payload:t,listenerId:r},s=e=>{const{type:t,listenerId:r,payload:s}=e.data;"intercom:event"===t&&r===i.listenerId&&n(s)};return window.addEventListener("message",s),window.parent.postMessage(i,"*"),()=>{(e=>{window.parent.postMessage({type:"intercom:remove-event-listener",listenerId:e},"*")})(r),window.removeEventListener("message",s)}};n.d(t,"b",(function(){return r})),n.d(t,"i",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return c})),n.d(t,"m",(function(){return a})),n.d(t,"l",(function(){return l})),n.d(t,"j",(function(){return p})),n.d(t,"g",(function(){return f})),n.d(t,"k",(function(){return u})),n.d(t,"h",(function(){return d})),n.d(t,"f",(function(){return h})),n.d(t,"d",(function(){return b})),n.d(t,"a",(function(){return g}))},function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"f",(function(){return a}));const r=()=>"intercom-id",i=e=>`intercom-id-${e}`,s=e=>`intercom-session-${e}`,o=()=>"_mkto_trk",c=()=>"hubspotutk",a=()=>"1"===navigator.doNotTrack},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"l",(function(){return s})),n.d(t,"m",(function(){return o})),n.d(t,"B",(function(){return c})),n.d(t,"s",(function(){return a})),n.d(t,"f",(function(){return u})),n.d(t,"r",(function(){return d})),n.d(t,"z",(function(){return l})),n.d(t,"e",(function(){return p})),n.d(t,"A",(function(){return f})),n.d(t,"b",(function(){return h})),n.d(t,"x",(function(){return b})),n.d(t,"c",(function(){return _})),n.d(t,"y",(function(){return g})),n.d(t,"d",(function(){return m})),n.d(t,"j",(function(){return O})),n.d(t,"o",(function(){return E})),n.d(t,"h",(function(){return S})),n.d(t,"g",(function(){return v})),n.d(t,"q",(function(){return y})),n.d(t,"n",(function(){return C})),n.d(t,"w",(function(){return T})),n.d(t,"v",(function(){return I})),n.d(t,"t",(function(){return j})),n.d(t,"u",(function(){return w})),n.d(t,"p",(function(){return R})),n.d(t,"i",(function(){return A})),n.d(t,"k",(function(){return N}));var r=n(33);const i={TAB:9,ENTER:13,ESC:27,SPACE:32,BACKSPACE:8,DELETE:46},s=e=>e.scrollHeight-e.clientHeight-e.scrollTop,o=e=>e.scrollTop/(e.scrollHeight-e.clientHeight),c=(e,t=0)=>{e&&(e.scrollTop=t)},a=(e,t=0)=>{const{scrollTop:n,scrollHeight:r,clientHeight:i}=e;return r-n-i<t+1},u=e=>{if(!e)return 0;const{scrollTop:t,scrollHeight:n,clientHeight:r}=e;return n-r-t},d=e=>{const{scrollHeight:t,clientHeight:n}=e;return t>n},l=e=>{const{scrollHeight:t,clientHeight:n}=e;e.scrollTop=t-n},p=e=>{const{scrollHeight:t,clientHeight:n}=e;if(!e.scrollBy)return l(e);e.scrollBy({top:t-n,left:0,behavior:"smooth"})},f=(e,t)=>{const{bottom:n,top:r,height:i}=e.getBoundingClientRect(),{bottom:s,top:o,height:c}=t.getBoundingClientRect();if(!(r<o)&&!(n>s))return;let a=e.offsetTop;for(;e;){const{position:t}=window.getComputedStyle(e);"relative"===t&&(a+=e.offsetTop-e.scrollTop+e.clientTop),e=e.offsetParent}t.scrollTop=a-Math.trunc(c/2)+Math.trunc(i/2)},h=(e,t)=>{const n=e.className.split(" ");n.some(e=>e===t)||(n.push(t),e.className=n.join(" ").trim())},b=(e,t)=>{e.className=e.className.split(" ").filter(e=>e!==t).join(" ")},_=(e,t,n,r=!1)=>{null!=e&&(e.addEventListener?e.addEventListener(t,n,r):e.attachEvent&&e.attachEvent(`on${t}`,n))},g=(e,t,n)=>{null!=e&&(e.removeEventListener?e.removeEventListener(t,n):e.detachEvent&&e.detachEvent(`on${t}`,n))},m=e=>{const t=e.currentTarget,{scrollTop:n,scrollHeight:r,clientHeight:i}=t,{deltaY:s}=e,o=s>0;o&&s>r-i-n?t.scrollTop=r:!o&&-s>n?t.scrollTop=0:e.stopPropagation()},O=e=>{if(e&&"selectionStart"in e)return e.selectionStart},E=(e,t,n)=>e.slice(0,n)+t+e.slice(n),S=(e,t=-1)=>{e&&(e.focus(),"setSelectionRange"in e&&t>=0&&e.setSelectionRange(t,t))};function v(e,t,n){const r=e.document||e.ownerDocument;return e=>{const i=[];Array.from(r.querySelectorAll(t)).forEach(e=>i.push(e));let{target:s}=e;for(;s&&s!==this;){if(i.indexOf(s)>-1){n.call(s,e);break}s=s.parentNode}}}const y=e=>void 0!==e.hidden?!e.hidden:void 0!==e.mozHidden?!e.mozHidden:void 0!==e.msHidden?!e.msHidden:void 0===e.webkitHidden||!e.webkitHidden,C=()=>{let e;return void 0!==document.hidden?e="visibilitychange":void 0!==document.mozHidden?e="mozvisibilitychange":void 0!==document.msHidden?e="msvisibilitychange":void 0!==document.webkitHidden&&(e="webkitvisibilitychange"),e},T=(e,t={})=>{const n=document.createElement("form");n.setAttribute("target","_blank"),n.setAttribute("method","post"),n.setAttribute("action",e),Object.keys(t).forEach(e=>{const r=document.createElement("input");r.type="hidden",r.name=e,r.value=t[e],n.appendChild(r)}),document.body.appendChild(n),n.submit(),document.body.removeChild(n)},I=e=>t=>(t.keyCode===i.ENTER||t.keyCode===i.SPACE)&&e(t),j=e=>e.keyCode===i.TAB&&!(-1!==["INPUT","TEXTAREA","BUTTON"].indexOf(e.target.tagName)),w=e=>{if(e)return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},R=e=>e.keyCode===i.ESC,A=e=>Array.from(e.querySelectorAll('button, [href], input:not([type="file"]):not([type="hidden"]), select, textarea, [tabindex]:not([tabindex="-1"])')).filter(e=>!e.closest('[aria-hidden="true"]')),N=e=>Object(r.b)(e)?"rtl":"ltr"},,function(e,t,n){"use strict";function r(e){if(null!=e)return new Date(1e3*e)}function i(e){return Date.now()-1e3*e}n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i})),t.b={timestampToDate:r,now:function(){return function(){const e=Date.now;return"function"==typeof e&&!("prototype"in e)}()?Date.now():(new Date).getTime()},calculateDurationInMs:i}},function(e,t,n){"use strict";var r=n(92);t.a={read(e,t){t=t||Object(r.a)();const n="(?:(?:^|[^]*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$",i=t.match(new RegExp(n));if(null!==i&&void 0!==i[1])return decodeURIComponent(i[1])},write(e,t,n={}){const{domain:i,path:s,expires:o,secure:c,sameSite:a}=n;let u=`${e}=${t}`;return i&&(u+=`; domain=${i}`),s&&(u+=`; path=${s}`),o&&(u+=`; expires=${o.toUTCString()}`),a&&(u+=`; samesite=${a}`),c&&(u+="; secure"),Object(r.c)(u),u},clear(e,t={}){const{domain:n,path:r}=t,i=new Date(0);return this.write(e,"",{domain:n,path:r,expires:i})}}},,,function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return a})),n.d(t,"f",(function(){return u})),n.d(t,"h",(function(){return d})),n.d(t,"g",(function(){return l})),n.d(t,"e",(function(){return p})),n.d(t,"d",(function(){return f}));const r=["https://app.intercom.com","https://app.intercom.io"];function i(e,t){e.opener&&e.opener.postMessage(t,"*")}function s(e,t={}){return{boundEventCreator:Object.assign({type:e},t)}}const o={CLICK:{key:"click",title:"Clicks",description:"When people click on a button or link"},VISIT:{key:"visit",title:"Page views",description:"When people view a page"}},c={CHOOSE_EVENT_TYPE:"CHOOSE_EVENT_TYPE",CONFIRM_URL:"CONFIRM_URL",SELECT_CLICK_ELEMENT:"SELECT_CLICK_ELEMENT"};function a(e,t){e.addEventListener("message",e=>{if(-1===r.indexOf(e.origin))return;const{boundEventCreator:n}=e.data;n&&"open"===n.type&&t(n.boundEventCreatorState)})}function u(e){i(e,s("ready"))}function d(e,t){i(e,s("updateStage",{newStage:t}))}function l(e,t){i(e,s("updateData",{eventData:t}))}function p(e,t){i(e,s("newEvent",{newEvent:t}))}function f(e){i(e,s("closed"))}},function(e,t,n){"use strict";var r=n(12),i=n.n(r),s=n(47),o=n.n(s),c=n(22),a=n(10),u=n(51),d=n(1),l=n(7),p=n(2),f=n(54);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class tour_progress_CheckIfTourReadyToProgress{constructor(e,t){h(this,"whenReady",void 0),h(this,"state",void 0),h(this,"activeStep",void 0),h(this,"nextStep",void 0),this.state=e,this.whenReady=t,this.activeStep=Object(c.f)(e),this.nextStep=Object(c.l)(e),this._check()}_check(){return"click"===this.activeStep.progressionBehavior?(Object(l.d)("Click to progress behavior detected."),this._evaluateProgressionByClick()):this.whenReady()}_evaluateProgressionByClick(){let e=0,t=0;this._pageNeedsRedirection()?(Object(l.d)("Step url for the next step is different so the tour will wait 2s for the page to reload"),e=2e3):Object(l.d)("No page redirection detected."),this._nextStepIsPointer()&&(Object(l.d)("The page is going to wait upto 5s for the next step's selector to become visible in page"),t=5e3),new l.a(this.nextStep.selector,t,e,this.whenReady)}_pageNeedsRedirection(){return this.activeStep.url!==this.nextStep.url}_nextStepIsPointer(){return!!this.nextStep.selector}}var b=n(11),_=n(8);n.d(t,"e",(function(){return m})),n.d(t,"c",(function(){return S})),n.d(t,"f",(function(){return v})),n.d(t,"b",(function(){return y})),n.d(t,"d",(function(){return T})),n.d(t,"a",(function(){return j})),n.d(t,"j",(function(){return w})),n.d(t,"h",(function(){return R})),n.d(t,"g",(function(){return A})),n.d(t,"i",(function(){return N}));function g(e){return Object(c.g)(e)||Object(c.i)(e)||Object(c.j)(e)}function m(){return async(e,t)=>{const n=t(),{session:r}=t(),{id:i,progressId:s}=Object(c.c)(n),o=Object(c.l)(n);if(o){if(Object(l.d)(`Tour with id ${i} is attempting to progress to step ${o}`),!g(n)){e({type:"PROGRESS_TOUR_REQUEST_STARTED"});try{await p.b.progressTour(r,i,o.id,s)}catch(t){e({type:"TOUR_UPDATE_FAILED"}),Object(l.d)(`Could not update tour due to e=${t}`)}}Object(c.i)(n)&&b.b.set("tour_progress_preview",o.id),new tour_progress_CheckIfTourReadyToProgress(n,()=>{e(function(e,t){return{type:"PROGRESS_TOUR",activeStepId:e,progressId:t}}(o.id,s)),e({type:"PROGRESS_TOUR_REQUEST_FINISHED"})})}else window.parent&&window.parent.postMessage("exit_tour_preview","*"),function(e){O("intercom:tourComplete",{tourId:e})}(i),e(function(e){return{type:"COMPLETE_TOUR",progressId:e}}(s))}}function O(e,t){if(!Object(f.a)())return;const n=new CustomEvent(e,{detail:t});window.parent.document.dispatchEvent(n)}function E(e){O("intercom:tourError",{tourId:e})}function S(){return(e,t)=>{const n=t(),{id:r,progressId:i}=Object(c.c)(n),{session:s}=t();Object(l.d)(`Tour with id ${r} marked as complete`),g(n)||(e({type:"MARK_ACTIVE_TOUR_AS_COMPLETED"}),p.b.completeTour(s,r,i))}}function v(){return(e,t)=>{const n=t(),{id:r,progressId:i}=Object(c.c)(n),s=Object(c.f)(n);var o,a,u;if(!g(n))return E(r),p.b.recordTourFailure(n.session,r,s.id,s.selector,null===(o=window)||void 0===o?void 0:null===(a=o.parent)||void 0===a?void 0:null===(u=a.location)||void 0===u?void 0:u.pathname,i)}}function y(){return e=>{var t,n;if(Object(_.g)())return;const r=C(null===(t=window)||void 0===t?void 0:null===(n=t.parent)||void 0===n?void 0:n.location);if(Object(l.d)("Checking if URL has tour attached"),r){const t="tour_triggered_from_url";let n=JSON.parse(b.b.get(t));n=n||[],n.indexOf(r)>-1?Object(l.d)(`Tour with id ${r} has already been triggered`):(Object(l.d)(`Tour id ${r} attached in the url`),e(T(r)),n.push(r),b.b.set(t,JSON.stringify(n)))}else Object(l.d)("No attached tour found in the URL")}}const C=e=>{if(!e)return;let t=Object(u.a)(e).product_tour_id;if(!t){const n=e.toString();if(!n)return;const r=n.match(/product_tour_id=(\d+)/i);r&&(t=r[1])}return t};function T(e){return async(t,n)=>{const r=Object(c.c)(n()),{session:i}=n();if(r)Object(l.d)(`Active tour with id ${r.id} already found so tour id ${e} won't be fetched`);else{Object(l.d)(`Will attempt to fetch tour with id ${e}`);try{t(w(await p.b.fetchTour({session:i,tourId:e})))}catch(t){e&&E(e),Object(l.d)(`Could not fetch or start tour due to e=${t}`)}}}}function I(e,t){return{type:"FETCH_TOUR_SUCCESS",tour:e,isPreviewingTour:t}}function j(e){return{type:"CHANGE_VIDEO_MUTED",muted:e}}function w(e){return(t,n)=>{const{user:r}=n(),s=Object(c.c)(n());if(!i()(s))return Object(l.d)("There is already an active tour",s),void Object(l.d)("The tour won't attempt to start",e);const u=function(e){if(!e.steps)return;const{activeStepId:t,steps:n}=e,r=n.findIndex(e=>parseInt(e.id,10)===parseInt(t,10)),i=n.slice(r).find(e=>!o()(e.selector));return i?i.selector:void 0}(e);u?(Object(l.d)("Checking if selector of the first active pointer step is visible on the page",e),new l.a(u,null,0,n=>{n?(Object(l.d)("Node is visible. Tour is attempting to start",e),t(I(e,!1)),t(Object(a.a)()),Object(d.h)(r,"received","tour","messenger",null,{tour_id:e.id})):(Object(l.d)("Node is not visible. Tour will not start",e),function(e,t){Object(f.a)()&&(Object(d.c)("tour_failed_css_evaluation",{tour_id:e}),Object(d.b)(`tour_failed_css_evaluation tour_id=${e}`)),Object(d.h)(t,"received_but_failed_css_evaluation","tour","messenger",null,{tour_id:e})}(e.id,r),E(e.id))})):(Object(l.d)("Tour is attempting to start",e),t(I(e,!1)),t(Object(a.a)()),Object(d.h)(r,"received","tour","messenger",null,{tour_id:e.id}))}}function R(e){return t=>{t(I(e,!0)),t(Object(a.a)())}}function A(e){return async(t,n)=>{const{session:r}=n();try{var i,s;const n=await p.b.fetchTour({session:r,tourId:e}),o=window.parent,c=Object(u.b)(n.url);n.url&&!Object(l.b)(c,null===(i=window)||void 0===i?void 0:null===(s=i.parent)||void 0===s?void 0:s.location)?o.__intercomAssignLocation(n.url):(t(I(n,!1)),t(Object(a.a)()))}catch(t){E(e),Object(l.d)(`Could not fetch or start tour due to e=${t}`)}}}function N(){return(e,t)=>{const n=t();if(g(n))e(P(""));else{const{session:r}=t(),{id:i,progressId:s}=Object(c.c)(n);e(P(s)),p.b.stopTour(r,i,s)}}}function P(e){return{type:"STOP_TOUR",progressId:e}}},function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return p})),n.d(t,"a",(function(){return f})),n.d(t,"e",(function(){return h})),n.d(t,"b",(function(){return b}));var r=n(1),i=n(14),s=n(116);const o=["ar","bg","bs","ca","cs","da","de","de-form","el","en","es","et","fi","fr","he","hr","hu","id","it","ja","ko","lt","lv","mn","nb","nl","pl","pt","pt-BR","ro","ru","sl","sr","sv","tr","vi","zh-CN","zh-TW"],c=["ar","he"],a={};a.en=n(210);let u=a,d="en";const l=(e,t)=>e&&e.replace(/{([\s\S]+?)}/g,(e,n)=>t[n]),p=async e=>{if(-1===o.indexOf(e))return Object(i.b)(`Unsupported locale: ${e}`);if(!a[e]){const t=await Object(s.a)({promise:()=>n(371)(`./${e}.json`)});a[e]=t}d=e},f=()=>d,h=(e,t)=>{const n=u[d];if(!n)return Object(r.b)(`Unknown locale '${d}'`),"";const i=n[e];if(!i)return Object(r.b)(`Unknown key '${e}' in locale '${d}'`),l(u.en[e],t)||"";try{return l(i,t)}catch(t){return Object(r.b)(`Interpolation failed for key '${e}' in locale '${d}'`),""}},b=e=>-1!==c.indexOf(e)},,function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(14),i=n(46);const s=(e,t,n)=>(s,d)=>{const{messengerCards:l}=d(),p=n&&l&&l[t.uri],f=Object(i.c)(t);if(s(c(f)),p&&o(p.card)&&!f.canvas.content&&(f.canvas=Object.assign({},f.canvas,p.card.canvas)),f.canvas.content)return void s(a(f,f.canvas.content));const{session:h}=d();return e.getMessengerCanvasWithContent(h,f.canvas.id,f.uri).then(e=>{s(a(f,e.content))}).catch(e=>{s(u(f)),Object(r.a)(`There was a problem retrieving the live card content: ${e}`)})},o=e=>!(!e||!e.canvas),c=e=>({type:"GET_CARD_CONTENT_REQUEST",card:e}),a=(e,t)=>({type:"GET_CARD_CONTENT_SUCCESS",card:e,content:t}),u=e=>({type:"GET_CARD_CONTENT_FAILURE",card:e})},function(e,t,n){"use strict";var r=n(68),i=n(0),s=n(6);t.a=Object(i.createSelector)([e=>Object(r.a)(e.conversations.byId),e=>e.notificationTypeOverrides],(e,t)=>e.filter(e=>!Object(s.m)(e)).map(e=>((e,t)=>{const n=Object(s.g)(e);return Object.assign({},e,{suppress:t.suppress[n]||!1,forceSnippet:t.forceSnippet[n]||!1})})(e,t)))},function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return p})),n.d(t,"b",(function(){return f}));var r=n(21),i=n.n(r),s=n(5),o=n(19),c=n(38);const a=i()("intercom.actions.inbound-triggers");function u(e,t,n=!1){return async(r,i)=>{try{const a=i(),{app:u,session:d,newConversation:l}=a,p=Object(o.b)(),f={clientId:p,body:Object(c.c)(t.text),createdAt:new Date,composerSuggestionItem:t},h=l.composerState.visible;r(function(e){switch(e.preAction){case"close-composer":return Object(s.r)({visible:!1});default:throw`Invalid PRE ACTION type for suggestion=${e.preAction}`}}(t)),r(Object(s.h)(f,n));const b=await e.startConversationFromSuggestion(d,{suggestionUuid:t.uuid,clientAssignedUUID:p,selfServeSuggestionsMatch:u.selfServeSuggestionsMatch,articleUrl:l.articleUrl});r(Object(s.i)(b,null,null,Date.now(),"custom_bot")),h&&r(Object(s.r)({visible:!0}))}catch(e){r(Object(s.g)(null)),a(`Couldnt start conversation from suggestion due to e=${e}`)}}}function d(e){return{type:"ADD_INBOUND_SUGGESTIONS",composerSuggestions:e}}function l(e){return{type:"UPDATE_SERVER_SIDE_INBOUND_SUGGESTIONS",composerSuggestions:e}}function p(e){return{type:"UPDATE_PREVIEW_INBOUND_SUGGESTIONS",composerSuggestions:e}}function f(e){return{type:"REMOVE_INBOUND_SUGGESTIONS",rulesetId:e}}},function(e,t,n){"use strict";var r=n(33),i=n(67),s=n.n(i),o=n(119);n.d(t,"g",(function(){return d})),n.d(t,"f",(function(){return l})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return f})),n.d(t,"c",(function(){return h})),n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return _}));const c=["image","attachmentList","video","videoReply","videoFile","messengerCard"],a=["image","video","videoReply","videoFile","notificationChannelsCard"],u=[{user:"sent_an_image",admin:"sent_you_an_image"},{user:"sent_an_attachment",admin:"sent_you_an_attachment"},{user:"sent_a_video",admin:"sent_you_a_video"},{user:"sent_a_video_reply",admin:"sent_you_a_video_reply"},{user:"sent_a_video",admin:"sent_you_a_video"},{user:"sent_an_app",admin:"sent_you_an_app"}],d=e=>e&&e.type&&"videoFile"===e.type,l=e=>a.indexOf(e.type)>-1,p=e=>e.text||e.content,f=e=>{const t=e[e.length-1],n=t.body,i=t.author;let s,o=t.body.some(l);v(n[0])&&(s=O(n));const c=m(n),a=S(n,i);return s=0===c.length&&a?a:c,"quick_reply"===t.partType?f(e.slice(0,e.length-1)):(function(e){return"attribute_collector"===e.partType}(t)&&(s=Object(r.e)("operator_asked_for_attribute",{attribute:g(t)}),o=!0),{author:i,summaryText:s,isMetadata:o})},h=e=>{const t=Object(o.a)(e);return y(t).map(e=>({type:"paragraph",text:e}))},b=(e,t,n)=>[{type:"attachmentList",attachments:[{contentType:t,name:e,size:n}]}],_=(e,t,n,r,i)=>[{type:"image",url:e,width:t,height:n,attribution:r,title:i}],g=e=>{const t=e.form.attributes[0];return t.name||t.identifier.toLowerCase().replace("."," ")},m=e=>{const t=e.filter(e=>"button"!==e.type&&!v(e)).map(e=>E(e)).filter(e=>!!e).join(" ");return s()(t.replace(/<br>/g," "))},O=e=>{const t=e.filter(e=>v(e))[0];if(t&&t.title)return s()(t.title)},E=e=>{switch(e.type){case"videoFile":case"messengerCard":return"";case"orderedList":return e.items.map((e,t)=>`${t+1}. ${e}`).join(", ");case"unorderedList":return e.items.join(", ");default:return e.text||e.content}},S=(e,t)=>{const n=(e=>e.filter(e=>c.indexOf(e.type)>-1)[0])(e);if(!n)return;const i=c.indexOf(n.type),s=u[i];return t.isAdmin?Object(r.e)(s.admin):Object(r.e)(s.user)},v=e=>e&&e.type&&"link"===e.type,y=e=>{const t=e.split("\n\n");for(let e=0;e<t.length;e++)t[e]=t[e].replace(/\n/g,"<br>");return t.filter(e=>e)}},,,function(e,t,n){"use strict";var r=n(0),i=n(6),s=n(36),o=n(15),c=n(98);t.a=Object(r.createSelector)(s.a,e=>e.filter(e=>{return!Object(i.m)(e)&&(!e.read&&!e.dismissed&&!Object(c.a)(Object(o.a)(e.parts).partType)&&!e.suppress&&(t=e,"snippet"===Object(o.a)(t.parts).notificationType||t.forceSnippet)&&!Object(i.n)(e));var t}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s}));var r=n(0);const i=Object(r.createSelector)([e=>e.app.conversationId,e=>e.conversations.byId,e=>e.newConversation],(e,t,n)=>{const r=null===e?n:t[e];if(r)return r.composerState||(r.composerState=n.composerState),r}),s=e=>Object(r.createSelector)([e=>e.conversations.byId],t=>t&&t[e])},,,function(e,t,n){"use strict";function r(e,t=!1){const n={type:"SHOW_CONVERSATION",conversationId:e};return t&&(n.replaceCurrentView=t),n}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(56),i=n.n(r),s=n(147),o=n.n(s),c=n(75),a=n.n(c),u=n(144),d=n.n(u),l=n(228),p=n.n(l);const f=e=>{if(!d()(e))return e;const t={};return Object.keys(e).forEach(n=>{let r=f(e[n]);Array.isArray(r)&&(r=r.map(e=>f(e))),t[p()(n)]=r}),t};var h=n(70),b=n.n(h),_=n(123),g=n.n(_),m=n(229),O=n.n(m);const E={button:function(e){return e.action.id?(e.id=e.action.id,g()(e,"action.id"),e):e},input:function(e){return e.action&&e.action.id?(e.id=e.action.id,g()(e,"action.id"),e):e},list:function(e){const t=e.items.map(e=>{if(e.action){if(!e.action.id)return e;e.id=e.action.id,g()(e,"action.id")}return e});return e.items=t,e}};function S(e){return e.components.map(e=>function(e){const t=O()({},e);return b()(E,e.type,()=>{})(t),t}(e))}var v=n(148);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return I})),n.d(t,"c",(function(){return j})),n.d(t,"e",(function(){return w})),n.d(t,"b",(function(){return A})),n.d(t,"d",(function(){return N}));const T=e=>e?Object(v.a)(e.toString()):"",I=(e,t)=>{switch(e.type){case"button":return`button-${T(e.id)}`;case"text":return`text-${t}-${T(e.text)}`;case"input":return`input-${T(e.id)}`;case"spacer":return`spacer-${t}`;case"divider":return`divider-${t}`;case"image":return`image-${t}-${T(e.url)}`;case"list":return`list-${e.items.map(e=>T(e.id)).join("-")}`;case"dropdown":return`dropdown-${T(e.id)}`;case"single-select":return`single-select-${T(e.id)}`;default:return`unknown-${t}`}},j=e=>e.state?{uri:e.uri,canvas:{id:"",content:e.state}}:e,w=e=>{const t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return i()(t,["canvas","content"],e=>(e=>"0.1"===e.version?e:{version:"0.1",components:S(e)})(a()(e))),i()(t,["canvas","content","components"],e=>e.map(f))},R=(e,t,n)=>{const r=[];return e.forEach(e=>{"list"===e.type?r.push(...e.items):r.push(e)}),r.find(e=>e[t]&&(!n||e[t]===n))},A=(e,t,n)=>!!R(e,t,n),N=(e,t,n=!0)=>{const r=((e,t)=>R(e,"id",t))(t,e),i=P(r,t);return i&&r&&r.type?"button"===r.type||"item"===r.type?o()(a()(t),`${i}.loading`,n,a.a):"input"===r.type||"dropdown"===r.type||"single-select"===r.type?o()(a()(t),`${i}.saveState`,n?"saving":"unsaved",a.a):void 0:t},P=(e,t)=>{for(const n in t)if(t.hasOwnProperty(n)){if(e===t[n])return`[${n}]`;if(t[n]&&"object"==typeof t[n]){const r=P(e,t[n]);if(r)return`[${n}]`+r}}}},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return d}));var r=n(9),i=n(68),s=n(0),o=n(6),c=n(63);const a=(e,t)=>!e.read&&"whatsapp"!==e.currentChannel&&e.id!==t&&(e.dismissed||!Object(o.m)(e)),u=Object(s.createSelector)(e=>Object(i.a)(e.conversations.byId),e=>{const{app:{conversationId:t,isMessengerOpen:n},user:{isPresent:i}}=e;if(n&&"conversation"===Object(r.f)(e))return t;if(!n){const t=Object(c.a)(e);if(1===t.length&&i)return t[0].id}},(e,t)=>e.reduce((e,n)=>(a(n,t)&&e.push(n.id),e),[])),d=Object(s.createSelector)(u,e=>e.length)},function(e,t,n){"use strict";function r(e){const t=document.createElement("a");return t.href=e,{protocol:t.protocol,host:t.host,port:t.port,pathname:t.pathname,hash:t.hash,search:t.search,hostname:t.hostname,origin:t.origin}}function i(e){const t=r(e).search;return t?(/^[?#]/.test(t)?t.slice(1):t).split("&").reduce((e,t)=>{const[n,r]=t.split("=");return e[n]=r?decodeURIComponent(r.replace(/\+/g," ")):"",e},{}):{}}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"c",(function(){return v})),n.d(t,"a",(function(){return y})),n.d(t,"e",(function(){return C})),n.d(t,"b",(function(){return T})),n.d(t,"d",(function(){return I}));var r,i,s=n(233),o=n.n(s),c=n(26),a=n.n(c),u=n(234),d=n.n(u),l=n(219),p=n.n(l),f=n(116),h=n(4);const b="1"===window.navigator.doNotTrack,_=["address","addresses","email","emailAddress","emailAddresses","phoneNumber","phone","number","name","firstName","lastName","userSuppliedEmail","initial","socialAccounts","text","messengerCards","url"],g=[];let m,O;const E=e=>d()(e,(e,t,n)=>{_.indexOf(n)>=0?e[n]="removedIdentifyingInfo":a()(t)&&!o()(t)?e[n]=E(t.toJS?t.toJS():t):e[n]=t}),S=e=>b?"removedIdentifyingInfo":(e=>{const t=p()(e);return E(t)})(e),v=async e=>{const{addTag:t,addExtra:r,logError:i,addBreadcrumb:s}=await Object(f.a)({promise:()=>Promise.all([n.e(51),n.e(46)]).then(n.bind(null,449))});t("app.id",m),g.forEach(({type:e})=>s("redux-action",e)),O&&O.getState&&r("state",S(O.getState())),i(e)},y=e=>{e.onerror=(e,t,n,r,i)=>v(i),e.onunhandledrejection=e=>v(e.reason)},C=e=>{e&&(m=e)},T=e=>{e&&(O=e)},I=()=>function(e){return function(t){return g.push({type:t.type,timestamp:+new Date}),e(t)}};!Object(h.a)()&&null!==(r=window)&&void 0!==r&&null!==(i=r.parent)&&void 0!==i&&i.intercomSettings&&C(window.parent.intercomSettings.app_id)},function(e,t,n){"use strict";var r=n(12),i=n.n(r),s=n(89),o=n(37),c=n(10),a=n(73),u=n(2),d=n(57),l=n(5),p=n(69),f=n(9);function h(e,t){const{conversationId:n}=e.app;return"conversation"===Object(f.f)(e)&&-1!==t.indexOf(n)}var b=n(145);var _=n(1),g=n(27);const m=e=>{let t;return(...n)=>{const r=()=>e(...n);return t=Promise.resolve(t).then(r,r),t}},O=(e,t,n,r)=>{let i=0,s=0;return(...o)=>{const c=g.b.now();return c-s>=n&&(i=0,s=c),i++,i<=t?e(...o):(Object(_.c)(`rate_limiting.${r}`),Object(_.g)(`rate_limit_check_${r}`,{rate_limited:!0,rate_limit_count:n},!0),Promise.reject("rate_limited_update"))}};var E=n(7),S=n(52),v=n(14);const y=e=>{if("rate_limited_update"===e)return null;try{return e.errors||JSON.parse(e).errors}catch(t){Object(v.a)(e),Object(S.c)(e)}};var C=n(51),T=n(32),I=n(19),j=n(8);const w="https://docs.intercom.com/configure-intercom-for-your-product-or-site/staying-secure/enable-identity-verification-on-your-web-product",R={IDENTITY_VERIFICATION_READY_WARNING:`Intercom Messenger warning: Identity Verification is set up correctly but not enabled. For details on how to enable it, see ${w}.`,IDENTITY_VERIFICATION_FAILURE_WITH_USER_ID_WARNING:`Intercom Messenger warning: Your Identity Verification user_hash is invalid. Check that you are generating the user_hash with your user's user_id and your app's secret key. For more details, see ${w}.`,IDENTITY_VERIFICATION_FAILURE_WITH_EMAIL_WARNING:`Intercom Messenger warning: Your Identity Verification user_hash is invalid. Check that you are generating the user_hash with your user's email and your app's secret key. For more details, see ${w}.`};var A=n(4),N=n(21),P=n.n(N);n.d(t,"b",(function(){return k})),n.d(t,"a",(function(){return $})),n.d(t,"f",(function(){return W})),n.d(t,"e",(function(){return q})),n.d(t,"d",(function(){return z}));const M=P()("intercom.actions.user");let D,U;const L=((e,t=6e4)=>{let n;const r=()=>{n={}},i=(...r)=>{const i=e(...r),s=n[i],o=Date.now();return!((e,n)=>void 0===n||e-n>t)(o,s)||(n[i]=o,!1)};return i.reset=r,r(),i})((e,t,n,r)=>{const{email:i,userId:s,userHash:o,anonymousId:c}=e;return JSON.stringify(Object.assign({encryptedPayload:r},{url:t,email:i,userId:s,userHash:o,anonymousId:c},n))},6e4);function k(e,t,n,r,u,f,g,m=!1,O,S="unknown",w,R){return async(N,P)=>{let M,{app:k,session:F}=P();if((!D||U!==n&&k&&k.features&&k.features.singlePageAppRateLimiting)&&Q(n),F=t||F,F.sessionId||(F.sessionId=I.a.generateUUID()),N(x(F,n,r,u,f,g,w)),!m&&L(F,n,r,O))return null;try{M=await D(e,P,r,O,S,w)}catch(e){const t=y(e);if("403"===(e=>e&&e[0].code)(t)&&R)return Object(v.b)("This domain is not allowed for the Intercom Messenger. Add your domain here: https://app.intercom.com/a/apps/_/messenger"),R(!0),null;t&&t.find(e=>"App Not Found"===e.message)&&Object(v.b)("The App ID in your code snippet is incorrect. Change it to your App ID found in settings to complete installation: http://app.intercom.com/a/apps/_/settings/web"),N(V(e,X(e)));const n=(e=>{const t=y(e);if(!t)return;const n=t.find(e=>e.data);if(!n)return;const r=n.data;return{activeSubscription:r.active_subscription,userHashVerified:r.user_hash_verified,secureInstallV2:r.secure_install_v2,messengerEnabledForVisitors:r.messenger_enabled_for_visitors,messengerEnabledForUsers:r.messenger_enabled_for_users}})(e);return n&&N(Object(b.c)(n)),null}Object(_.n)(M);const{errors:B,installModeConfig:H,notificationLinkConversationId:$}=M;if(H&&N(Object(b.c)(H)),B)return null;if(K(M,F,H),J(M),N(G(M)),N(Object(o.e)(M.composerSuggestions)),M.newConversationComposerState&&N(Object(l.r)(M.newConversationComposerState)),Object(A.a)()||N(Object(T.b)()),N(Object(p.a)({color:M.app.color,secondaryColor:M.app.secondaryColor})),$&&N(Object(c.c)($)),M.unreadConversationIds.length>0){const t=P();h(t,M.unreadConversationIds)?N(Object(l.l)(e,t.app.conversationId)):N(Object(d.d)(e,"createOrUpdateUser"))}if(!Object(j.g)()&&M.app.features.launcherDiscoveryMode&&N(Object(s.e)()),!Object(A.a)()){var W,q,z;const{activeTour:e}=M,t=null===(W=Object(C.a)(null===(q=window)||void 0===q?void 0:null===(z=q.parent)||void 0===z?void 0:z.location))||void 0===W?void 0:W.product_tour_id;i()(e)||(i()(t)?N(Object(T.j)(e)):Object(E.d)(`Tour with id ${e.id} received from ping won't start because there is a tourId in the query params`))}if(!Object(A.a)()){const{banners:e}=M;i()(e)||N(Object(a.e)(e))}return M}}function x(e,t,n,r,i,s,o){return{type:"CREATE_OR_UPDATE_USER_REQUEST",session:e,url:t,customAttributes:n,launcherEnabledOverride:r,anonymousSessionDuration:i,customizationAttributes:s,internal:o}}function G(e){return{type:"CREATE_OR_UPDATE_USER_SUCCESS",user:e}}function V(e,t=!1){return{type:"CREATE_OR_UPDATE_USER_FAILURE",error:e,isIdentityVerificationError:t}}function F(){return{type:"MESSENGER_OPEN_REQUEST_SENT"}}function B(e){return{type:"MESSENGER_OPEN_REQUEST_SUCCESS",response:e}}function H(e){return{type:"MESSENGER_OPEN_REQUEST_FAILED",error:e}}function $(e){return{type:"ANONYMOUS_SESSION_CHANGED",anonymousSession:e}}function W(){return{type:"USER_IS_PRESENT"}}function q(){return{type:"USER_IS_ABSENT"}}function z(e,t,n){return(r,i)=>{const{session:s}=i();if(s)return r({type:"CREATE_EVENT",name:t,boundEventMetadata:n}),e.sendBeaconEvent(s,t).catch(()=>r({type:"CREATE_EVENT_FAILED"}))}}function Q(e){Y(30,18e5,e)}function Y(e,t,n){U=n,D=((e,t,n,r)=>m(O(e,t,n,r)))((e,t,n,r,i,s)=>{const{session:o}=t();return e.createOrUpdateUser(o,n,void 0,r,i,s,Object(_.l)())},e,t,"user_update")}function J(e){const t=e.cdasBreachingLimit;if(!t.length)return;const n=1===t.length?"attribute":"attributes",r=t.join(", ");Object(v.b)(`You have reached your CDA limit and we were not able to create or update the following ${n}: ${r}. For more details, see: https://www.intercom.com/help/configure-intercom/customize-intercom-to-be-about-your-users/send-custom-user-attributes-to-intercom`)}function K(e,t,n={}){const{userHash:r,userId:i,email:s}=t,{secureInstallV2:o,secureInstallV3:c}=n;if(o||c){if(!i&&!s)return}else if(!r)return;const a=function(e,t){if(e.identityVerificationReady)return R.IDENTITY_VERIFICATION_READY_WARNING;if(!e.identityVerified&&t.userId)return R.IDENTITY_VERIFICATION_FAILURE_WITH_USER_ID_WARNING;if(!e.identityVerified&&!t.userId)return R.IDENTITY_VERIFICATION_FAILURE_WITH_EMAIL_WARNING;return null}(e,t);a&&Object(v.b)(a)}function X(e){const t=y(e);if(!t)return!1;let n=!1;return t.forEach(e=>{-1!==e.code.indexOf("identity_verification")&&(n=!0,Object(v.a)(`Intercom Messenger error: ${e.message} For more details, see ${w}.`))}),n}t.c={createOrUpdateUser:k,createOrUpdateUserRequest:x,createOrUpdateUserSuccess:G,createOrUpdateUserFailure:V,sendMessengerOpen:function(e,t){return async(n,r)=>{const i=r(),s=Object(f.f)(i),{session:o}=i;let c;t||n({type:"MESSENGER_OPEN_REQUEST_SENT"});try{c=await e.sendMessengerOpen(o,s)}catch(e){return M("Request to messenger open failed",e),t||n(H(e)),null}return t||n(B(c)),c}},messengerOpenRequestSent:F,messengerOpenRequestSuccess:B,messengerOpenRequestFailed:H,destroySession:function(e=!0){return{type:"DESTROY_SESSION",clearCookies:e}},anonymousSessionChanged:$,userIsPresent:W,userIsAbsent:q,createEvent:function(e,t,n){return(r,i)=>{const{session:s}=i();if(s)return r({type:"CREATE_EVENT",name:t,metadata:n}),e.createEvent(s,t,n).then(t=>{const{banner:n,customBot:i}=t;return Object(A.a)()||n&&r(Object(a.e)([n])),i&&r(Object(l.o)(e,Object(u.a)(i))),t}).catch(()=>r({type:"CREATE_EVENT_FAILED"}))}},triggerBoundEvent:z,setupCreateOrUpdateUserRateLimiting:Y,setupDefaultCreateOrUpdateUserRateLimiting:Q,isDuplicateCreateOrUpdateUserRequest:L,checkCdasBreachingLimit:J,checkIdentityVerificationInstall:K,checkIdentityVerificationError:X}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(4);const i=()=>!Object(r.a)()&&window.parent&&window.parent.intercomSettings&&"tx2p130c"===window.parent.intercomSettings.app_id},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s}));var r=n(28);function i(e){return e.requiresCookieConsent||!1}function s(e){if(!e)return!0;if(!(e.requiresCookieConsent||!1))return!0;const t=r.a.read("gtm_cookie_consent");return!t||function(e){const{advertising:t,marketing:n,analytics:r,performance:i}=Object.fromEntries(e.split("+").map(e=>[e,!0]));return{advertising:!!t,analytics:!!r,marketing:!!n,performance:!!i}}(t).analytics}},,function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return f})),n.d(t,"e",(function(){return h}));var r=n(35),i=n(6),s=n(214);function o(e,t="unknown",n=1,s=10){return(o,u)=>{o({type:"GET_CONVERSATIONS_REQUEST"});const{session:d,app:l}=u();return e.getConversations(d,{source:t,page:n,perPage:s,selfServeSuggestionsMatch:l.selfServeSuggestionsMatch}).then(t=>{t.conversations.forEach(t=>{Object(i.s)(t).forEach(t=>{o(Object(r.a)(e,t))})}),o(h(t)),o(c(t))}).catch(()=>{o(a())})}}function c(e){return{type:"GET_CONVERSATIONS_SUCCESS",conversations:e}}function a(e){return{type:"GET_CONVERSATIONS_FAILURE",error:e}}function u(e,t){return(n,r)=>{n(d(t));const{session:i}=r();return e.dismissNotifications(i,t).then(()=>n(l(t)))}}function d(e){return{type:"DISMISS_NOTIFICATIONS_REQUEST",conversationIds:e}}function l(e){return{type:"DISMISS_NOTIFICATIONS_SUCCESS",conversationIds:e}}function p(e){return{type:"CONVERSATIONS_SCROLLED",scrollPosition:e}}function f(e){return{type:"EMAIL_ATTRIBUTE_COLLECTOR_INSERTED",conversationId:e}}function h(e){return t=>{const n=e.conversations;n&&n.forEach(e=>{Object(i.n)(e)&&e.read&&t(Object(s.a)(e.id))})}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(0);const i=["left","right"],s=e=>Math.max(e||20,20),o=e=>(e=>i.indexOf(e)>=0)(e)?e:"right",c=Object(r.createSelector)(e=>e.app,e=>e.customizationOverrides,(e,t={})=>{const{alignment:n,horizontalPadding:r,verticalPadding:i,color:c,secondaryColor:a}=e,{alignment:u,horizontalPadding:d,verticalPadding:l,color:p,secondaryColor:f}=t;return{alignment:o(u||n),horizontalPadding:s(d||r),verticalPadding:s(l||i),color:p||c,secondaryColor:f||a}});t.b=c},,,,,function(e,t,n){"use strict";var r=n(0),i=n(36),s=n(6);const o=Object(r.createSelector)(i.a,e=>e.filter(e=>{return!e.read&&"whatsapp"!==e.currentChannel&&!e.forceSnippet&&(1===(t=e).parts.length&&"full"===t.parts[0].notificationType||Object(s.i)(e))&&"pointer"!==e.messageType&&!Object(s.n)(e)&&!e.preventEndUserReplies;var t}));t.a=Object(r.createSelector)(e=>{const{conversations:{byId:t},message:{conversationId:n}}=e;return t[n]},o,(e,t)=>{return n=t,void 0===(r=e)||((e,t)=>void 0!==e.find(e=>e.id===t.id))(n,r)||Object(s.n)(r)?n:n.concat(r);var n,r})},,function(e,t,n){"use strict";function r(e,t){return{type:"OPEN_MESSAGE",conversationId:e,partId:t}}function i(){return{type:"CLOSE_MESSAGE"}}function s(e,t){return{type:"RECORD_MESSAGE_SENT",conversationId:e,partId:t}}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return s}))},,,function(e,t,n){"use strict";t.a=e=>Object.keys(e).map(t=>e[t])},function(e,t,n){"use strict";function r(e){return Math.pow((e+.055)/1.055,2.4)}function i(e){const t=e[0]/255,n=e[1]/255,i=e[2]/255;return.2126*(t<=.03928?t*(1/12.92):r(t))+.7152*(n<=.03928?n*(1/12.92):r(n))+.0722*(i<=.03928?i*(1/12.92):r(i))}function s(e){let t=255;8===(e=e.replace(/^#/,"")).length&&(t=parseInt(e.slice(6,8),16),e=e.substring(0,6)),4===e.length&&(t=parseInt(e.slice(3,4).repeat(2),16),e=e.substring(0,3)),3===e.length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);const n=parseInt(e,16);return[n>>16,n>>8&255,255&n,t]}function o(e,t){return function(e,t){return(Math.max(e,t)+.05)/(Math.min(e,t)+.05)}(i(e),i(t))}function c(e,t){return o(s(e),s(t))}var a=n(90);n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return l}));const u=(e,t,n,r)=>(c(t[r],e)>=n?r:null)||Object.keys(t).find(r=>c(t[r],e)>=n)||r,d=e=>({type:"SET_TAB_NAVIGATION",tabNavigation:e}),l=({color:e,secondaryColor:t})=>({type:"SET_ACCESSIBILITY_THEME",accessibilityTheme:u(e,a.a,2,"default"),secondaryAccessibilityTheme:u(t,a.a,2,"light")})},,function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return o})),n.d(t,"h",(function(){return c})),n.d(t,"g",(function(){return a})),n.d(t,"b",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"i",(function(){return l}));const r="send-data-to-messenger",i="send-data-to-sheet",s="set-iframe-src",o="close",c="submit-sheet",a="start-navigation",u="finish-navigation",d="set-title";function l(e,t,n){return{intercomSheet:{type:e,payload:t,meta:{proxy:n}}}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return u}));var r=n(4),i=n(11);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const a=(()=>{var e,t,n;const i="composer-suggestions-disabled-at";if(Object(r.a)())return i;const s=null===(e=window)||void 0===e?void 0:null===(t=e.parent)||void 0===t?void 0:null===(n=t.intercomSettings)||void 0===n?void 0:n.app_id;return s?`${s}-${i}`:i})();const u={loading:!1,isViewed:!1,isDismissed:function(){const e=parseInt(i.a.get(a));return!!e&&Date.now()-e<2592e6}()||!1,suggestions:[],prompt:[],priority:0};t.a=function(e=u,t){switch(t.type){case"COMPOSER_CONTENT_CHANGED":return""===t.composerContent?o(o({},e),{},{isViewed:!1}):e;case"SET_COMPOSER_SUGGESTIONS":{var n;const{priority:r}=t,i=e.isViewed||(null==t?void 0:null===(n=t.composerSuggestions)||void 0===n?void 0:n.suggestions.length)>0;return r<e.priority?e:t.composerSuggestions?o(o(o({},e),t.composerSuggestions),{},{priority:r,loading:!1,isViewed:i}):o(o({},u),{},{isViewed:e.isViewed,isDismissed:e.isDismissed,priority:r})}case"SET_COMPOSER_SUGGESTIONS_LOADING":return o(o({},e),{},{loading:t.loadingStatus});case"SET_COMPOSER_SUGGESTIONS_DISMISSED":return r=Date.now(),i.a.set(a,r),o(o({},e),{},{isDismissed:!0});default:return e}var r}},function(e,t,n){"use strict";n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return d}));var r=n(2),i=n(120),s=n(58);function o(e){return{type:"RECEIVE_BANNERS",banners:e}}function c(e){return(t,n)=>{const r=n(),{verticalPadding:o}=Object(s.a)(r),{customizationOverrides:c={}}=r,{isSetByBanner:a}=c;(20===o||a)&&t(Object(i.a)({verticalPadding:e}))}}function a(e,t,n){return(i,s)=>{const{session:o}=s();i(function(e,t){return{type:"COLLECT_EMAIL_FROM_BANNER",bannerId:e,email:t}}(e,n)),r.b.collectEmailFromBanner(o,e,t,n)}}function u(e,t){return(n,i)=>{const{session:s}=i();n({type:"DISMISS_BANNER"}),r.b.dismissBanner(s,e,t);const c=[];for(const t of i().banners)t.banner_id!==e&&c.push(t);n(o(c))}}function d(e,t,n){return(i,s)=>{const{session:o}=s();i(function(e,t){return{type:"REACT_TO_BANNER",bannerId:e,reaction:t}}(e,n)),r.b.reactToBanner(o,e,t,n)}}},function(e,t,n){"use strict";var r=n(40),i=n.n(r),s=n(122),o=n(10),c=n(45),a=n(5),u=n(9);var d=n(19);const l={};var p=n(21),f=n.n(p);n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return E})),n.d(t,"d",(function(){return S})),n.d(t,"e",(function(){return v}));const h=f()("intercom.actions.triggers"),b={"open-messenger-loading-view":o.h},_={"show-conversation":function(e,t){return async(n,r)=>{if("conversation"!==Object(u.f)(r()))return await n(Object(a.l)(e,t.id)),n(Object(c.a)(t.id,!0))}}},g={};function m(e,t){return n=>{n(function(e){return{type:"ADD_TRIGGER",trigger:e}}(e)),function(e,t,n){try{const{selector:r,event:s,id:o}=e,c=window.parent.document.querySelector(r),a=i()(()=>function(e,t,n){h(`Handling event (triggerId=${e})`),t(E(e,n))}(o,t,n),3e3,{leading:!0,trailing:!1}),u=()=>{h(`${s} event fired from ${r} (triggerId=${o})`),a()};c.addEventListener(s,u),g[o]={targetElement:c,boundHandler:u},h(`Attached ${s} event handler to ${r}`)}catch(e){h(`Couldnt attach the messenger trigger to the DOM due to e=${e}`)}}(e,n,t)}}function O(e){return(t,n)=>{!function(e,t){try{const{selector:n,event:r}=Object(s.c)(e)(t),{targetElement:i,boundHandler:o}=g[e];i.removeEventListener(r,o),h(`Detached ${r} event handler from ${n}`)}catch(e){h(`Couldn't detach the messenger trigger to the DOM due to e=${e}`)}finally{delete g[e]}}(e,n()),t(function(e){return{type:"REMOVE_TRIGGER",triggerId:e}}(e))}}function E(e,t){return async(n,r)=>{const i=Object(s.c)(e);try{i(r())}catch(t){return void h(`Rejected trigger=${e} as it's no longer present in the store`)}try{await async function(e){return new Promise(t=>{if(l[e])throw new Error(`Multiple events of type=${e} fired`);l[e]=!0,setTimeout(async()=>{l[e]=!1,t()},0)})}("messenger-trigger-fire")}catch(t){return void h(`Rejected trigger=${e} as multiple triggers were fired in same tick`)}try{const s=r(),{session:o}=s,c=i(s),u=Object(d.b)(),l={clientId:u,createdAt:new Date};n(function(e){return{type:"ACTIVATE_TRIGGER",triggerId:e}}(e)),n(function(e){return t=>{const n=b[e.preAction];if("function"==typeof n)return t(n());throw`Invalid PRE ACTION type for trigger=${e.id}`}}(c)),n(Object(a.h)(l,!1));const p=await t.fireTrigger(o,{triggerId:String(e),clientAssignedUUID:u});n(y(t,p)),n({type:"DEACTIVATE_TRIGGER"})}catch(e){n({type:"ACTIVATE_TRIGGER_FAILED"}),n(Object(a.g)(null)),h(`Couldnt fire messenger trigger due to e=${e}`)}}}function S(e,t){return async(n,r)=>{const i=r(),{session:s}=i,o=await e.outboundPreview(s,t);n(y(e,o))}}function v(e){return(t,n)=>{try{const r=n();t(E(Object(s.a)(r).id,e))}catch(e){h("Couldnt retry firing messenger trigger")}}}function y(e,t){return n=>{const{action:r,data:i}=t,s=_[r];if(s)return n(s(e,i));throw`Invalid POST ACTION type for trigger_action=${r}`}}},,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o}));var r=n(18);const i=["password","passwd","secret","api_key","apikey","access_token","auth_token","credentials","mysql_pwd","stripetoken"],s=()=>{var e;return null===(e=Object(r.d)())||void 0===e?void 0:e.host},o=e=>e?(i.forEach(t=>{e=c(e,t,"***")}),e):e,c=(e,t,n)=>{const r=new RegExp("([?&])"+t+"=.*?(&|$)","i");return e.match(r)?e.replace(r,"$1"+t+"="+n+"$2"):e}},function(e,t,n){"use strict";n.d(t,"e",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return d}));let r,i;function s(){return(e,t)=>{const{launcherDiscoveryMode:{hasDiscoveredLauncher:n,isLauncherDiscoveryModeOpening:r,isLauncherDiscoveryModeClosing:i}}=t();n||r||i||(setTimeout(()=>{e({type:"OPEN_LAUNCHER_DISCOVERY_MODE"})},6e3),a(e))}}function o(){r&&clearTimeout(r),i&&clearTimeout(i)}function c(){return e=>{a(e)}}const a=e=>{r=setTimeout(()=>e({type:"CLOSE_LAUNCHER_DISCOVERY_MODE"}),9500),i=setTimeout(()=>e({type:"DISABLE_LAUNCHER_DISCOVERY_MODE"}),10200)};function u(){return{type:"OPENING_MESSENGER_FROM_LAUNCHER_DISCOVERY_MODE"}}function d(){return{type:"DISABLE_LAUNCHER_DISCOVERY_MODE"}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r={default:"#3b99fc",dark:"#38373e",light:"#cdcecd"}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return a}));var r=n(4),i=n(23);let s="";const o=()=>Object(r.a)()?s:parent.document.cookie,c=e=>s=e,a=e=>(Object(r.a)()?(Object(i.m)(e),c(e)):parent.document.cookie=e,e)},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return l}));var r=n(4),i=n(8),s=n(23);let o={},c={};const a=(e,t)=>({get:t=>{const n=e[`intercom.${t}`];return void 0===n?null:n},set:(n,r)=>{Object(s.l)(`intercom.${n}`,r,t),e[`intercom.${n}`]=r},remove:e=>Object(s.j)(`intercom.${e}`,t),clear:()=>{}}),u=()=>{Object(r.a)()&&Object(s.g)(e=>{c=i.a.hasLocalStorageSupport()?e.sessionStorage:{},o=i.a.hasLocalStorageSupport()?e.localStorage:{}})},d=()=>a(o,"localStorage"),l=()=>a(c,"sessionStorage")},function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d}));var r=n(21),i=n.n(r),s=n(5),o=n(19),c=n(38);const a=i()("intercom.actions.predictive-answers");function u(e,t,n=!1){return async(r,i)=>{try{const a=void 0,u=i(),{session:l,newConversation:p,user:f}=u,h=Object(o.b)(),b={clientId:h,body:Object(c.c)(t.text),createdAt:new Date,composerSuggestionItem:t};r(d(null)),r(Object(s.h)(b,n));const _=await e.fireComposerSuggestion(l,{conversationId:a,suggestion:t,clientId:h,botIntro:p?p.botIntroId:null,resolutionBotBehaviorVersionId:f?f.resolutionBotBehaviorVersionId:null});r(Object(s.i)(_,null,null,Date.now(),"predictive_answer"))}catch(e){r(Object(s.g)(null)),a(`Couldnt start conversation from suggestion due to e=${e}`)}}}function d(e){return{type:"SET_PREDICTIVE_ANSWERS",predictiveAnswersSuggestions:e}}},function(e,t,n){"use strict";var r=n(18),i=n(4);n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return l}));const s=[],o=e=>{u(e);const t=document.createElement("meta");t.id="intercom-viewport-meta",t.name="viewport",t.content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0",e.document.getElementsByTagName("head")[0].appendChild(t)},c=e=>{const t=e.document.getElementById("intercom-viewport-meta");t&&(t.parentNode.removeChild(t),d(e))},a=()=>{const e=Object(r.c)();return e.innerWidth<=450||e.innerWidth<=900&&e.innerHeight<=450},u=e=>{[].slice.call(e.document.getElementsByTagName("meta")).forEach(e=>{"viewport"===e.name&&(s.push(e.cloneNode()),e.parentNode.removeChild(e))})},d=e=>{const t=s.length;for(let n=0;n<t;n++)e.document.getElementsByTagName("head")[0].appendChild(s.pop())},l=()=>{if(!Object(i.a)())try{a()&&!window.parent.navigator.standalone&&window.parent.scrollTo(0,0)}catch(e){}}},function(e,t,n){"use strict";var r=n(12),i=n.n(r),s=n(0),o=n(11),c=n(211);t.a=Object(s.createSelector)([e=>e.app,e=>e.user,e=>e.launcher,c.a],(e,t,n,r)=>!r&&function(e,t){const{inboundMessages:n,outboundMessages:r,anonymousInboundMessages:i}=e.features;return"user"===t.role?n||r:i}(e,t)&&function(e){switch(e.launcherEnabledOverride){case"show":return!0;case"hide":return!1;default:return e.isLauncherEnabled}}(n)&&!function(){const e=o.b.get("intercom-snippet__intersection-mode");return!i()(e)&&!(-1!==["inbound-custom-bot-preview","outbound-custom-bot-preview"].indexOf(e))}())},,function(e,t,n){"use strict";t.a=e=>"participant_added"===e||"participant_removed"===e||"article_feedback_requested"===e||"temporary_expectations"===e},function(e,t,n){"use strict";let r,i;n.d(t,"a",(function(){return o})),n.d(t,"f",(function(){return c})),n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return l}));let s=!1;const o=()=>r,c=e=>r=e,a=e=>i=e,u=()=>i,d=()=>!s,l=e=>s=e},,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(1),i=n(4);const s={maxRetries:3};t.a=({promise:e,maxRetries:t}=s)=>{let n=0;const o=Object(i.a)()?window.requestAnimationFrame:window.parent.requestAnimationFrame,c=(i,s)=>{e().then(e=>i(e),e=>{n<t&&o?(n+=1,window.setTimeout(()=>o(()=>c(i,s)),1e3*n)):(Object(r.g)("dynamicImportCdnError",{message:e&&e.message}),s(e))})};return new Promise((e,t)=>c(e,t))}},function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return c})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"f",(function(){return l})),n.d(t,"h",(function(){return f}));var r=n(0);const i=e=>e.messengerSheet,s=(Object(r.createSelector)(i,e=>e.isSheetsDataLoading),Object(r.createSelector)(i,e=>e.isSheetsDataLoaded)),o=Object(r.createSelector)(i,e=>e.isProxyLoaded),c=Object(r.createSelector)(i,e=>e.sheetTitle),a=Object(r.createSelector)(i,e=>e.isNavigating),u=Object(r.createSelector)(i,e=>e.isOpen),d=Object(r.createSelector)(i,e=>e.sourceCard),l=Object(r.createSelector)(i,e=>e.url),p=Object(r.createSelector)(i,e=>e.data),f=Object(r.createSelector)(p,e=>JSON.stringify(e))},,function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));const r=e=>{const t=function(t){return e[t]},n="(?:"+Object.keys(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}},i=r({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"}),s=r({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#x27;":"'","&#x60;":"`","&#39;":"'"})},function(e,t,n){"use strict";function r(e){return{type:"CREATE_CUSTOMIZATION_OVERRIDE",customizationAttributes:e}}function i(e){return{type:"CREATE_BANNER_CUSTOMIZATION_OVERRIDE",customizationAttributes:e}}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));let r;function i(e,t){return n=>{n({type:"SHOW_ALERT",payload:{alertType:e,alertPayload:t}}),r&&clearTimeout(r),r=setTimeout(()=>{n({type:"CLOSE_ALERT"})},5e3)}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return u}));var r=n(0);const i=e=>e.triggers,s=Object(r.createSelector)(i,e=>e.triggers),o=Object(r.createSelector)(i,e=>e.active),c=Object(r.createSelector)(i,e=>e.failed),a=e=>Object(r.createSelector)(s,t=>{const n=t[e];if(n)return n;throw new Error(`Can't find the messenger trigger of id=${e}`)}),u=Object(r.createSelector)(s,o,(e,t)=>{const n=e[t];if(n)return n;throw new Error("No messenger trigger is active")})},,,function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return a})),n.d(t,"e",(function(){return u}));var r=n(0);const i=e=>e.browseMode,s=Object(r.createSelector)(i,({isOpen:e})=>e),o=Object(r.createSelector)(i,({routedToNewConversation:e})=>e),c=o,a=e=>{var t;return null===(t=e.browseMode)||void 0===t?void 0:t.phrase},u=e=>{var t;return null===(t=e.browseMode)||void 0===t?void 0:t.searchedPhrase};Object(r.createSelector)(i,e=>e.articleHistory||[])},function(e,t,n){"use strict";n.d(t,"g",(function(){return r})),n.d(t,"h",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"i",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return l}));const r="search_browse_card",i="search_browse_card_input",s="article",o="collection",c="input",a="reaction",u="search_browse",d="search_browse",l="search_browse_article"},,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o}));var r=n(2);function i(e){const{activeSubscription:t,userHashVerified:n,secureInstallV2:r,messengerEnabledForVisitors:i,messengerEnabledForUsers:s}=e;return{type:"OPEN_INSTALL_MODE",activeSubscription:t,userHashVerified:n,secureInstallV2:r,messengerEnabledForVisitors:i,messengerEnabledForUsers:s}}function s(){return{type:"CLOSE_INSTALL_MODE"}}function o(){return(e,t)=>{const{session:n}=t();return r.b.disableInstallMode(n).then(()=>{e({type:"CLOSE_INSTALL_MODE"})})}}},,,function(e,t,n){"use strict";t.a=e=>{try{return window.btoa(unescape(encodeURIComponent(e)))}catch(t){return e}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"g",(function(){return f})),n.d(t,"k",(function(){return h})),n.d(t,"e",(function(){return b})),n.d(t,"i",(function(){return m})),n.d(t,"j",(function(){return S})),n.d(t,"d",(function(){return E})),n.d(t,"f",(function(){return g})),n.d(t,"a",(function(){return O})),n.d(t,"h",(function(){return v})),n.d(t,"c",(function(){return u}));var r=n(12),i=n.n(r),s=n(0),o=n(215),c=n(9),a=n(36);const u=e=>e.homeScreen,d=e=>e.user.searchRequiredBeforeConversation,l=(e,t)=>e.some(e=>e.slotType===t),p=Object(s.createSelector)(u,({matchedSlots:e=[]}={})=>l(e,"help_center")),f=Object(s.createSelector)(u,e=>e.articleCollections,({fetchedSlots:e=[]}={},t)=>l(e,"help_center")&&!i()(t)),h=Object(s.createSelector)(u,({matchedSlots:e=[]})=>l(e,"help_center")||l(e,"messenger_app")),b=Object(s.createSelector)([f,d,c.b],(e,t,n)=>(!e||!t)&&n),_=Object(s.createSelector)(u,({fetchedSlots:e=[]})=>0===e.findIndex(e=>"new_conversation_card"===e.slotType)),g=Object(s.createSelector)([o.a],(e=[])=>e.length>0),m=Object(s.createSelector)([g,_],(e,t)=>!!e||!t),O=Object(s.createSelector)([a.a,e=>e.homeScreen.hasMoreConversations],(e,t)=>e.length>0||t),E=Object(s.createSelector)([g,O],(e,t)=>!e&&t),S=Object(s.createSelector)([d,c.b,c.a],(e,t,n)=>e&&t&&n),v=Object(s.createSelector)([g,b,O],(e,t,n)=>!e&&!t&&n)},function(e,t){e.exports={source_map:"hidden-source-map",api_base:"https://api-iam.intercom.io",public_path:"https://js.intercomcdn.com/",sheets_proxy_path:"https://intercom-sheets.com/sheets_proxy",sentry_proxy_path:"https://www.intercom-reporting.com/sentry/index.html",install_mode_base:"https://app.intercom.com",sentry_dsn:"https://f305de69cac64a84a494556d5303dc2d@app.getsentry.com/24287",intersection_js:"https://js.intercomcdn.com/intersection/assets/app.js",intersection_styles:"https://js.intercomcdn.com/intersection/assets/styles.js",article_search_messenger_app_id:27,mode:"production",priv_sep_html_path:"https://www.intercom-reporting.com"}},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));const r=300,i="ease-in-out"},,function(e,t,n){"use strict";function r(e){return void 0!==e.AndroidHost?e.AndroidHost:void 0!==e.iOSHost?e.iOSHost:void 0}function i(e){return void 0!==e.AndroidHost?"android":void 0!==e.iOSHost?"ios":void 0}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return _})),n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return O}));var r=n(40),i=n.n(r),s=n(2),o=n(5),c=n(19),a=n(38),u=n(1),d=n(42);let l=0,p="",f=!1;function h(e,t){return(n,r)=>{const i=r(),{composerSuggestions:s}=Object(d.b)(i);if(!s||!s.isDismissed)return p=e,b(n,r,t)}}const b=i()((function e(t,n,r){const i=++l,o=p,c=n(),{session:a}=c,{composerSuggestions:h}=Object(d.b)(c);if(!h||!h.loading)return f=!1,t(m(!0,r)),Object(s.d)(a,o,3).then(s=>{if(t(m(!1,r)),t(g(s,r,i)),f&&p!==o)return b.cancel(),void e(t,n,r);const c=Object.assign({},{query:o,conversation_id:r},s);Object(u.e)("received","composer_smart_suggestions","messenger",{},c,"m4_metric")});f=!0}),150,{leading:!1,trailing:!0});function _(e,t,n,r=!1,i,s){return async(u,d)=>{const l=d(),p=(null==t?void 0:t.id)||null,{session:f,newConversation:h,user:b}=l,_=Object(c.b)(),m=new Date;if(u(g(null,p)),p){const c={conversationId:p,clientId:_,createdAt:m,body:Object(a.c)(n.text),composerSuggestionItem:n};try{u(Object(o.e)(p,c,r)),await e.fireComposerSuggestion(f,{conversationId:p,suggestion:n,clientId:_}),u(Object(o.f)(p,c,i,t.lastParticipatingAdmin,s,!1,m,!0))}catch(e){u(Object(o.d)(p,c,e))}}else{const t={clientId:_,body:Object(a.c)(n.text),createdAt:m,composerSuggestionItem:n};try{u(Object(o.h)(t,r));const i=await e.fireComposerSuggestion(f,{conversationId:p,suggestion:n,clientId:_,botIntro:h?h.botIntroId:null,resolutionBotBehaviorVersionId:b?b.resolutionBotBehaviorVersionId:null});u(Object(o.i)(i,null,null,m,"resolution_bot_auto_suggest"))}catch(e){u(Object(o.g)(null))}}}}function g(e,t,n=++l){return{type:"SET_COMPOSER_SUGGESTIONS",conversationId:t,composerSuggestions:e,priority:n}}function m(e,t){return{type:"SET_COMPOSER_SUGGESTIONS_LOADING",conversationId:t,loadingStatus:e}}function O(e){return{type:"SET_COMPOSER_SUGGESTIONS_DISMISSED",conversationId:e}}},function(e,t,n){"use strict";n.d(t,"d",(function(){return h})),n.d(t,"b",(function(){return b})),n.d(t,"h",(function(){return _})),n.d(t,"a",(function(){return g})),n.d(t,"f",(function(){return m})),n.d(t,"g",(function(){return O})),n.d(t,"c",(function(){return E})),n.d(t,"e",(function(){return S}));var r=n(157),i=n(35),s=n(151),o=n(71),c=n(218),a=n(117),u=n(10),d=n(9),l=n(1),p=n(121),f=n(65);function h(e,t){return(n,r)=>{const{intercomSheet:i}=t.data||{},s=r(),u=Object(a.g)(s);if(!i)return null;switch(i.type){case c.b:n({type:"FINISH_NAVIGATION"});break;case o.g:n({type:"START_NAVIGATION"});break;case o.b:n({type:"FINISH_NAVIGATION"});break;case o.a:n(g("sheet_api_close"));break;case o.f:if(!i.payload)return;n(m(i.payload.title));break;case o.h:if(!u)return null;n({type:"START_NAVIGATION"}),n(_(e,i.payload))}}}function b(e,t,n,r,i){return(s,o)=>{const{app:{isMessengerOpen:c},session:a}=o();return c||s(Object(u.l)()),s(function(e,t,n){return{type:"OPEN_SHEET",url:e,cardUri:t,componentId:n}}(r,t,n)),s(v()),s(Object(f.a)()),e.fetchMessengerSheetData(a,t,n,i).then(e=>{s(y(e))}).catch(()=>{s(C())})}}function _(e,t){return(n,o)=>{const c=o(),{cardUri:u}=Object(a.g)(c),{session:d}=c;return e.submitSheet(d,u,t).then(t=>{n(Object(r.b)(t)),n(Object(i.a)(e,t))}).then(()=>new Promise(e=>setTimeout(e,2*s.b))).then(()=>{n({type:"FINISH_NAVIGATION"}),n(g("sheet_api_submit"))}).catch(()=>{n(Object(p.a)("MessengerSheetSubmitError",{sheetValues:t}))})}}function g(e){return(t,n)=>{const r=n(),i=Object(a.g)(r),{cardUri:s}=i,{card:o}=r.messengerCards[s];if(o){const{url:t}=r.messengerSheet,{user:n,app:{conversationId:i}}=r;!function(e,t,n,r,i,s){l.j.buildAndAddMetric(e,"closed","messenger_sheet","messenger",t,{url:n,messenger_card_uri:r,messenger_app_id:i,conversation_id:s},"m4_metric")}(n,"sheet_api_submit"===e||"sheet_api_close"===e?e:Object(d.f)(r),t,s,o.messenger_app_id,i)}t({type:"CLOSE_SHEET"})}}function m(e){return{type:"SET_SHEET_TITLE",sheetTitle:e}}function O(){return{type:"START_NAVIGATION"}}function E(){return{type:"FINISH_NAVIGATION"}}function S(e=!1){return{type:"SET_PROXY_LOADED_STATUS",isLoaded:e}}const v=()=>({type:"FETCH_MESSENGER_SHEET_DATA_REQUEST"}),y=e=>({type:"FETCH_MESSENGER_SHEET_DATA_SUCCESS",data:e}),C=()=>({type:"FETCH_MESSENGER_SHEET_DATA_FAILURE"})},,function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var r=n(46),i=n(35),s=n(121);const o=(e,t,n,r)=>(o,d)=>{const{session:l}=d();return o(c(t,n)),e.submitMessengerCardAction(l,t,n,r).then(t=>{o(a(t)),o(Object(i.a)(e,t))}).catch(()=>{o(u(t,n)),o(Object(s.a)("MessengerCardSubmitError",{cardUri:t,componentId:n,inputValues:r}))})},c=(e,t)=>({type:"SUBMIT_MESSENGER_CARD_ACTION_REQUEST",cardUri:e,componentId:t}),a=e=>({type:"SUBMIT_MESSENGER_CARD_ACTION_SUCCESS",card:Object(r.c)(e)}),u=(e,t)=>({type:"SUBMIT_MESSENGER_CARD_ACTION_FAILURE",cardUri:e,componentId:t})},function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return a}));var r=n(31);function i(e){return{type:"OPEN_BOUND_EVENT_CREATOR",stage:e.stage,eventData:e.eventData}}function s(e,t){return Object(r.h)(e,t),{type:"CHANGE_BOUND_EVENT_CREATOR_STAGE",newStage:t}}function o(e,t){return Object(r.g)(e,t),{type:"UPDATE_BOUND_EVENT_DATA",eventData:t}}function c(e){return Object(r.d)(e),{type:"CLOSE_BOUND_EVENT_CREATOR"}}function a(e,t){return Object(r.e)(e,t),{type:"SAVE_BOUND_EVENT",eventData:t}}},function(e,t,n){"use strict";var r=n(36),i=n(6),s=n(0);const o=Object(s.createSelector)([r.a,e=>e.dismissedPointers],(e,t)=>e.filter(e=>!(e.read&&t[e.id])&&Object(i.n)(e)));t.a=Object(s.createSelector)(e=>{const{conversations:{byId:t},pointerMessage:{conversationId:n}}=e;return t[n]},o,(e,t)=>{return n=t,void 0!==(r=e)&&!((e,t)=>void 0!==e.find(e=>e.id===t.id))(n,r)&&Object(i.n)(r)?n.concat(r):n;var n,r})},function(e,t,n){"use strict";var r=n(8);const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o}));const s=e=>{const t=(e=e||"").match(/[^\x00-\x7F]/);if(!e||r.a.isSafari()&&t){const t=e.split(".");e=`File${(new Date).getTime()}`,t.length>1&&(e+=`.${t[t.length-1]}`)}return e},o=(e,t,n)=>{if(!e)return;let r;if(e.split(",")[0].indexOf("base64")>=0){const t=e.split(",")[1];r=window.atob?atob(t):(e=>{if(!e||e.length%4!=0)throw new Error("Invalid string. Length must be a multiple of 4");let t=0;const n=e.length,r=e.indexOf("=")>0?e.length-e.indexOf("="):0,s=new Uint8Array(3*n/4-r),o=new Array(4);for(let n=0;n<e.length;n+=4)o[0]=i.indexOf(e[n]),o[1]=i.indexOf(e[n+1]),o[2]=i.indexOf(e[n+2]),o[3]=i.indexOf(e[n+3]),s[t++]=255&(o[0]<<2|o[1]>>4),o[2]<64&&(s[t++]=255&(o[1]<<4|o[2]>>2),o[3]<64&&(s[t++]=255&(o[2]<<6|o[3])));let c="";for(let e=0;e<s.length;e++)c+=String.fromCharCode(parseInt(s[e]));return c})(t)}else r=unescape(e.split(",")[1]);const s=new Uint8Array(r.length);for(let e=0;e<r.length;e++)s[e]=r.charCodeAt(e);const o=new Blob([s],{type:n});return o.lastModifiedDate=new Date,o.name=t,o}},function(e,t,n){"use strict";var r=n(154),i=n(94),s=n(37),o=n(5),c=n(10),a=n(38),u=n(19);function d(e,t,n,r,i=null,s=!1,d=!1,l,p){return(f,h)=>{const b=h(),{session:_,borderless:g}=b;let m;m="message"===n.partType?null:n.id;const O=function(e){if(e&&e.clientId)return e.clientId;return Object(u.b)()}(i),E=new Date,S=Object(a.c)(r.text),v={conversationId:t,clientId:O,createdAt:E,body:S,selectedReplyOption:{replyOption:r,quickReplyPart:n}};return f(Object(o.e)(t,v,s)),g&&g.conversationId||f(Object(c.f)(t)),e.quickReply(_,t,m,r,O).then(e=>{f(Object(o.f)(t,e,d,l,p,!1,E))}).catch(e=>{f(Object(o.d)(t,v,e))})}}var l=n(1);function p(e,t,n,o=!1,c,a,u){return"messenger_suggested_content"===n.type?Object(r.d)(e,t,n,o,a,u):"quick_reply"===n.type?(c.replyOptions&&-1===c.replyOptions.map(e=>e.uuid).indexOf(n.uuid)&&(Object(l.c)("quick_reply_uuid_mismatch"),Object(l.g)("quick_reply_uuid_mismatch"),Object(l.b)(`quick_reply_uuid_mismatch partId=${c.id} uuid=${n.uuid}`)),d(e,t.id,c,n)):"predictive_answer"===n.type?Object(i.b)(e,n,o):Object(s.c)(e,n,o)}n.d(t,"a",(function(){return p}))},,,,,,,,,,,,,function(e,t,n){"use strict";t.a=function(e){var t;e&&e.Element&&("function"!=typeof(t=e.Element.prototype).matches&&(t.matches=t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||function(e){const t=this,n=(t.document||t.ownerDocument).querySelectorAll(e);let r=0;for(;n[r]&&n[r]!==t;)++r;return Boolean(n[r])}),"function"!=typeof t.closest&&(t.closest=function(e){let t=this;for(;t&&1===t.nodeType;){if(t.matches(e))return t;t=t.parentNode}return null}))}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return l}));var r=n(4);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c=n(150),{assign:a}=Object;function u(){var e;if(Object(r.a)())return;const t=window.parent||window;return t?(null==t?void 0:null===(e=t.intercomSettings)||void 0===e?void 0:e.api_base)||function(e){const t=e.document.querySelector("meta[name=intercom-js-api-base]");return null==t?void 0:t.content}(t):void 0}function d(){const e=a({},c),t={api_base:u()};return t.api_base?(console.log("Overriding config",t),s(s({},e),t)):e}function l(){return!1}},,,function(e,t,n){"use strict";var r=n(0);t.a=Object(r.createSelector)([e=>e.session],e=>!(!e||!e.token))},,function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return a}));var r=n(57);function i(e,t){return(n,i)=>{const{session:c}=i();return n(s(c,t)),e.createOrUpdateUser(c,null,t,"updateUserSuppliedEmail").then(i=>{n(o(i,t)),i.unreadConversationIds.length>0&&n(Object(r.d)(e,"updateUserSuppliedEmail"))})}}function s(e,t){return{type:"UPDATE_USER_SUPPLIED_EMAIL_REQUEST",session:e,userSuppliedEmail:t}}function o(e,t){return{type:"UPDATE_USER_SUPPLIED_EMAIL_SUCCESS",user:e,userSuppliedEmail:t}}function c(e,t){return(n,r)=>{const{session:i}=r();return n({type:"UPDATE_PHONE_NUMBER_REQUEST"}),e.updatePhoneNumber(i,t).then(()=>{n(function(e){return{type:"UPDATE_PHONE_NUMBER_SUCCESS",phoneNumber:e}}(t))}).catch(e=>{let t;e&&(t=JSON.parse(e).message),n(function(e){return{type:"UPDATE_PHONE_NUMBER_FAILURE",message:e}}(t))})}}function a(){return{type:"INPUT_VALUE_CHANGED"}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=e=>({type:"DISMISS_POINTER_MESSAGE",conversationId:e})},function(e,t,n){"use strict";var r=n(0),i=n(216);t.a=Object(r.createSelector)(i.a,({recentConversations:e})=>e.filter(e=>!e.preventEndUserReplies))},function(e,t,n){"use strict";var r=n(0),i=n(36),s=n(6);function o(e){const t=Date.now()-2592e5;return e.lastPartCreatedAt>t}t.a=Object(r.createSelector)(i.a,e=>e.newConversation,(e,t)=>{const n=Object(s.t)(e).filter(o);return t&&1===t.parts.length&&"saving"===t.parts[0].saveState&&n.unshift(t),{recentConversations:n}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(230),i=n.n(r),s=n(66),o=n.n(s),c=n(0);const a=Object(c.createSelector)(e=>e.inboundSuggestions,e=>{if(!e)return null;if(e.previewSuggestions)return e.previewSuggestions;return e.allSuggestions&&e.allSuggestions.length>0?i()(o()(e.allSuggestions,"priority","asc")):null})},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));const r="html-loaded",i="sheet-loaded"},,function(e,t,n){var r={"./failed.mp3":402,"./notification.mp3":403,"./operator.mp3":404,"./submit.mp3":405};function i(e){var t=s(e);return n(t)}function s(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=s,e.exports=i,i.id=220},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(11);const i=()=>!!r.b.get("intercom-snippet__intersection-mode")},function(e,t,n){"use strict";var r=n(0);t.a=Object(r.createSelector)([e=>e.app],e=>e.isMessengerOpen)},function(e,t,n){"use strict";var r=n(0);t.a=Object(r.createSelector)([e=>e.accessibility],e=>e)},function(e,t,n){"use strict";var r=n(0),i=n(156),s=n.n(i),o=n(58);t.a=Object(r.createSelector)(o.b,({color:e,secondaryColor:t})=>{if(!e||!t)return{};const{gradient_start_color:n,gradient_end_color:r,button_text_color:i}=s()({primaryColor:e,secondaryColor:t,darkenAmount:20});return{primaryColor:e,secondaryColor:t,gradientStartColor:n,gradientEndColor:r,buttonTextColor:i}})},function(e,t,n){"use strict";var r=n(0);t.a=Object(r.createSelector)([e=>e.app],e=>e.isBooted||e.bootFailed||e.isBooting&&e.isInstantBootEnabled)},function(e,t,n){"use strict";var r=n(0);t.a=Object(r.createSelector)([e=>e.user],e=>e?e.locale:void 0)},,,,,,,,,,,,,,function(e,t,n){e.exports=n(241)},function(e,t,n){"use strict";n.r(t);n(242);var r=n(4);void 0!==window&&void 0!==window.Object&&(!Object(r.a)()&&window.parent.__INTERCOM_REACT_DEV_TOOLS__&&(window.__REACT_DEVTOOLS_GLOBAL_HOOK__=window.parent.__REACT_DEVTOOLS_GLOBAL_HOOK__),n(410))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var r={"./ar.json":[411,7],"./bg.json":[412,8],"./bs.json":[413,9],"./ca.json":[414,10],"./cs.json":[415,11],"./da.json":[416,12],"./de-form.json":[417,13],"./de.json":[418,14],"./el.json":[419,15],"./en.json":[210],"./es.json":[420,16],"./et.json":[421,17],"./fi.json":[422,18],"./fr.json":[423,19],"./he.json":[424,20],"./hr.json":[425,21],"./hu.json":[426,22],"./id.json":[427,23],"./it.json":[428,24],"./ja.json":[429,25],"./ko.json":[430,26],"./lt.json":[431,27],"./lv.json":[432,28],"./mn.json":[433,29],"./nb.json":[434,30],"./nl.json":[435,31],"./package.json":[436,32],"./pl.json":[437,33],"./pt-BR.json":[438,34],"./pt.json":[439,35],"./ro.json":[440,36],"./ru.json":[441,37],"./sl.json":[442,38],"./sr.json":[443,39],"./sv.json":[444,40],"./tr.json":[445,41],"./vi.json":[446,42],"./zh-CN.json":[447,43],"./zh-TW.json":[448,44]};function i(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],i=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n.t(i,3)}))}i.keys=function(){return Object.keys(r)},i.id=371,e.exports=i},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n.p+"audio/failed.4da3027c.mp3"},function(e,t,n){e.exports=n.p+"audio/notification.20576730.mp3"},function(e,t,n){e.exports=n.p+"audio/operator.2b750c4a.mp3"},function(e,t,n){e.exports=n.p+"audio/submit.3abafccd.mp3"},,,,,function(e,t,n){"use strict";n.r(t);var r=n(174),i=n(9),s=n(95),o=n(28),c=n(24),a=n(96),u=n(16),d=n(37),l=n(120),p=n(32),f=n(155),h=n(2),b=n(0);const _=e=>e.operator,g=Object(b.createSelector)(_,e=>e.lastComposerEvent),m=Object(b.createSelector)(_,e=>e.clientsideMessageConditions);class Predicate{constructor(e){this.chain=e,this.matched=!1}trigger(){this.triggering||(this.triggering=!0,this.matched=!0,this.chain.evaluate(),this.triggering=!1)}evaluate(){return this.matched}cancel(){}}class composite_predicate_CompositePredicate extends Predicate{constructor(e,t){super(e),this.predicates=t}cancel(){this.predicates.forEach(e=>e.cancel())}}class and_predicate_AndPredicate extends composite_predicate_CompositePredicate{evaluate(){return this.predicates.every(e=>e.evaluate())}}class duration_predicate_DurationPredicate extends Predicate{constructor(e,t){super(e),this.interval=t,this.timer=setTimeout(()=>this.trigger(),t)}cancel(){clearTimeout(this.timer)}}var O=n(18);function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class time_on_page_predicate_TimeOnPagePredicate extends Predicate{constructor(e,t){super(e),E(this,"_getURL",()=>{var e;return null===(e=Object(O.d)())||void 0===e?void 0:e.href.toLowerCase()}),E(this,"_setURL",()=>this.url=this._getURL()),this.interval=t,this._setTimeOnPageTimeout()}_check(){this.url!==this._getURL()&&this._resetTimeOnPage()}_resetTimeOnPage(){this.cancel(),this.matched=!1,this._setTimeOnPageTimeout()}_setTimeOnPageTimeout(){this.timer=setTimeout(()=>this.trigger(),this.interval),this.urlCheckInterval=setInterval(()=>this._check(),100),this._setURL()}evaluate(){return this._check(),this.matched}cancel(){clearTimeout(this.timer),clearInterval(this.urlCheckInterval)}}class duration_delta_predicate_DurationDeltaPredicate extends Predicate{constructor(e,t,n){super(e),this.attribute=n,this.interval=t,setTimeout(()=>this._createDeltaTimer(),0)}_createDeltaTimer(){this.timer=setTimeout(()=>{this._evaluateDeltaPredicate()?this.trigger():this._createDeltaTimer()},this._getInterval())}_getInterval(){const e=this.getTimestamp();if(!e)return this.interval;const t=Date.now()-e;return Math.max(100,this.interval-t)}_evaluateDeltaPredicate(){const e=this.getTimestamp();return!!e&&Date.now()-e>this.interval}getTimestamp(){return this.chain.getAttribute(this.attribute)}cancel(){clearTimeout(this.timer)}}class periodic_predicate_PeriodicPredicate extends Predicate{constructor(e,t,n){super(e),this.missing=n||!1,this.interval=t,this.intervalTimer=setInterval(()=>{this._check()},t)}_check(){this.check()?this.trigger():this.matched=!1}evaluate(){return this._check(),this.matched}cancel(){clearInterval(this.intervalTimer)}}class duration_since_predicate_DurationSincePredicate extends periodic_predicate_PeriodicPredicate{constructor(e,t,n,r){super(e,t,r),this.attribute=n}check(){const e=this.chain.getAttribute(this.attribute);return e?Date.now()-e>=this.interval:this.missing}}class equals_predicate_EqualsPredicate extends periodic_predicate_PeriodicPredicate{constructor(e,t,n,r,i){super(e,t),this.attribute=n,this.value=r,this.other=i}check(){return this.other?this.chain.getAttribute(this.other)===this.chain.getAttribute(this.attribute):this.value===this.chain.getAttribute(this.attribute)}}class or_predicate_OrPredicate extends composite_predicate_CompositePredicate{evaluate(){return this.predicates.some(e=>e.evaluate())}}var S=n(25),v=n(23);var y=n(4);class css_selector_predicate_CssSelectorPredicate extends Predicate{constructor(e,t){var n,r,i;super(e),i=e=>{if(this.isNodeVisible(e)){if(this.matched)return;this.trigger()}else this.matched=!1},(r="_check")in(n=this)?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,this.selector=t}evaluate(){if(Object(y.a)())this.matched||(e=this.selector,t=e=>{this._check(e)},Object(v.f)(e,(e=>t=>e({offsetWidth:t.offsetWidth,offsetHeight:t.offsetHeight,getClientRects:()=>t.clientRects}))(t)));else{const e=window.parent.document.querySelector(this.selector);this._check(e)}var e,t;return this.matched}isNodeVisible(e){return e&&Object(S.u)(e)}}class string_predicate_StringPredicate extends Predicate{constructor(e,t,n,r){super(e),this.targetString=t,this.comparison=n,this.candidateString=r}evaluate(){return this.matched=this._check(),this.matched}_check(){switch(this.comparison){case"eq":return this.candidateString===this.targetString;case"ne":return this.candidateString!==this.targetString;case"starts_with":return this.targetString.startsWith(this.candidateString);case"ends_with":return this.targetString.endsWith(this.candidateString);case"contains":return-1!==this.targetString.indexOf(this.candidateString);case"not_contains":return!(-1!==this.targetString.indexOf(this.candidateString));case"known":return!!this.targetString&&""!==this.targetString;default:return!1}}}class url_predicate_UrlPredicate extends string_predicate_StringPredicate{constructor(e,t,n){var r,i,s;super(e),s=()=>{var e;return null===(e=Object(O.d)())||void 0===e?void 0:e.href.toLowerCase()},(i="_getURL")in(r=this)?Object.defineProperty(r,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[i]=s,this.targetString=this._getURL(),this.comparison=t,this.candidateString=null==n?void 0:n.toLowerCase(),setTimeout(()=>this.evaluate(),0),this.interval=setInterval(()=>this.evaluate(),1e3)}evaluate(){return this.targetString=this._getURL(),this._check()?this.trigger():this.matched=!1,this.matched}_check(){switch(this.comparison){case"regex":return new RegExp(this.candidateString).test(this.targetString);default:return super._check()}}cancel(){clearInterval(this.interval)}}class predicate_chain_PredicateChain{constructor(e,t){this.condition=e,this.callback=t,this.root=new and_predicate_AndPredicate(this,this.processSubpredicates(e.predicates))}evaluate(){if(!this.evaluating){this.evaluating=!0;const e=this.root.evaluate();return e&&(this.cancel(),setTimeout(()=>this.callback(this.condition),0)),this.evaluating=!1,e}}cancel(){this.root.cancel()}setContext(e){this.context=e}getAttribute(e){if(this.context)return this.context[e]}processPredicate(e){var t;switch(e.type){case"or":return new or_predicate_OrPredicate(this,this.processSubpredicates(e.predicates));case"and":return new and_predicate_AndPredicate(this,this.processSubpredicates(e.predicates));case"eq":return new equals_predicate_EqualsPredicate(this,this.parseInterval(e.interval),e.attribute,e.value,e.other);case"string":if("client_attributes.last_visited_url"===e.attribute)return new url_predicate_UrlPredicate(this,e.comparison,e.value);case"duration_integer":return null!==(t=e.attribute)&&void 0!==t&&-1!==t.indexOf("time_on_page")?new time_on_page_predicate_TimeOnPagePredicate(this,1e3*this.parseInterval(e.value)):new duration_predicate_DurationPredicate(this,1e3*this.parseInterval(e.value));case"duration_integer_ms":return new duration_predicate_DurationPredicate(this,this.parseInterval(e.value));case"duration_delta":return new duration_delta_predicate_DurationDeltaPredicate(this,this.parseInterval(e.value),e.attribute);case"duration_since":return new duration_since_predicate_DurationSincePredicate(this,this.parseInterval(e.value),e.attribute,e.missing);case"css_selector":return new css_selector_predicate_CssSelectorPredicate(this,e.value)}}parseInterval(e){return parseInt(e,10)}processSubpredicates(e){return e?e.map(e=>this.processPredicate(e)).filter(Boolean):[]}}class predicates_matcher_PredicatesMatcher{constructor(e){this.callback=e,this.isStarted=!1,this.context={}}start(e){this.isStarted&&this.shutdown(),this.conditions=e,this._setupPredicates(e),this.isStarted=!0}shutdown(){this.predicateChains&&this.predicateChains.forEach(e=>e.cancel()),this.isStarted=!1}setContext(e){this.predicateChains&&this.predicateChains.forEach(t=>t.setContext(e))}_setupPredicates(e){this.predicateChains=e.map(e=>new predicate_chain_PredicateChain(e,this.callback))}}var C=n(5),T=n(35),I=n(6);const j=Object(b.createStructuredSelector)({clientsideMessageConditions:m});var w=function(e){const t=new predicates_matcher_PredicatesMatcher(t=>{var n;e.dispatch((n=t,(e,t)=>{const{session:r}=t();return h.b.visitorAutoMessageConditionSatisfied(r,n).then(t=>{t&&(Object(I.s)(t).forEach(t=>e(Object(T.a)(h.b,t,!1))),e({type:"VISITOR_AUTO_MESSAGE_CONDITION_SATISFIED_SUCCESS"}),e(Object(C.o)(h.b,t,!1,Date.now())))},()=>e({type:"VISITOR_AUTO_MESSAGE_CONDITION_SATISFIED_ERROR"}))}))});return()=>{const{clientsideMessageConditions:n}=j(e.getState()),{conditions:r}=t;((e,t)=>{if(!t)return!1;if(!e&&t)return!0;if(e.length!==t.length)return!0;const n=e.map(e=>e.id),r=t.map(e=>e.id);return!n.every(e=>r.indexOf(e)>=0)})(r,n)&&t.start(n)}},R=n(76),A=n.n(R),N=n(63),P=n(41);var M=n(15),D=n(1),U=n(8);function L(e){return e.reduce((e,t)=>Object(I.m)(t)?e:(e[Object(I.g)(t)]=!0,e),{})}function k(e,t){const n=Object(P.a)(t).length>0&&function(e,t){const{forceSnippet:n}=t.notificationTypeOverrides;return e.filter(e=>{if(Object(I.m)(e))return!1;const t=`${e.id}-${Object(M.a)(e.parts).id}`;return void 0===n[t]})}(e,t).length>0;if(Object(U.g)()&&void 0!==e.find(e=>Object(I.i)(e)))return!0;const r=new Date;return r.setDate(r.getDate()-2),!((t.user?new Date(t.user.lastContactedAt):new Date)<r)&&(e.length>1||n)}var x=function(e){return()=>{const t=e.getState(),n=L(Object(P.a)(t).slice(0,-3)),r=Object(N.a)(t),i=L(k(r,t)?r:[]);(Object.keys(n).length>0||Object.keys(i).length>0)&&function(e,t,n){const r=(e=>e.notificationTypeOverrides.suppress)(e),i=(e=>e.notificationTypeOverrides.forceSnippet)(e);return!A()(r,t)||!A()(i,n)}(t,n,i)&&e.dispatch({type:"UPDATE_NOTIFICATION_TYPE_OVERRIDES",suppress:n,forceSnippet:i}),function(e,t,n){if(Object.keys(e).length<=1)return;const r=t.filter(e=>!e.dismissed);if(1!==r.length||"full"!==r[0].parts[0].notificationType)return;Object(D.g)("fullMessageSuppressed",{messageType:r[0].parts[0].messageType,dismissedCount:t.length-r.length,isLauncherEnabled:n.isLauncherEnabled})}(i,r,t.launcher)}},G=n(64),V=n(231),F=n.n(V);function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{assign:W}=Object,q={isBooting:!1,isBooted:!1,bootFailed:!1,isRehydrated:!1,isMessengerOpen:!1,isWaitingForOpenContent:!1,isErrorReportingDisabled:!1,isOverrideSamplingEnabled:!1,isIntercomLinkEnabled:!1,conversationId:null,features:{anonymousInboundMessages:!1,googleAnalytics:!1,inboundMessages:!1,outboundMessages:!1},boundWebEvents:[],isBoundEventCreatorOpen:!1,isInstantBootEnabled:!0,cookieDomain:void 0,viewStack:[],userConversationAttachmentsEnabled:!0,userConversationGifsEnabled:!0,isDeveloperWorkspace:!1,upfrontEmailCollection:{upfrontEmailCollectionSubmitted:!1,upfrontEmailCollectionSetting:"never",upfrontEmailCollectorShowing:!1},launcherLogoUrl:void 0,customGoogleAnalyticsTrackerId:void 0,temporaryExpectationsMessage:void 0};function z(e,t){if(t===Object(i.e)(e))return W({},e);const n=[].concat(e.viewStack,[t]);return W({},e,{viewStack:n})}function Q(e){return W({},e,{viewStack:[]})}function Y(e){return W({},e,{viewStack:e.viewStack.slice(0,-1)})}const{assign:J}=Object,K={isLauncherEnabled:!1,launcherEnabledOverride:"not-present"};const{assign:X}=Object,Z={isPresent:!1};const{assign:ee}=Object;function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){re(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ie={id:null,parts:[],operator:null};const se={};const oe={};function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){ue(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const de={};var le=n(47),pe=n.n(le),fe=n(11);function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){_e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{assign:ge}=Object,me={activeArticleId:null,isExpanded:!1,expansionTransitionComplete:!1,isLoaded:!1,viewStack:[],transitioningBack:!1};function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){Se(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ve={};function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){Te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ie=[];var je=n(118),we=n.n(je),Re=n(70),Ae=n.n(Re);var Ne=function(e,t){switch(t.type){case"TRIGGER_TRANSITIONS_SUCCESS":case"CREATE_CONVERSATION_SUCCESS":case"GET_CONVERSATION_SUCCESS":return Object.assign({},e,{attributes:e.attributes.map(e=>Object.assign({},e,{saveState:pe()(e.value)||""===e.value?"unsaved":"saved"}))});case"UPDATE_CONVERSATION_FORM_REQUEST":{const{identifier:n,value:r}=t;return Object.assign({},e,{attributes:e.attributes.map(e=>e.identifier===n?Object.assign({},e,{value:r,saveState:"saving"}):e)})}case"UPDATE_CONVERSATION_FORM_SUCCESS":return Object.assign({},e,{attributes:e.attributes.map(e=>e.identifier===t.identifier?Object.assign({},e,{saveState:"saved"}):e)});case"UPDATE_CONVERSATION_FORM_FAILURE":return Object.assign({},e,{attributes:e.attributes.map(e=>e.identifier===t.identifier?Object.assign({},e,{saveState:"failed"}):e)});default:return e}};const{assign:Pe}=Object;function Me({createdAt:e,body:t,clientId:n,file:r,isMessage:i,selectedReplyOption:s,composerSuggestionItem:o}){return{body:t,createdAt:e,clientId:n,isMessage:i,file:r,selectedReplyOption:s,composerSuggestionItem:o,partType:i?"message":"comment",eventData:{},saveState:"saving",seenState:"not-seen-yet",replyOptions:[],author:{isAdmin:!1,isSelf:!0}}}var De=function(e=[],t){switch(t.type){case"CREATE_CONVERSATION_REQUEST":{const{body:n,createdAt:r,file:i,composerSuggestionItem:s,clientId:o}=t.part;return t.isRetry?e.map(e=>Pe({},e,{saveState:"saving"})):e.concat(Me({createdAt:r,body:n,file:i,isMessage:!0,composerSuggestionItem:s,clientId:o}))}case"CREATE_CONVERSATION_FAILURE":return e.map(e=>Pe({},e,{saveState:"failed",saveFailureReason:t.reason}));case"CREATE_COMMENT_REQUEST":{const{body:n,createdAt:r,clientId:i,file:s,selectedReplyOption:o}=t.part;return t.isRetry?e.map(e=>i===e.clientId?Pe({},e,{saveState:"saving"}):e):e.concat(Me({createdAt:r,body:n,clientId:i,file:s,isMessage:!1,selectedReplyOption:o}))}case"CREATE_COMMENT_SUCCESS":return e.map(e=>t.part.clientId===e.clientId?Pe({},e,t.part,{saveState:"saved"}):e);case"CREATE_COMMENT_FAILURE":return e.map(e=>t.part.clientId===e.clientId?Pe({},e,{saveState:"failed",saveFailureReason:t.reason}):e);case"TRIGGER_TRANSITIONS_SUCCESS":case"GET_CONVERSATION_SUCCESS":case"CREATE_CONVERSATION_SUCCESS":return t.conversation.parts.map(e=>e.form?Pe({},e,{form:Ne(e.form,t),saveState:e.saveState||"saved"}):Pe({},e,{saveState:e.saveState||"saved"}));case"CREATE_REACTION_FAILURE":case"CREATE_REACTION_REQUEST":return e.map(e=>e.reactionsReply?Pe({},e,{reactionsReply:{reactionIndex:t.reactionIndex,reactionSet:e.reactionsReply.reactionSet}}):e);case"CHANGE_CONVERSATION_RATING_INDEX":return e.map(e=>"conversationRating"===e.messageType?Pe({},e,{conversationRating:{chosenRating:t.ratingIndex}}):e);case"ADD_CONVERSATION_RATING_REMARK":return e.map(e=>"conversationRating"===e.messageType?Pe({},e,{conversationRating:Pe({},e.conversationRating,{remark:t.remark,submitted:!0})}):e);case"UPDATE_UPLOAD_PROGRESS":return e.map(e=>t.part.clientId===e.clientId?Pe({},e,{body:[Pe({},e.body[0],{progress:t.progress})]}):e);case"USER_CONTENT_SEEN_BY_ADMIN":case"ADMIN_IS_TYPING":return e.map(e=>"not-seen-yet"===e.seenState?Pe({},e,{seenState:"seen"}):e);case"UPDATE_CONVERSATION_FORM_REQUEST":case"UPDATE_CONVERSATION_FORM_SUCCESS":case"UPDATE_CONVERSATION_FORM_FAILURE":return e.map(e=>e.id===t.partId?Pe({},e,{form:Ne(e.form,t)}):e);default:return e}},Ue=function(e={},t){switch(t.type){case"ADMIN_IS_TYPING":{const{lastActiveAt:e,firstName:n,avatarUrl:r,adminId:i}=t;return{id:i,lastActiveAt:e,firstName:n,avatar:{square128:r}}}default:return e}},Le=n(72);function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(n),!0).forEach((function(t){Ge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{assign:Ve}=Object,Fe={fetchState:"partial",isFetching:!1,isUpdating:!1,read:!0,dismissed:!1,preventEndUserReplies:!1,parts:[],participants:[],isEmailAttributeCollectorInserted:!1,composerSuggestions:Le.b};function Be(e,t){return void 0!==e?e:t}var He=function(e=Fe,t){switch(t.type){case"GET_CONVERSATION_REQUEST":{const{conversationId:n,isUpdating:r}=t;return Ve({},e,{id:Be(e.id,n),fetchState:Be(e.fetchState,"partial"),isFetching:!0,isUpdating:r,read:Be(e.read,!0),dismissed:Be(e.dismissed,!1),preventEndUserReplies:Be(e.preventEndUserReplies,!1),parts:Be(e.parts,[])})}case"TRIGGER_TRANSITIONS_SUCCESS":case"GET_CONVERSATION_SUCCESS":{const{conversation:n}=t,r=n.parts.some(e=>!e.author.isAdmin);return n.parts=Object(I.q)(n,e),n.composerState=Object(I.p)(n,e),Ve({},e,n,{fetchState:"all",isFetching:!1,isUpdating:!1,userParticipated:r,parts:De(e.parts,t)})}case"UPDATE_CONVERSATION_FORM_FAILURE":case"UPDATE_CONVERSATION_FORM_SUCCESS":case"CREATE_CONVERSATION_SUCCESS":{const{conversation:n}=t;return Ve({},e,n,{fetchState:"all",isFetching:!1,isUpdating:!1,userParticipated:!0,parts:De(e.parts,t)})}case"CONVERSATION_READ_ELSEWHERE":case"MARK_CONVERSATION_AS_READ_REQUEST":return Ve({},e,{read:!0});case"DISMISS_NOTIFICATIONS_REQUEST":return Ve({},e,{dismissed:!0});case"CREATE_COMMENT_SUCCESS":case"CREATE_COMMENT_REQUEST":{const{createdAt:n}=t.part;return Ve({},e,{userParticipated:!0,lastPartCreatedAt:n,parts:De(e.parts,t)})}case"UPDATE_CONVERSATION_FORM_REQUEST":case"CREATE_REACTION_REQUEST":case"CREATE_COMMENT_FAILURE":case"UPDATE_UPLOAD_PROGRESS":case"CHANGE_CONVERSATION_RATING_INDEX":case"ADD_CONVERSATION_RATING_REMARK":case"USER_CONTENT_SEEN_BY_ADMIN":return Ve({},e,{parts:De(e.parts,t)});case"ADMIN_IS_TYPING":return Ve({},e,{lastTypingAdmin:Ue(e.lastTypingAdmin,t),parts:De(e.parts,t)});case"EMAIL_ATTRIBUTE_COLLECTOR_INSERTED":return Ve({},e,{isEmailAttributeCollectorInserted:!0});case"COMPOSER_CONTENT_CHANGED":case"SET_COMPOSER_SUGGESTIONS":case"SET_COMPOSER_SUGGESTIONS_DISMISSED":case"SET_COMPOSER_SUGGESTIONS_LOADING":return null==t.conversationId?e:xe(xe({},e),{},{composerSuggestions:Object(Le.a)(e.composerSuggestions,t)});default:return e}};const{assign:$e}=Object,We={isFetching:!1,pagesFetched:0,scrollPosition:0,byId:{}};function qe(e={},t,n,r){const{fetchState:i}=e;return $e({},e,{id:t,fetchState:i||"partial",dismissed:n,read:r})}function ze(e={},t){switch(t.type){case"CREATE_OR_UPDATE_USER_SUCCESS":case"UPDATE_USER_SUPPLIED_EMAIL_SUCCESS":{const{unreadConversationIds:n,unreadDismissedConversationIds:r}=t.user,i={};return r&&r.forEach(t=>i[t]=qe(e[t],t,!0,!1)),n&&n.forEach(t=>i[t]=qe(e[t],t,!1,!1)),$e({},e,i)}case"GET_UNREAD_CONVERSATIONS_SUCCESS":{const{unreadConversationIds:n,unreadDismissedConversationIds:r}=t.unreadConversations,i={};return r.forEach(t=>i[t]=qe(e[t],t,!0,!1)),n.forEach(t=>i[t]=qe(e[t],t,!1,!1)),$e({},e,i)}case"GET_CONVERSATIONS_SUCCESS":case"GET_HOME_SCREEN_CONVERSATIONS_SUCCESS":case"GET_HOME_SCREEN_CARDS_SUCCESS":{const n=(t.conversations.conversations||t.conversations).reduce((t,n)=>{const{id:r}=n;return e[r]&&"all"===e[r].fetchState&&!function(e,t={},n={}){const r=Ae()(t,[e,"parts"]),i=Ae()(n,"parts");return we()(r).id!==we()(i).id}(r,e,n)?t:(t[r]=function(e={}){return $e({},e,{fetchState:"summary",isFetching:!1,isUpdating:!1,parts:e.parts.map(e=>$e({},e,{saveState:"saved"}))})}(n),t)},{});return $e({},e,n)}case"UPDATE_CONVERSATION_FORM_SUCCESS":case"CREATE_CONVERSATION_SUCCESS":case"GET_CONVERSATION_SUCCESS":case"TRIGGER_TRANSITIONS_SUCCESS":{const{id:n}=t.conversation,r={[n]:He(e[n],t)};return $e({},e,r)}case"UPDATE_CONVERSATION_FORM_REQUEST":case"CREATE_REACTION_REQUEST":case"CREATE_REACTION_SUCCESS":case"GET_CONVERSATION_REQUEST":case"CREATE_COMMENT_REQUEST":case"CREATE_COMMENT_SUCCESS":case"CREATE_COMMENT_FAILURE":case"CONVERSATION_READ_ELSEWHERE":case"MARK_CONVERSATION_AS_READ_REQUEST":case"CHANGE_CONVERSATION_RATING_INDEX":case"UPDATE_CONVERSATION_FORM_FAILURE":case"ADD_CONVERSATION_RATING_REMARK":case"SET_COMPOSER_SUGGESTIONS_DISMISSED":case"SET_COMPOSER_SUGGESTIONS":case"SET_COMPOSER_SUGGESTIONS_LOADING":{const n=t.conversationId;if(null==n)return e;const r={[n]:He(e[n],t)};return $e({},e,r)}case"ADMIN_IS_TYPING":case"USER_CONTENT_SEEN_BY_ADMIN":{const n=t.conversationId;if(void 0===e[n])return e;const r={[n]:He(e[n],t)};return $e({},e,r)}case"UPDATE_UPLOAD_PROGRESS":{const n=t.conversationId;if(void 0===n)return e;const r={[n]:He(e[n],t)};return $e({},e,r)}case"DISMISS_NOTIFICATIONS_REQUEST":{const n=t.conversationIds.reduce((n,r)=>(n[r]=He(e[r],t),n),{});return $e({},e,n)}case"EMAIL_ATTRIBUTE_COLLECTOR_INSERTED":{const n=t.conversationId;if(void 0===e[n])return e;const r={[n]:He(e[n],t)};return $e({},e,r)}default:return e}}function Qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(n),!0).forEach((function(t){Je(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{assign:Ke}=Object,Xe={isFetching:!1,isUpdating:!1,fetchState:"all",read:!0,intercomLinkSolution:"live-chat",parts:[],participants:[],composerState:{visible:!0},composerSuggestions:Le.b,botIntroId:null,articleUrl:null};const Ze={};const et={suppress:{},forceSnippet:{}};const{assign:tt}=Object,nt={isSaving:!1,showErrorMessage:!1,errorMessage:null};const{assign:rt}=Object,it={isInstallModeOpen:!1,installModeConfig:{activeSubscription:!1,userHashVerified:!1,secureInstallV2:!1,messengerEnabledForVisitors:!0,messengerEnabledForUsers:!0}};const{assign:st}=Object,ot={isFetching:!1,gifs:[],fetchingFailed:!1,searchTerm:null};var ct=n(31);const at={eventData:{selector:"",eventTrigger:ct.b.CLICK.key,name:"",sourceUrl:"",urlRegex:""},stage:ct.a.CHOOSE_EVENT_TYPE};var ut=n(12),dt=n.n(ut);const{assign:lt}=Object,pt={isLauncherDiscoveryModeEnabled:!1,isLauncherDiscoveryModeOpening:!1,isLauncherDiscoveryModeClosing:!1,hasDiscoveredLauncher:!1};function ft(e){const{app:{features:t,inboundConversationsDisabled:n,officeHoursResponse:r},clientsideMessageConditions:i,clientsideRulesetConditions:s,role:o}=e;return!!t.launcherDiscoveryMode&&(!n&&(!(!dt()(i)||!dt()(s))&&(!!pe()(r)&&"visitor"===o)))}var ht=n(56),bt=n.n(ht),_t=n(20),gt=n.n(_t),mt=n(46);function Ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ot(Object(n),!0).forEach((function(t){St(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function St(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const vt={};const yt={isFetching:!1,isFetched:!1,isFailed:!1,matchedSlots:[],fetchedSlots:[],hasMoreConversations:!1};function Ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ct(Object(n),!0).forEach((function(t){It(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function It(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const jt={isOpen:!1,isSheetsDataLoading:!1,isSheetsDataLoaded:!1,isProxyLoaded:!1,isNavigating:!1,sourceCard:null,data:null,url:null,sheetTitle:""};function wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wt(Object(n),!0).forEach((function(t){At(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function At(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Nt={composerHasContent:!1,lastComposerEvent:0,lastArticleClosedAt:null,conversationIdOfLastViewedArticle:null,clientsideMessageConditions:null,clientsideRulesetConditions:null,lastTriggerTransitionTimestamp:null,userCreatedConversationAt:null};function Pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pt(Object(n),!0).forEach((function(t){Dt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ut={isShown:!1,alertType:void 0,alertPayload:void 0};function Lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lt(Object(n),!0).forEach((function(t){xt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Gt={};function Vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vt(Object(n),!0).forEach((function(t){Bt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ht={tabNavigation:!1,accessibilityTheme:"default",secondaryAccessibilityTheme:"light"};function $t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$t(Object(n),!0).forEach((function(t){qt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const zt={isFetching:!1,isFetched:!1,isPreviewing:!1,fetchingFailed:!1,activeTour:void 0,updateFailed:!1,videoAudioMuted:!0,userHasInteractedWithVideo:!1,endTourAnimation:"",isAwaitingProgress:!1};function Qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qt(Object(n),!0).forEach((function(t){Jt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Kt={triggers:{},active:null,failed:!1};var Xt=n(115),Zt=n.n(Xt),en=n(91),tn=n.n(en);function nn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nn(Object(n),!0).forEach((function(t){sn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const on={allSuggestions:[],isDismissed:!1,serverSideSuggestions:null,previewSuggestions:null};const cn=[];function an(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function un(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?an(Object(n),!0).forEach((function(t){dn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):an(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ln={content:null};function pn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pn(Object(n),!0).forEach((function(t){hn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const bn={composerSuggestions:null};function _n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_n(Object(n),!0).forEach((function(t){mn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_n(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const On={isActive:!1};function En(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?En(Object(n),!0).forEach((function(t){vn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):En(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const yn={type:null,metadata:{}};function Cn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cn(Object(n),!0).forEach((function(t){In(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function In(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const jn={isOpen:!1,isFetching:!1,fetchingFailed:!1,phrase:"",searchResults:[],selectedArticleCollectionId:null,showArticleCollection:!1,showSearchResults:!1,hasSearchResults:!1,routedToNewConversation:!1,immediateSearch:!1,hideResultsWithDelay:!1,closeTransitionEnded:!0,searchedPhrase:""};var wn=Object(G.combineReducers)({app:function(e=q,t){switch(t.type){case"CREATE_OR_UPDATE_USER_REQUEST":{const{cookieDomain:n}=t.customizationAttributes;return W({},e,{bootFailed:!1,isBooting:!e.isBooted,cookieDomain:n})}case"CREATE_OR_UPDATE_USER_SUCCESS":{const{activeAdmins:n,alignment:r,backgroundImage:i,boundWebEvents:s,color:o,customGoogleAnalyticsTrackerId:c,expectedResponseDelay:a,expectedResponseDelayTranslationKey:u,features:d,helpCenterSiteUrl:l,horizontalPadding:p,accessToTeammateEnabled:f,isAudioEnabled:h,isDeveloperWorkspace:b,isErrorReportingDisabled:_,isInstantBootEnabled:g,isIntercomLinkEnabled:m,isOverrideSamplingEnabled:O,lastActiveAt:E,launcherExpectedResponseDelayTranslationKey:S,launcherLogoUrl:v,logoUrl:y,name:C,officeHoursResponse:T,originCookieDomain:I,realtimeConfig:j,secondaryColor:w,selfServeSuggestionsMatch:R,smsEnabled:A,teamGreeting:N,teamIntro:P,temporaryExpectationsMessage:M,upfrontEmailCollectionSetting:D,useCacheFor:U,userConversationAttachmentsEnabled:L,userConversationGifsEnabled:k,verticalPadding:x}=t.user.app,G=null!=U&&-1!==U.indexOf("inbound_conversations_disabled")&&(e.isRehydrated||e.isBooted)?e.inboundConversationsDisabled:t.user.app.inboundConversationsDisabled;return W({},e,{activeAdmins:n,alignment:r,backgroundImage:i,bootFailed:!1,boundWebEvents:s,color:o,customGoogleAnalyticsTrackerId:c,expectedResponseDelay:a,expectedResponseDelayTranslationKey:u,features:d,helpCenterSiteUrl:l,horizontalPadding:p,inboundConversationsDisabled:G,accessToTeammateEnabled:f,isAudioEnabled:h,isBooted:!0,isBooting:!1,isDeveloperWorkspace:b,isErrorReportingDisabled:_,isInstantBootEnabled:g,isIntercomLinkEnabled:m,isOverrideSamplingEnabled:O,lastActiveAt:E,launcherExpectedResponseDelayTranslationKey:S,launcherLogoUrl:v,logoUrl:y,name:C,officeHoursResponse:T,originCookieDomain:I,realtimeConfig:j,secondaryColor:w,selfServeSuggestionsMatch:R,smsEnabled:A,teamGreeting:N,teamIntro:P,temporaryExpectationsMessage:M,userConversationAttachmentsEnabled:L,userConversationGifsEnabled:k,verticalPadding:x,upfrontEmailCollection:H(H({},e.upfrontEmailCollection),{},{upfrontEmailCollectionSetting:D})})}case"CREATE_OR_UPDATE_USER_FAILURE":return t.isIdentityVerificationError?W({},e,{bootFailed:!0,isBooting:!1,isBooted:!1}):W({},e,{bootFailed:e.isBooting});case"MESSENGER_OPEN_REQUEST_SENT":return W({},e,{isWaitingForOpenContent:!0});case"MESSENGER_OPEN_REQUEST_SUCCESS":case"MESSENGER_OPEN_REQUEST_FAILED":return W({},e,{isWaitingForOpenContent:!1});case"OPEN_MESSENGER":return W({},e,{isMessengerOpen:!0,viewStack:Object(i.i)(e)?["home-screen"]:e.viewStack});case"CLOSE_MESSENGER":return W({},e,{isMessengerOpen:!1});case"SHOW_NEW_CONVERSATION":return W(z(t.replaceCurrentView?Y(e):e,"new-conversation"),{conversationId:null});case"SHOW_SEARCH_BROWSE":return W(e,{conversationId:null});case"SHOW_CONVERSATION":return W(z(t.replaceCurrentView?Y(e):e,"conversation"),{conversationId:t.conversationId});case"SHOW_CONVERSATIONS":return t.resetNavigationHistory?z(Q(e),"conversations"):z(e,"conversations");case"GET_CONVERSATION_FAILURE":if(e.conversationId===t.conversationId){let t=W(e,{conversationId:null});return"conversation"===t.viewStack.slice(-1)[0]&&(t=Y(t)),Object(i.i)(t)&&(t=W(t,{viewStack:["home-screen"]})),t}return e;case"SHOW_EMPTY_SCREEN":return z(e,"empty-screen");case"SHOW_MESSENGER_TRIGGER_SCREEN":return z(t.replaceCurrentView?Y(e):e,"messenger-trigger");case"SHOW_HOME_SCREEN":return z(e,"home-screen");case"CREATE_CONVERSATION_SUCCESS":return"new-conversation"===Object(i.e)(e)?W({},z(Y(e),"conversation"),{conversationId:t.conversation.id}):e;case"OPEN_BORDERLESS_CONVERSATION":return W({},e,{conversationId:t.conversationId});case"REHYDRATE":return W({},e,t.state.app,{features:W({},e.features,t.state.app.features),isRehydrated:!0});case"OPEN_BOUND_EVENT_CREATOR":return W({},e,{isBoundEventCreatorOpen:!0});case"MESSENGER_NAVIGATE_BACK":return A()(e.viewStack.slice(-2),["browse-mode","conversation"])?z(Q(e),"home-screen"):Y(e);case"TOGGLE_UPFRONT_EMAIL_COLLECTOR_STATE":return W({},e,{upfrontEmailCollection:H(H({},e.upfrontEmailCollection),{},{upfrontEmailCollectorShowing:!e.upfrontEmailCollection.upfrontEmailCollectorShowing})});case"UPFRONT_EMAIL_COLLECTION_SUBMITTED":return W({},e,{upfrontEmailCollection:H(H({},e.upfrontEmailCollection),{},{upfrontEmailCollectionSubmitted:!0})});default:return e}},launcher:function(e=K,t){switch(t.type){case"CREATE_OR_UPDATE_USER_REQUEST":{const n="not-present"===t.launcherEnabledOverride?e.launcherEnabledOverride:t.launcherEnabledOverride;return J({},e,{launcherEnabledOverride:n})}case"CREATE_OR_UPDATE_USER_SUCCESS":{const{isLauncherEnabled:n}=t.user.app;return J({},e,{isLauncherEnabled:n})}case"CREATE_OR_UPDATE_USER_FAILURE":return t.isIdentityVerificationError?J({},e,{isLauncherEnabled:!1}):e;case"REHYDRATE":return J({},e,t.state.launcher);default:return e}},botIntro:function(e=ie,t){switch(t.type){case"CREATE_OR_UPDATE_USER_SUCCESS":{const n=t.user.botIntro;return n?ne(ne({},e),{},{id:n.id,parts:n.parts,operator:n.operator}):e}default:return e}},user:function(e=Z,t){switch(t.type){case"CREATE_OR_UPDATE_USER_REQUEST":{const{url:n,customAttributes:r,anonymousSessionDuration:i,activeCompanyId:s}=t;return X({},e,{url:n,customAttributes:r,anonymousSessionDuration:i,activeCompanyId:s})}case"CREATE_OR_UPDATE_USER_SUCCESS":{const{id:n,locale:r,countryCode:i,role:s,name:o,userSuppliedEmail:c,unreadConversationIds:a,unreadDismissedConversationIds:u,notificationLinkConversationId:d,phoneNumber:l,articleConversationId:p,cdasBreachingLimit:f,lastContactedAt:h,requiresCookieConsent:b,resolutionBotBehaviorVersionId:_,searchRequiredBeforeConversation:g}=t.user,m=t.user.hasConversations||a.length>0||u.length>0;return X({},e,{id:n,locale:r,countryCode:i,role:s,name:o,userSuppliedEmail:c,hasConversations:m,phoneNumber:l,articleConversationId:p,notificationLinkConversationId:d,cdasBreachingLimit:f,lastContactedAt:h,requiresCookieConsent:b,resolutionBotBehaviorVersionId:_,searchRequiredBeforeConversation:g})}case"CREATE_CONVERSATION_REQUEST":case"VISITOR_AUTO_MESSAGE_CONDITION_SATISFIED_SUCCESS":case"GET_CONVERSATION_SUCCESS":return X({},e,{hasConversations:!0});case"GET_CONVERSATIONS_SUCCESS":{const{conversations:n}=t.conversations,r=void 0!==n&&n.length>0;return X({},e,{hasConversations:r})}case"UPDATE_USER_SUPPLIED_EMAIL_SUCCESS":{const{userSuppliedEmail:n}=t;return X({},e,{userSuppliedEmail:n})}case"UPDATE_PHONE_NUMBER_SUCCESS":{const{phoneNumber:n}=t;return X({},e,{phoneNumber:n})}case"USER_IS_PRESENT":return X({},e,{isPresent:!0});case"USER_IS_ABSENT":return X({},e,{isPresent:!1});case"REHYDRATE":return X({},e,t.state.user);default:return e}},session:function(e=null,t){switch(t.type){case"CREATE_OR_UPDATE_USER_REQUEST":{const{appId:n,userId:r,email:i,userHash:s,anonymousId:o,anonymousSession:c,sessionId:a}=t.session;return ee({},e,{appId:n,userId:r,email:i,userHash:s,anonymousId:o,anonymousSession:c,sessionId:a})}case"CREATE_OR_UPDATE_USER_SUCCESS":{const{anonymousId:n,anonymousSession:r,activeCompanyId:i,newSession:s}=t.user;return ee({},e,{anonymousId:n||e.anonymousId,anonymousSession:r||e.anonymousSession,activeCompanyId:i,newSession:s})}case"DESTROY_SESSION":return null;case"ANONYMOUS_SESSION_CHANGED":return ee({},e,{anonymousSession:t.anonymousSession});default:return e}},openOnBoot:function(e=yn,t){var n;switch(t.type){case"CLOSE_MESSENGER":case"MESSENGER_NAVIGATE_BACK":case"SHOW_HOME_SCREEN":case"HIDE_SEARCH_BROWSE":return Sn({},yn);case"SHOW_CONVERSATION":return{type:"conversation",metadata:{conversationId:t.conversationId}};case"CREATE_CONVERSATION_SUCCESS":return{type:"conversation",metadata:{conversationId:t.conversation.id}};case"SHOW_NEW_CONVERSATION":return{type:"new_conversation",metadata:{}};case"OPEN_SHEET":if("article-link"===t.componentId){const n=Sn({},e);return{type:"article",metadata:{url:t.url,cardUri:t.cardUri,componentId:t.componentId,previousState:n}}}return e;case"CLOSE_SHEET":return null!==(n=e.metadata)&&void 0!==n&&n.previousState?Sn({},e.metadata.previousState):Sn({},yn);case"REHYDRATE":return Sn(Sn({},e),t.state.openOnBoot);case"DESTROY_SESSION":return yn;default:return e}},operator:(e=Nt,t)=>{switch(t.type){case"SHOW_NEW_CONVERSATION":case"SHOW_CONVERSATION":return Rt(Rt({},e),{},{lastArticleClosedAt:null,conversationIdOfLastViewedArticle:null});case"COMPOSER_CONTENT_CHANGED":return Rt(Rt({},e),{},{lastComposerEvent:t.lastActiveAt.getTime(),composerHasContent:""!==t.composerContent});case"CREATE_CONVERSATION_REQUEST":return Rt(Rt({},e),{},{userCreatedConversationAt:t.timestamp});case"OPEN_ARTICLE":return Rt(Rt({},e),{},{lastArticleClosedAt:null,conversationIdOfLastViewedArticle:t.conversationId});case"CLOSE_ARTICLE":return Rt(Rt({},e),{},{lastArticleClosedAt:t.closedAt});case"CREATE_OR_UPDATE_USER_SUCCESS":case"UPDATE_USER_SUPPLIED_EMAIL_SUCCESS":return Rt(Rt({},e),{},{clientsideMessageConditions:t.user.clientsideMessageConditions,clientsideRulesetConditions:t.user.clientsideRulesetConditions});case"TRIGGER_TRANSITIONS_REQUEST":return Rt(Rt({},e),{},{lastTriggerTransitionTimestamp:t.payload.timestamp});case"REHYDRATE":return Rt(Rt({},e),t.state.operator);default:return e}},message:function(e=se,t){switch(t.type){case"OPEN_MESSAGE":{const{conversationId:e,partId:n}=t;return{conversationId:e,partId:n}}case"CLOSE_MESSAGE":return se;default:return e}},pointerMessage:function(e=oe,t){switch(t.type){case"OPEN_POINTER_MESSAGE":{const{conversationId:e,partId:n}=t;return{conversationId:e,partId:n}}case"CLOSE_POINTER_MESSAGE":return oe;default:return e}},dismissedPointers:function(e=de,t){switch(t.type){case"DISMISS_POINTER_MESSAGE":return ae(ae({},e),{},{[t.conversationId]:!0});default:return e}},article:function(e=me,t){switch(t.type){case"OPEN_ARTICLE":{const n=JSON.parse(fe.a.get("intercom-article-expanded-mode")),r=!!pe()(n)||n;return{activeArticleId:t.articleId,isExpanded:r,expansionTransitionComplete:t.forceTransitionComplete||!r,viewStack:[...e.viewStack,t.articleId],isLoaded:!1}}case"CLOSE_ARTICLE":const{viewStack:n}=e;return n.pop(),n.length>0?be(be({},e),{},{activeArticleId:n[n.length-1],isLoaded:!1,transitioningBack:!1}):me;case"SHOW_NEW_CONVERSATION":return me;case"ARTICLE_LOADED":return be(be({},e),{},{isLoaded:!0});case"TOGGLE_ARTICLE_EXPANDED_MODE":return fe.a.set("intercom-article-expanded-mode",JSON.stringify(t.isExpanded)),ge({},e,{isExpanded:t.isExpanded});case"EXPANSION_TRANSITION_COMPLETE":return be(be({},e),{},{expansionTransitionComplete:!0});case"ARTICLE_GO_BACK":return be(be({},e),{},{transitioningBack:!0});default:return e}},articles:function(e=ve,t){switch(t.type){case"RECEIVE_ARTICLE":return Ee(Ee({},e),{},{[t.article.id]:t.article});case"CREATE_ARTICLE_REACTION_REQUEST":{const{articleId:n,reactionIndex:r}=t;if(!e.hasOwnProperty(n))return e;const i=e[n];return Ee(Ee({},e),{},{[n]:Ee(Ee({},i),{},{reactionsReply:Ee(Ee({},i.reactionsReply),{},{reactionIndex:r})})})}}return e},articleCollections:function(e=Ie,t){switch(t.type){case"GET_HOME_SCREEN_CARDS_SUCCESS":case"RECEIVE_ARTICLE_COLLECTIONS":return t.articleCollections;case"GET_ARTICLES_SECTIONS_IN_COLLECTION_SUCCESS":const{collectionId:n,articleSections:r}=t;return e.map(e=>e.id===n?Ce(Ce({},e),{},{sections:r}):e)}return e},conversations:function(e=We,t){switch(t.type){case"CREATE_OR_UPDATE_USER_SUCCESS":case"UPDATE_USER_SUPPLIED_EMAIL_SUCCESS":case"GET_UNREAD_CONVERSATIONS_SUCCESS":return $e({},e,{byId:ze(e.byId,t)});case"GET_CONVERSATIONS_REQUEST":return $e({},e,{isFetching:!0});case"GET_CONVERSATIONS_SUCCESS":{const{page:n,totalPages:r}=t.conversations.pages;return $e({},e,{isFetching:!1,pagesFetched:n,totalPages:r,byId:ze(e.byId,t)})}case"GET_CONVERSATIONS_FAILURE":return $e({},e,{isFetching:!1});case"UPDATE_CONVERSATION_FORM_REQUEST":case"CREATE_REACTION_REQUEST":case"CREATE_REACTION_FAILURE":case"GET_CONVERSATION_REQUEST":case"GET_CONVERSATION_SUCCESS":case"CREATE_COMMENT_REQUEST":case"CREATE_COMMENT_SUCCESS":case"CREATE_COMMENT_FAILURE":case"CONVERSATION_READ_ELSEWHERE":case"MARK_CONVERSATION_AS_READ_REQUEST":case"DISMISS_NOTIFICATIONS_REQUEST":case"CREATE_CONVERSATION_SUCCESS":case"ADMIN_IS_TYPING":case"UPDATE_UPLOAD_PROGRESS":case"CHANGE_CONVERSATION_RATING_INDEX":case"ADD_CONVERSATION_RATING_REMARK":case"UPDATE_CONVERSATION_FORM_SUCCESS":case"USER_CONTENT_SEEN_BY_ADMIN":case"UPDATE_CONVERSATION_FORM_FAILURE":case"TRIGGER_TRANSITIONS_SUCCESS":case"GET_HOME_SCREEN_CARDS_SUCCESS":case"GET_HOME_SCREEN_CONVERSATIONS_SUCCESS":case"SET_COMPOSER_SUGGESTIONS_DISMISSED":case"COMPOSER_CONTENT_CHANGED":case"SET_COMPOSER_SUGGESTIONS":case"SET_COMPOSER_SUGGESTIONS_LOADING":return $e({},e,{byId:ze(e.byId,t)});case"CONVERSATIONS_SCROLLED":return $e({},e,{scrollPosition:t.scrollPosition});case"EMAIL_ATTRIBUTE_COLLECTOR_INSERTED":return $e({},e,{byId:ze(e.byId,t)});default:return e}},newConversation:function(e=Xe,t){switch(t.type){case"SHOW_NEW_CONVERSATION":return Ke({},e,{defaultMessage:t.defaultMessage,articleUrl:t.articleUrl||null});case"MESSENGER_NAVIGATE_BACK":return Ke({},e,{articleUrl:null});case"CREATE_CONVERSATION_REQUEST":case"CREATE_CONVERSATION_FAILURE":return Ke({},e,{userParticipated:!0,parts:De(e.parts,t)});case"SET_NEW_CONVERSATION_COMPOSER_STATE":return Ke({},e,{composerState:t.composerState});case"CREATE_CONVERSATION_SUCCESS":return Ke({},Xe,{composerState:e.composerState});case"UPDATE_UPLOAD_PROGRESS":{const{conversationId:n}=t;return void 0!==n?e:Ke({},e,{parts:De(e.parts,t)})}case"COMPOSER_CONTENT_CHANGED":case"SET_COMPOSER_SUGGESTIONS":case"SET_COMPOSER_SUGGESTIONS_DISMISSED":case"SET_COMPOSER_SUGGESTIONS_LOADING":return Ye(Ye({},e),{},{composerSuggestions:Object(Le.a)(e.composerSuggestions,t)});case"DELIVER_BOT_INTRO":return Ye(Ye({},e),{},{parts:t.botIntro.parts.map((e,n)=>({id:`bot-intro-${n}`,author:t.botIntro.operator,createdAt:t.createdAt,partType:"bot_intro",body:e,showCreatedAt:!0})),botIntroId:t.botIntro.id});default:return e}},borderless:function(e=Ze,t){switch(t.type){case"OPEN_BORDERLESS_CONVERSATION":return Object.assign({},e,{conversationId:t.conversationId});case"CLOSE_MESSAGE":return Ze;default:return e}},notificationChannels:function(e=nt,t){switch(t.type){case"UPDATE_USER_SUPPLIED_EMAIL_REQUEST":return tt({},e,{isSaving:!0});case"CREATE_OR_UPDATE_USER_SUCCESS":case"UPDATE_USER_SUPPLIED_EMAIL_SUCCESS":return tt({},e,{isSaving:!1});case"UPDATE_PHONE_NUMBER_REQUEST":return tt({},e,{isSaving:!0,errorMessage:null,showErrorMessage:!1});case"UPDATE_PHONE_NUMBER_SUCCESS":return tt({},e,{phoneNumber:t.phoneNumber,isSaving:!1});case"UPDATE_PHONE_NUMBER_FAILURE":return tt({},e,{errorMessage:t.message,isSaving:!1,showErrorMessage:!0});case"INPUT_VALUE_CHANGED":return tt({},e,{errorMessage:null,showErrorMessage:!1});default:return e}},notificationTypeOverrides:function(e=et,t){switch(t.type){case"UPDATE_NOTIFICATION_TYPE_OVERRIDES":return Object.assign({},e,{suppress:Object.assign({},e.suppress,t.suppress),forceSnippet:Object.assign({},e.forceSnippet,t.forceSnippet)});default:return e}},install:function(e=it,t){switch(t.type){case"OPEN_INSTALL_MODE":{const{activeSubscription:n,userHashVerified:r,secureInstallV2:i,messengerEnabledForVisitors:s,messengerEnabledForUsers:o}=t;return rt({},e,{isInstallModeOpen:!0,installModeConfig:{activeSubscription:n,userHashVerified:r,secureInstallV2:i,messengerEnabledForVisitors:s,messengerEnabledForUsers:o}})}case"CLOSE_INSTALL_MODE":return rt({},e,{isInstallModeOpen:!1});default:return e}},gifs:function(e=ot,t){switch(t.type){case"SEARCH_GIFS_REQUEST":{const{searchTerm:n}=t;return st({},e,{isFetching:!0,fetchingFailed:!1,searchTerm:n})}case"SEARCH_GIFS_SUCCESS":{const{gifs:n,searchTerm:r}=t;return r!==e.searchTerm?e:st({},e,{isFetching:!1,gifs:n,fetchingFailed:!1,searchTerm:r})}case"SEARCH_GIFS_FAILURE":{const{searchTerm:n}=t;return n!==e.searchTerm?e:st({},e,{isFetching:!1,fetchingFailed:!0,searchTerm:n})}default:return e}},boundEventCreator:function(e=at,t){switch(t.type){case"OPEN_BOUND_EVENT_CREATOR":return{stage:t.stage,eventData:Object.assign({},e.eventData,t.eventData)};case"CHANGE_BOUND_EVENT_CREATOR_STAGE":return Object.assign({},e,{stage:t.newStage});case"UPDATE_BOUND_EVENT_DATA":return Object.assign({},e,{eventData:Object.assign({},e.eventData,t.eventData)});case"CLOSE_BOUND_EVENT_CREATOR":return at;default:return e}},launcherDiscoveryMode:(e=pt,t)=>{const{isLauncherDiscoveryModeEnabled:n}=e;switch(t.type){case"CREATE_OR_UPDATE_USER_SUCCESS":{const{user:n}=t;return lt({},e,{isLauncherDiscoveryModeEnabled:ft(n)})}case"GET_CONVERSATIONS_REQUEST":return lt({},e,{isLauncherDiscoveryModeEnabled:!1,hasDiscoveredLauncher:!0});case"OPEN_MESSENGER":return lt({},e,{hasDiscoveredLauncher:!0,isLauncherDiscoveryModeEnabled:!1});case"OPEN_LAUNCHER_DISCOVERY_MODE":return lt({},e,{isLauncherDiscoveryModeOpening:n,hasDiscoveredLauncher:!0});case"CLOSE_LAUNCHER_DISCOVERY_MODE":return lt({},e,{isLauncherDiscoveryModeOpening:!1,isLauncherDiscoveryModeClosing:n});case"SHOW_NEW_CONVERSATION":case"OPENING_MESSENGER_FROM_LAUNCHER_DISCOVERY_MODE":return lt({},e,{isLauncherDiscoveryModeClosing:!1,isLauncherDiscoveryModeOpening:!1});case"DISABLE_LAUNCHER_DISCOVERY_MODE":return lt({},e,{isLauncherDiscoveryModeEnabled:!1,isLauncherDiscoveryModeClosing:!1});case"REHYDRATE":const{launcherDiscoveryMode:r}=t.state;return lt({},e,r);default:return e}},messengerCards:(e=vt,t)=>{switch(t.type){case"SUBMIT_MESSENGER_CARD_ACTION_FAILURE":{const n=t.componentId,r=Et({},e);return gt()(r,`${t.cardUri}.isFetching`,!1),bt()(r,`${t.cardUri}.card.canvas.content.components`,e=>Object(mt.d)(n,e,!1))}case"SUBMIT_MESSENGER_CARD_ACTION_SUCCESS":{const n=Et({},e);return gt()(n,`${t.card.uri}.isFetching`,!1),gt()(n,`${t.card.uri}.isFetched`,!0),gt()(n,`${t.card.uri}.partialCard`,t.card)}case"SUBMIT_MESSENGER_CARD_ACTION_REQUEST":{const n=t.componentId,r=Et({},e);return gt()(r,`${t.cardUri}.isFetching`,!0),bt()(r,`${t.cardUri}.card.canvas.content.components`,e=>Object(mt.d)(n,e,!0))}case"GET_CARD_CONTENT_REQUEST":{const n=Et({},e);return gt()(n,`${t.card.uri}.isContentFetching`,!0)}case"GET_CARD_CONTENT_SUCCESS":{const n=Et({},e);return gt()(n,`${t.card.uri}.isFetching`,!1),gt()(n,`${t.card.uri}.isFetched`,!0),gt()(n,`${t.card.uri}.isContentFetched`,!0),gt()(n,`${t.card.uri}.isContentError`,!1),gt()(n,`${t.card.uri}.isContentFetching`,!1),gt()(n,`${t.card.uri}.card`,t.card),gt()(n,`${t.card.uri}.card.canvas.content`,t.content),bt()(n,`${t.card.uri}.card`,mt.e)}case"GET_CARD_CONTENT_FAILURE":{const n=Et({},e);return gt()(n,`${t.card.uri}.isContentError`,!0),gt()(n,`${t.card.uri}.isContentFetching`,!1),gt()(n,`${t.card.uri}.partialCard`,t.card)}default:return e}},homeScreen:(e=yt,t)=>{switch(t.type){case"CREATE_OR_UPDATE_USER_SUCCESS":return Object.assign({},e,{matchedSlots:t.user.homeScreenSlots});case"GET_HOME_SCREEN_CARDS_REQUEST":return Object.assign({},e,{isFetching:!0,isFetched:!1,isFailed:!1});case"GET_HOME_SCREEN_CARDS_SUCCESS":return Object.assign({},e,{isFetching:!1,isFetched:!0,isFailed:!1,fetchedSlots:(n=e.matchedSlots,r=t.cards,n.map(e=>{if("messenger_app"!==e.slotType)return Object.assign({},e);const t=r.find(t=>t.messengerCardId===e.messengerCardId);return Object.assign({},e,{uri:(null==t?void 0:t.uri)||null})})),hasMoreConversations:t.hasMoreConversations});case"GET_HOME_SCREEN_CARDS_FAILURE":return Object.assign({},e,{isFetching:!1,isFetched:!1,isFailed:!0,fetchedSlots:e.matchedSlots.filter(e=>"new_conversation_card"===e.slotType),error:t.error});default:return e}var n,r},messengerSheet:(e=jt,t)=>{switch(t.type){case"START_NAVIGATION":return Tt(Tt({},e),{},{isNavigating:!0});case"FINISH_NAVIGATION":return Tt(Tt({},e),{},{isNavigating:!1});case"SET_PROXY_LOADED_STATUS":return Tt(Tt({},e),{},{isProxyLoaded:t.isLoaded});case"OPEN_SHEET":return Tt(Tt({},e),{},{url:t.url,isOpen:!0,sourceCard:{cardUri:t.cardUri,componentId:t.componentId}});case"OPEN_SHEET_WITH_TOKEN":return Tt(Tt({},e),{},{url:t.url,isOpen:!0,sourceCard:{token:t.token,componentId:t.componentId}});case"CLOSE_SHEET":return jt;case"SET_SHEET_TITLE":return Tt(Tt({},e),{},{sheetTitle:t.sheetTitle});case"FETCH_MESSENGER_SHEET_DATA_REQUEST":return Tt(Tt({},e),{},{isSheetsDataLoading:!0});case"FETCH_MESSENGER_SHEET_DATA_SUCCESS":return Tt(Tt({},e),{},{isSheetsDataLoading:!1,isSheetsDataLoaded:!0,data:t.data});case"FETCH_MESSENGER_SHEET_DATA_FAILURE":return Tt(Tt({},e),{},{isSheetsDataLoading:!1});default:return e}},messengerAlerts:function(e=Ut,t){switch(t.type){case"SHOW_ALERT":return Mt(Mt({},e),{},{isShown:!0,alertType:t.payload.alertType,alertPayload:t.payload.alertPayload});case"CLOSE_ALERT":return Ut;default:return e}},customizationOverrides:function(e=Gt,t){switch(t.type){case"CREATE_CUSTOMIZATION_OVERRIDE":return kt(kt({},e),t.customizationAttributes);case"CREATE_BANNER_CUSTOMIZATION_OVERRIDE":return kt(kt(kt({},e),t.customizationAttributes),{},{isSetByBanner:!0});default:return e}},accessibility:function(e=Ht,t){switch(t.type){case"SET_TAB_NAVIGATION":return Ft(Ft({},e),{},{tabNavigation:t.tabNavigation});case"SET_ACCESSIBILITY_THEME":return Ft(Ft({},e),{},{accessibilityTheme:t.accessibilityTheme,secondaryAccessibilityTheme:t.secondaryAccessibilityTheme});default:return e}},tour:(e=zt,t)=>{switch(t.type){case"FETCH_TOUR_REQUEST":return Wt(Wt({},e),{},{isFetching:!0,isFetched:!1,fetchingFailed:!1});case"TOUR_UPDATE_FAILED":return Wt(Wt({},e),{},{updateFailed:!0});case"FETCH_TOUR_SUCCESS":return Wt(Wt({},e),{},{isFetching:!1,isFetched:!0,fetchingFailed:!1,isPreviewing:t.isPreviewingTour,activeTour:t.tour});case"FETCH_TOUR_FAILURE":return Wt(Wt({},e),{},{isFetching:!1,isFetched:!1,fetchingFailed:!0});case"PROGRESS_TOUR":return e.activeTour?Wt(Wt({},e),{},{activeTour:Wt(Wt({},e.activeTour),{},{activeStepId:t.activeStepId})}):Wt({},e);case"START_TOUR_PREVIEW":return Wt(Wt({},e),{},{isFetched:!0,isPreviewing:!0,activeTour:t.tour});case"STOP_TOUR_PREVIEW":return Wt(Wt({},e),{},{isFetched:!1,isPreviewing:!1,activeTour:void 0});case"COMPLETE_TOUR":case"STOP_TOUR":return zt;case"MARK_ACTIVE_TOUR_AS_COMPLETED":return e.activeTour?Wt(Wt({},e),{},{activeTour:Wt(Wt({},e.activeTour),{},{isCompleted:!0})}):Wt({},e);case"CHANGE_VIDEO_MUTED":return Wt(Wt({},e),{},{videoAudioMuted:t.muted,userHasInteractedWithVideo:!0});case"PROGRESS_TOUR_REQUEST_STARTED":return Wt(Wt({},e),{},{isAwaitingProgress:!0});case"PROGRESS_TOUR_REQUEST_FINISHED":return Wt(Wt({},e),{},{isAwaitingProgress:!1});default:return e}},triggers:function(e=Kt,t){const n=Yt({},e.triggers);switch(t.type){case"ADD_TRIGGER":return n[t.trigger.id]=t.trigger,Yt(Yt({},e),{},{triggers:n});case"REMOVE_TRIGGER":return delete n[t.triggerId],Yt(Yt({},e),{},{triggers:n});case"ACTIVATE_TRIGGER":return Yt(Yt({},e),{},{active:t.triggerId,failed:!1});case"DEACTIVATE_TRIGGER":return Yt(Yt({},e),{},{active:null});case"ACTIVATE_TRIGGER_FAILED":return Yt(Yt({},e),{},{failed:!0});default:return e}},inboundSuggestions:function(e=on,t){switch(t.type){case"ADD_INBOUND_SUGGESTIONS":return rn(rn({},e),{},{allSuggestions:[...e.allSuggestions,t.composerSuggestions]});case"REMOVE_INBOUND_SUGGESTIONS":return rn(rn({},e),{},{allSuggestions:tn()(e.allSuggestions,e=>e.rulesetId!==t.rulesetId)});case"UPDATE_SERVER_SIDE_INBOUND_SUGGESTIONS":{let n=e.allSuggestions;return e.serverSideSuggestions&&(n=tn()(n,t=>e.serverSideSuggestions&&t.rulesetId!==e.serverSideSuggestions.rulesetId)),t.composerSuggestions&&(n=Zt()([...n,t.composerSuggestions],"rulesetId")),rn(rn({},e),{},{allSuggestions:n,serverSideSuggestions:t.composerSuggestions})}case"UPDATE_PREVIEW_INBOUND_SUGGESTIONS":return rn(rn({},e),{},{previewSuggestions:t.composerSuggestions});default:return e}},banners:function(e=cn,t){switch(t.type){case"RECEIVE_BANNERS":if(t.banners)return t.banners;case"REACT_TO_BANNER":if(t.bannerId&&t.reaction)return e.map(e=>e.banner_id===t.bannerId?Object.assign({},e,{selected_reaction:t.reaction}):e)}return e},composer:(e=ln,t)=>{switch(t.type){case"COMPOSER_CONTENT_CHANGED":return un(un({},e),{},{content:t.composerContent});default:return e}},predictiveAnswers:(e=bn,t)=>{switch(t.type){case"SET_PREDICTIVE_ANSWERS":return fn(fn({},e),{},{composerSuggestions:t.predictiveAnswersSuggestions});default:return e}},lightweightApp:(e=On,t)=>{switch(t.type){case"SET_LIGHTWEIGHT_APP_ACTIVE":return gn(gn({},e),{},{isActive:t.isActive});default:return e}},browseMode:function(e=jn,t){switch(t.type){case"SHOW_SEARCH_BROWSE":return Tn(Tn({},jn),{},{isOpen:!0,closeTransitionEnded:!1});case"SEARCH_BROWSE_CLOSE_TRANSITION_ENDED":return Tn(Tn({},e),{},{closeTransitionEnded:!0});case"SEARCH_BROWSE_GO_BACK":return!e.showArticleCollection||e.showSearchResults||e.hasSearchResults?Tn(Tn({},jn),{},{closeTransitionEnded:!1}):Tn(Tn({},e),{},{phrase:"",searchResults:[],showSearchResults:!1,hasSearchResults:!1,showArticleCollection:!1});case"SEARCH_BROWSE_GO_BACK_COMPLETE":return e.showSearchResults||e.hasSearchResults?Tn(Tn({},e),{},{closeTransitionEnded:!0}):Tn(Tn({},e),{},{selectedArticleCollectionId:null});case"SHOW_NEW_CONVERSATION":return e.isOpen?Tn(Tn({},e),{},{isOpen:!1,routedToNewConversation:!0}):Tn(Tn({},e),{},{routedToNewConversation:!1});case"UPDATE_SEARCH_BROWSE_QUERY":{const{phrase:n,hideResultsWithDelay:r}=t,i=e.hasSearchResults&&0===(null==n?void 0:n.trim().length);return Tn(Tn({},e),{},{phrase:n,hideResultsWithDelay:r,showSearchResults:!i&&e.showSearchResults,hasSearchResults:!i&&e.hasSearchResults})}case"SEARCH_ARTICLES_REQUEST":{const n=e.immediateSearch||t.immediate;return Tn(Tn({},e),{},{immediateSearch:n,isFetchingSearchResults:!0})}case"SEARCH_ARTICLES_SUCCESS":{const{searchResults:n,phrase:r}=t,i=Tn(Tn({},e),{},{isFetchingSearchResults:!1});return r!==i.phrase?i:Tn(Tn({},i),{},{fetchingFailed:!1,hasSearchResults:!0,showSearchResults:e.immediateSearch,searchResults:n,immediateSearch:!1,searchedPhrase:r})}case"SEARCH_ARTICLES_FAILURE":{const{phrase:n}=t,r=Tn(Tn({},e),{},{isFetchingSearchResults:!1});return n!==r.phrase?r:Tn(Tn({},r),{},{isFetching:!1,fetchingFailed:!0,immediateSearch:!1})}case"SELECT_ARTICLE_COLLECTION":return Tn(Tn({},e),{},{selectedArticleCollectionId:t.collectionId,showArticleCollection:!0});case"RECEIVE_ARTICLE_COLLECTIONS":if(1===t.articleCollections.length)return Tn(Tn({},e),{},{selectedArticleCollectionId:t.articleCollections[0].id,showArticleCollection:!0});case"GET_ARTICLES_SECTIONS_IN_COLLECTION_REQUEST":{const{collectionId:n}=t;if(n===e.selectedArticleCollectionId)return Tn(Tn({},e),{},{isFetching:!0,fetchingFailed:!1});break}case"GET_ARTICLES_SECTIONS_IN_COLLECTION_SUCCESS":{const{collectionId:n}=t;if(n===e.selectedArticleCollectionId)return Tn(Tn({},e),{},{isFetching:!1,fetchingFailed:!1});break}case"GET_ARTICLES_SECTIONS_IN_COLLECTION_FAILURE":{const{collectionId:n}=t;if(n===e.selectedArticleCollectionId)return Tn(Tn({},e),{},{searchResults:[],isFetching:!1,fetchingFailed:!0});break}case"MESSENGER_NAVIGATE_BACK":case"CLOSE_MESSENGER":return jn}return e}}),Rn=n(232),An=n.n(Rn),Nn=n(17),Pn=n.n(Nn),Mn=n(14);function Dn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Un(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dn(Object(n),!0).forEach((function(t){Ln(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ln(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const kn=e=>{if(!(()=>{var e,t;if(Object(y.a)())return;const n=null===(e=window)||void 0===e?void 0:null===(t=e.parent)||void 0===t?void 0:t.ga;return"function"==typeof n&&"function"==typeof(null==n?void 0:n.getAll)&&(null==n?void 0:n.loaded)})())return;const t=window.parent.ga.getAll();if(Pn()(t)&&t.length){if(e){const n=xn(t,e);return n||(window.parent.ga("create",e,"auto","intercomMessenger"),xn(window.parent.ga.getAll(),e))}return t[0]}},xn=(e,t)=>An()(e,(function(e){try{return e.b.data.values[":trackingId"]===t}catch(n){if("function"==typeof e.get)return t===e.get("trackingId")}})),Gn=e=>Object.entries(e).reduce((e,[t,n])=>{if(n)return e?e+`, ${t}: ${n}`:`${t}: '${n}'`},null),Vn=(e,t)=>{var n;const{parts:r}=e,i=r[0],s=t||i&&i.id,o=s&&-1!==s.indexOf("message-"),c={isAdmin:i&&i.author&&r[0]&&r[0].author.isAdmin,customBotId:null===(n=e.analyticsMetadata)||void 0===n?void 0:n.customBotId},a={messageId:s&&s.replace("message-","")};return Un(Un({},c),o?a:{})},Fn=["OPEN_MESSENGER","CLOSE_MESSENGER","CREATE_CONVERSATION_SUCCESS","CREATE_COMMENT_SUCCESS","UPDATE_USER_SUPPLIED_EMAIL_SUCCESS","SUBMIT_MESSENGER_CARD_ACTION_SUCCESS","RECORD_MESSAGE_SENT","MARK_CONVERSATION_AS_READ_REQUEST","UPFRONT_EMAIL_COLLECTION_SUBMITTED"];var Bn=e=>t=>n=>{const r=e.getState(),i=t(n);if(-1===Fn.indexOf(n.type)||!r.app.features.googleAnalytics)return i;const s=r.app.customGoogleAnalyticsTrackerId,o=kn(s);if(!o)return Object(Mn.b)("Intercom - Google Analytics is not installed or configured, have you forgotten to include it?"),i;const c=(e=>({name:t,metadata:n={},nonInteraction:r=!1}={})=>{try{e.send("event",Un({eventCategory:"Intercom Messenger",eventAction:t,eventLabel:Gn(n)},r?{nonInteraction:r}:{}))}catch(e){Object(Mn.b)("Intercom - Something went wrong sending the Google Analytics event",e)}})(o);switch(n.type){case"OPEN_MESSENGER":c({name:"Opened Messenger"});break;case"CLOSE_MESSENGER":c({name:"Closed Messenger"});break;case"CREATE_CONVERSATION_SUCCESS":c({name:"Started New Conversation"});break;case"CREATE_COMMENT_SUCCESS":{const e=r.conversations.byId[n.conversationId],{customBotId:t,messageId:i,isAdmin:s}=Vn(e),o=Un({},t?{"Custom Bot ID":t||i}:{"Message ID":i});c({name:"Sent a Reply",metadata:s||t?o:void 0});break}case"UPFRONT_EMAIL_COLLECTION_SUBMITTED":case"UPDATE_USER_SUPPLIED_EMAIL_SUCCESS":c({name:"Provided Email Address"});break;case"SUBMIT_MESSENGER_CARD_ACTION_SUCCESS":c({name:n.card.completed?"Completed App Flow":"Interacted with App",metadata:{"App Name":n.card.app_package_name,Location:(a=r.app.viewStack,a.length>0?{"home-screen":"Home",conversation:"Conversation"}[a[a.length-1]]:"Conversation")}});break;case"RECORD_MESSAGE_SENT":{const e=r.conversations.byId[n.conversationId],{customBotId:t,messageId:i}=Vn(e,n.partId);i&&c({name:"Triggered Message",metadata:Un({},t?{"Custom Bot ID":t||i}:{"Message ID":i}),nonInteraction:!0});break}case"MARK_CONVERSATION_AS_READ_REQUEST":{if(r.conversations.byId[n.conversationId].read)return;const e=r.conversations.byId[n.conversationId],{customBotId:t,messageId:i}=Vn(e);c({name:"Viewed Message",metadata:Un({},t?{"Custom Bot ID":t||i}:{"Message ID":i}),nonInteraction:!0});break}}var a;return i},Hn=n(27),$n=n(88),Wn=n(55);function qn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qn(Object(n),!0).forEach((function(t){Qn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yn(e,t){return void 0!==t&&t!==e}function Jn(e,t,n,r,i,s){e.write(t,n,{domain:i,path:"/",expires:new Date(Hn.b.now()+r),sameSite:s?"none":"lax",secure:s})}function Kn(e,t){return function(e){return null!=e}(e)?e:t}function Xn({domainSetting:e,originCookieDomain:t,meta:n={}}){if("none"!==e){if(void 0!==e&&Object(Mn.b)("Intercom Messenger error: cookie_domain attribute supports only `none` option"),t)return`.${t}`;{const e=Object($n.a)(),t=(e||"").split(":")[0];return Object(D.g)("missingOriginDomain",zn(zn({},n),{},{host:t,rawHost:e})),"localhost"===t?"":t}}}var Zn=n(52),er=n(40),tr=n.n(er),nr=n(235),rr=n.n(nr),ir=n(42);const sr={increment:D.c,count:D.a,timing:D.f},or=()=>{},cr={info:or,error:or};function ar(e,t,n,r,i){let s;try{s=new t(e.endpoints,cr,sr,n,r,()=>{},i)}catch(e){Object(D.b)(e),ur(s)}return s}function ur(e){if(void 0!==e)try{e.shutdown()}catch(e){Object(D.b)(e)}}function dr(e,t,n,r,i,s,o,c,a,u){if(!mr(t,n,a))return e;if(ur(e),!br(n))return;const d=ar(n,rr.a,()=>{lr()},()=>{pr()},u);try{d.subscribeToAllTopics(),fr(d,r,i,s,o,c,p.g)}catch(e){Object(D.b)(e),ur(d)}return d}function lr(){return Object(u.c)()||(Object(D.g)("realTimeConnected"),Object(u.l)(!0)),"connected"}function pr(){return"disconnected"}function fr(e,t,n,r,i,s,o){const c=tr()(e=>e(),5e3);e.addListener("NewComment",e=>{const{deliveryChannel:r,conversationId:i,createdByUserId:s,createdAt:o}=e.eventData;if(r&&-1===r.indexOf("web"))return;const{user:a}=t.getState(),u=()=>t.dispatch(n(h.b,i,!0,o));s===a.id?c(u):u()}),e.addListener("UserContentSeenByAdmin",e=>{const{conversationId:n}=e.eventData;t.dispatch(r(n))}),e.addListener("ConversationSeen",e=>{const{conversationId:n}=e.eventData;t.dispatch(s(n))}),e.addListener("AdminIsTyping",e=>{const{conversationId:n,adminId:r,adminName:s,adminAvatar:o,hasDefaultAvatar:c}=e.eventData;t.dispatch(i(n,r,s,hr(o,c)))}),e.addListener("MessengerCardUpdated",e=>{const{cardUri:r}=e.eventData,i=Object(ir.b)(t.getState());i&&Object(I.h)(i,r)&&t.dispatch(n(h.b,i.id,!0))}),e.addListener("ConversationPartUpdated",e=>{const{conversationId:r}=e.eventData;Object(ir.b)(t.getState()).id===String(r)&&t.dispatch(n(h.b,r,!0))}),e.addListener("StartTour",e=>{const{tour:n}=e.eventData,{user:r}=t.getState();Object(D.h)(r,"received_nexus","tour","messenger",null,{tour_id:n.id}),r.isPresent&&t.dispatch(o(n.id))})}const hr=(e,t)=>t||0!==e.indexOf("http")?void 0:e,br=e=>void 0!==e&&Array.isArray(e.endpoints)&&e.endpoints.length>0,_r=e=>Object(M.a)(e.split("/")).split("-")[0],gr=(e,t)=>_r(e)!==_r(t),mr=(e,t,n)=>br(e)&&br(t)?n||gr(e.endpoints[0],t.endpoints[0]):!br(e)&&br(t)||br(e)&&!br(t);const Or=e=>{const{app:{color:t,secondaryColor:n,selfServeSuggestionsMatch:r,name:i,features:{anonymousInboundMessages:s,googleAnalytics:o,hubspotInstalled:c,inboundMessages:a,marketoEnrichmentInstalled:u,outboundMessages:d},launcherLogoUrl:l,boundWebEvents:p,helpCenterSiteUrl:f,inboundConversationsDisabled:h,isInstantBootEnabled:b,alignment:_,horizontalPadding:m,verticalPadding:O,isDeveloperWorkspace:E,upfrontEmailCollectionSetting:S,customGoogleAnalyticsTrackerId:v},launcher:{isLauncherEnabled:y},launcherDiscoveryMode:{hasDiscoveredLauncher:C},message:{conversationId:T},openOnBoot:{type:I,metadata:j},user:{role:w,locale:R,hasConversations:A}}=e,{conversations:N}=e,P=N?N.byId:{};return{app:{color:t,secondaryColor:n,selfServeSuggestionsMatch:r,name:i,features:{anonymousInboundMessages:s,googleAnalytics:o,hubspotInstalled:c,inboundMessages:a,marketoEnrichmentInstalled:u,outboundMessages:d},launcherLogoUrl:l,boundWebEvents:p,helpCenterSiteUrl:f,inboundConversationsDisabled:h,isInstantBootEnabled:b,alignment:_,horizontalPadding:m,verticalPadding:O,isDeveloperWorkspace:E,upfrontEmailCollectionSetting:S,customGoogleAnalyticsTrackerId:v},launcher:{isLauncherEnabled:y},launcherDiscoveryMode:{hasDiscoveredLauncher:C},user:{role:w,locale:R,hasConversations:A},message:{conversationId:T},conversations:{byId:Er(P)},openOnBoot:{type:I,metadata:j},operator:{lastComposerEvent:g(e)}}},Er=e=>{const t=Object.keys(e),n={};return t.forEach(t=>{const{dismissed:r,read:i}=e[t];n[t]={fetchState:"partial",dismissed:r,read:i}}),n};let Sr=void 0,vr=void 0,yr=void 0;var Cr=({updateRealtimeClient:e,shutdownRealtimeClient:t,getConversation:n,userContentSeenByAdmin:r,adminIsTyping:i,conversationReadElsewhere:s})=>o=>c=>a=>{const u=c(a);switch(a.type){case"CREATE_OR_UPDATE_USER_SUCCESS":{const t=a.user.app.realtimeConfig,c=a.user.id;Sr=e(Sr,vr,t,o,n,r,i,s,c!==yr,a.user.role),vr=t,yr=c;break}case"DESTROY_SESSION":t(Sr),Sr=void 0,vr=void 0,yr=void 0}if(!Sr)return u;switch(a.type){case"MARK_CONVERSATION_AS_READ_REQUEST":Sr.sendEvent("ConversationSeen",{conversationId:a.conversationId});break;case"USER_IS_TYPING":Sr.throttleSendEvent("UserIsTyping",{conversationId:a.conversationId},!0);break;case"SUBMIT_MESSENGER_CARD_ACTION_SUCCESS":Sr.sendEvent("MessengerCardUpdated",{cardUri:a.card.uri})}return u};const Tr=e=>(!Object(y.a)()&&window.parent&&window.parent.intercomSettings&&window.parent.intercomSettings.app_id&&(e=`${e}-${window.parent.intercomSettings.app_id}`),e),Ir=e=>{try{return JSON.parse(fe.a.get(e))}catch(e){Object(D.c)("hydrate_read_error")}},jr=(e,t)=>{try{fe.a.set(e,JSON.stringify(t))}catch(e){Object(D.c)("hydrate_write_error")}};const wr=e=>({type:"REHYDRATE",state:e});var Rr=(e,t="intercom-state")=>n=>(...r)=>{const i=n(...r);if(t=Tr(t),!Object(U.d)())return i;const s=Ir(t);if(s){const e=i.getState();try{i.dispatch(wr(s))}catch(n){Object(D.c)("hydrate_error"),function(e){try{fe.a.remove(e)}catch(e){Object(D.c)("hydrate_remove_error")}}(t),i.dispatch(wr(e))}}return i.subscribe(()=>{jr(t,e(i.getState()))}),i};var Ar=()=>e=>t=>{const n=e(t);switch(t.type){case"DESTROY_SESSION":Object(U.d)()&&t.clearCookies&&fe.a.remove(Tr("intercom-state"))}return n},Nr={play(e){if(!U.a.hasAudioSupport())return;const t=this.load(e);if(t){const e=t.play();e&&e.catch(()=>{})}},playFile(e){e&&U.a.hasAudioSupport()&&this.play(n(220)(`./${e}`))},load(e){return this.audio[e]||(this.audio[e]=new Audio(e)),this.audio[e]},playNotification:tr()((function(e){this.play(n(220)(`./${e}`))}),3e3,{leading:!0,trailing:!1}),audio:{}},Pr=n(98);let Mr=(()=>{const e=fe.b.get("played-notifications");return e?JSON.parse(e):{}})();const Dr=(e,t)=>{Mr[e]=t,fe.b.set("played-notifications",JSON.stringify(Mr))},Ur=(e,t)=>{const n=Object(M.a)(e.parts);return!((e,t)=>{const n=Mr[e];return n===t||-1===n})(e.id,n.id)||((e,t)=>{const{notificationStatus:n}=e;return"renotifying"===n&&t})(e,t)},Lr=(e,t,n)=>{let r=!1;e.forEach(e=>{const n=Object(M.a)(e.parts);Ur(e,t)&&(r=!0),Dr(e.id,n.id)}),r&&Nr.playNotification(n)},kr=(e,t)=>{switch(e){case"CREATE_COMMENT_FAILURE":case"CREATE_CONVERSATION_FAILURE":return"failed.mp3";case"CREATE_COMMENT_REQUEST":case"CREATE_CONVERSATION_REQUEST":return"submit.mp3";default:return t&&t.author.isBot?"operator.mp3":"notification.mp3"}};var xr=e=>t=>n=>{const r=t(n),i=e.getState();if(i.app.isAudioEnabled&&!i.app.isBoundEventCreatorOpen){switch(n.type){case"CREATE_COMMENT_REQUEST":case"CREATE_CONVERSATION_REQUEST":Nr.playFile(kr(n.type));break;case"CREATE_COMMENT_FAILURE":case"CREATE_CONVERSATION_FAILURE":Nr.playFile(kr(n.type));break;case"OPEN_MESSAGE":{const e=i.conversations.byId[n.conversationId];Lr([e],i.session.newSession,kr(n.type));break}case"GET_CONVERSATION_SUCCESS":{const{conversation:e,skipNotification:t}=n;if(e.read)return;const r=Object(M.a)(e.parts);if(!0===t||Object(Pr.a)(r.partType))return void Dr(e.id,r.id);Lr([e],i.session.newSession,kr(n.type,r));break}case"GET_CONVERSATIONS_SUCCESS":{const e=Object(P.a)(i);Lr(e,i.session.newSession,kr(n.type));break}case"CREATE_OR_UPDATE_USER_SUCCESS":{const{unreadDismissedConversationIds:e}=n.user;e.forEach(e=>{Dr(e,-1)});break}}return r}},Gr=n(126);const Vr=[],Fr=[];var Br=({getState:e})=>t=>n=>(function(e,t){const{user:n,app:r,article:i}=e();switch(t.type){case"OPEN_LAUNCHER_DISCOVERY_MODE":return[Object(D.i)(n,"received","message","messenger","from_launcher_discovery_mode")];case"CREATE_COMMENT_SUCCESS":return[Object(D.i)(n,"sent","reply",t.isBorderless?"borderless":"messenger","in_conversation",{conversation_id:t.conversationId,comment_id:t.part.id,is_attachment:Object(u.f)(t.part.body),is_annotated:t.isAnnotatedImage||!1,within_office_hours:Object(u.h)(t.officeHoursResponse),teammate_status:Object(u.d)(t.lastParticipatingAdmin),time_since_last_active_in_minutes:Object(u.e)(t.lastParticipatingAdmin),from_messenger_suggested_content:t.fromMessengerSuggestedContent})];case"CREATE_CONVERSATION_SUCCESS":const e=-1!==["custom_bot","resolution_bot_auto_suggest"].indexOf(t.conversationTriggerType),s="resolution_bot_auto_suggest"===t.conversationTriggerType;return[Object(D.i)(n,"sent","message","messenger","in_new_conversation",{conversation_id:t.conversation.id,is_attachment:Object(u.f)(t.conversation.parts[0].body),is_annotated:t.isAnnotatedImage||!1,within_office_hours:Object(u.h)(t.officeHoursResponse),from_suggestion:e,from_messenger_suggested_content:s,trigger_type:t.conversationTriggerType})];case"UPDATE_CONVERSATION_FORM_REQUEST":return[Object(D.i)(n,"sent","reply","messenger","in_conversation",{type:"automated_lead_qualification",conversation_id:t.conversationId,part_id:t.partId,attribute_identifier:t.identifier,reply:t.value,attribute_type:t.identifierType,form_type:t.formType,attribute_is_custom_data:t.isCustomData})];case"CREATE_REACTION_REQUEST":return[Object(D.i)(n,"sent","reaction",t.isFromConversation?"messenger":"in_app",t.isFromConversation?"in_conversation":"from_full",{conversation_id:t.conversationId})];case"OPEN_ARTICLE":const o=Object.assign({owner:"educate",article_id:t.articleId,conversation_id:t.conversationId},t.metricMetadata||{},!t.fromBrowseMode&&{article_channel:"messenger",article_source:"conversation"});return[t.fromBrowseMode&&Object(D.i)(n,"clicked",Gr.c,Gr.i,"messenger",o),!!t.metricMetadata&&!t.fromBrowseMode&&Object(D.i)(n,"viewed","article","in_app","from_conversation",o,"educate_event")].filter(Boolean);case"CREATE_ARTICLE_REACTION_REQUEST":const{activeArticle:c}=i,a=c&&c.reactionsReply&&c.reactionsReply.reactionSet[t.reactionIndex]&&c.reactionsReply.reactionSet[t.reactionIndex].emoji;return[Object(D.i)(n,"sent","reaction","in_app","on_article",{owner:"educate",reaction:a,article_id:t.articleId,conversation_id:r.conversationId},"educate_event")];case"CREATE_EVENT":return t.boundEventMetadata?[Object(D.i)(n,"triggered","bound_event","in_app","from_customer_site",Object.assign(t.boundEventMetadata,{event_name:t.name}))]:[];default:return[]}}(e,n).forEach(e=>Object(D.m)(e)),"DESTROY_SESSION"===n.type&&(Vr.splice(0),Fr.splice(0)),t(n)),Hr=!Object(y.a)()&&!0===parent.__INTERCOM_REDUX_DEV_TOOLS__&&parent.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?parent.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({trace:!1,traceLimit:25}):()=>e=>e;const $r=Cr({updateRealtimeClient:dr,shutdownRealtimeClient:ur,getConversation:C.l,userContentSeenByAdmin:C.t,adminIsTyping:C.a,conversationReadElsewhere:C.c}),Wr=function(e){let t,n;return r=>i=>s=>{const o=r.getState();switch(s.type){case"CREATE_OR_UPDATE_USER_SUCCESS":{if(!o.session)return;const{appId:r}=o.session,{anonymousSessionDuration:i}=o.user,{anonymousId:a,anonymousSession:u}=s.user,{originCookieDomain:d}=s.user.app,{crossSiteCookies:l}=s.user.app.features,p=Xn({domainSetting:o.app.cookieDomain,originCookieDomain:d,meta:{action:s.type,role:s.user&&s.user.role}});if(Yn(t,a)){const n=Kn(i,Object(Wn.b)(s.user)?6048e5:2333e7);Jn(e,Object(c.a)(r),a,n,p,l),t=a}if(Yn(n,u)){const t=Kn(i,6048e5);Jn(e,Object(c.b)(r),u,t,p,l),n=u}break}case"DESTROY_SESSION":{const{session:t}=o,{originCookieDomain:n}=o.app,r=Xn({domainSetting:o.app.cookieDomain,originCookieDomain:n,meta:{action:s.type,role:s.user&&s.user.role}});if(t&&s.clearCookies){const{appId:n}=t;e.clear(Object(c.b)(n),{domain:r,path:"/"}),e.clear(Object(c.a)(n),{domain:r,path:"/"}),e.clear(Object(c.d)(n),{domain:r,path:"/"})}break}}return i(s)}}(o.a),qr=Hr(),zr=Rr(Or);var Qr=e=>Object(G.createStore)(wn,e,Object(G.compose)(Object(G.applyMiddleware)(F.a,Br,xr,Bn,$r,Wr,Ar,Zn.d),zr,qr));var Yr=n(10),Jr=n(53),Kr=n(74),Xr=n(50);const Zr=0,ei=12,ti=14;var ni=n(236),ri=n.n(ni),ii=n(237),si=n.n(ii);const oi=["app_id","user_id","email","user_hash","session_duration","custom_data","user_data","widget","custom_launcher_selector","hide_default_launcher","alignment","horizontal_padding","vertical_padding","cookie_domain","background_color","action_color","api_base"];function ci(e){return!dt()(e)}function ai(e){return oi.indexOf(e)<0}function ui(e){return Object.keys(e).filter(ai).filter(ci).reduce((t,n)=>(t[n]=e[n],t),{})}function di(e){return Object.keys(e).filter(ci).reduce((t,n)=>{const r=e[n];return function(e){return null!=e}(r)&&(t[n]=r),t},{})}function li(e){return Object.assign(function(e){return e.custom_data?ui(e.custom_data):{}}(e),ui(e))}function pi(e){return function(e){if(!e.user_data)return;return di({appId:e.app_id,email:e.user_data.email,userId:e.user_data.user_id,userHash:e.user_data.user_hash})}(e)||function(e){return di({appId:e.app_id,email:e.email,userId:e.user_id,userHash:e.user_hash})}(e)}function fi(e){return e&&e.widget&&!dt()(e.widget.activator)&&"#IntercomDefaultWidget"!==e.widget.activator?e.widget.activator:null}function hi(e){return dt()(e.custom_launcher_selector)?fi(e):e.custom_launcher_selector}function bi(e){return si()(e.hide_default_launcher)?e.hide_default_launcher?"hide":"show":function(e){return e.widget&&"#IntercomDefaultWidget"===e.widget.activator?"show":"not-present"}(e)}function _i(e){return e.session_duration||null}function gi(e){const t={alignment:e.alignment,horizontalPadding:e.horizontal_padding,verticalPadding:e.vertical_padding,cookieDomain:e.cookie_domain,color:e.action_color,secondaryColor:e.background_color};return ri()(t,e=>void 0!==e)}var mi=n(19),Oi=n(158),Ei=n(21),Si=n.n(Ei);function vi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const yi=Si()("intercom.client-matching.client-match-object.base");class base_BaseClientMatchObject{constructor(e){vi(this,"_ruleset",void 0),vi(this,"_predicateChain",void 0),this._ruleset=e,this._predicateChain=new predicate_chain_PredicateChain(e,()=>{})}getRuleset(){return this._ruleset}getRulesetId(){return this._ruleset.ruleset_id}getObjectType(){return this._ruleset.ruleset_link_object_type}getSerializedObject(){return this._ruleset.serialized_object}isMatchableInLocation(e){return!this._ruleset.matching_locations||-1!==this._ruleset.matching_locations.indexOf(e)}evaluatePredicates(){return!(!this.matchOnMobileBrowser()&&Object(U.g)())&&this._predicateChain.evaluate()}canRematch(){return"transient_match"===this.getRuleset().ruleset_match_behavior}matchOnMobileBrowser(){return!0}refreshActiveMatch(e){this.onRefreshActiveMatch(this._ruleset.serialized_object,e)}async match(e,t){yi(`.match called [${this.getObjectType()}]`,this.getRuleset());const n=e.getState(),r=this.getRuleset(),i=this.onPreMatch(e);let s;try{const e=h.b.rulesetConditionSatisfied(n.session,r.ruleset_id,r.ruleset_link_id,r.user_id,r.company_id,r.predicates,r.checkpoint_id).then(e=>this.selectMatchObject(e)),t=this.getSerializedObject();s=t?await Promise.resolve(t):await e}catch(e){return Object(D.b)(`Call to /match failed, unable to complete client match rulesetId=${this.getRulesetId()}`)}this.onMatch(s,e,i,t)}selectMatchObject(e){return e}onPreMatch(e){}onMatch(e,t,n,r){}onRefreshActiveMatch(e,t){}unmatch(e){yi(`.unmatch called [${this.getObjectType()}]`,this.getRuleset()),this.onUnmatch(e)}onUnmatch(e){}}var Ci=n(73);class banner_BannerClientMatchObject extends base_BaseClientMatchObject{selectMatchObject(e){return e.banner}onMatch(e,t){if(!e)return;const n=h.b.buildBanner(e);let{banners:r}=t.getState();r=r.concat(n),t.dispatch(Object(Ci.e)(r))}canRematch(){return!0}onUnmatch(e){let{banners:t}=e.getState();t=t.filter(e=>e.ruleset_id!==this.getRuleset().ruleset_id),e.dispatch(Object(Ci.e)(t))}}class tour_TourClientMatchObject extends base_BaseClientMatchObject{selectMatchObject(e){return e.tour}matchOnMobileBrowser(){return!1}onPreMatch(){var e,t,n;return y.a?{}:{currentUrl:null===(e=window)||void 0===e?void 0:null===(t=e.parent)||void 0===t?void 0:null===(n=t.location)||void 0===n?void 0:n.pathname}}onMatch(e,t,n){var r,i,s;t.dispatch(Object(p.j)(h.b.buildTour(e))),Object(y.a)()||n.currentUrl===(null===(r=window)||void 0===r?void 0:null===(i=r.parent)||void 0===i?void 0:null===(s=i.location)||void 0===s?void 0:s.pathname)||(Object(D.c)("tour_match_url_mismatch"),Object(D.b)(`tour_match_url_mismatch rulesetId=${this.getRulesetId()}`))}}class inbound_trigger_InboundTriggerClientMatchObject extends base_BaseClientMatchObject{selectMatchObject(e){return e.composerSuggestions}onMatch(e,t){t.dispatch(Object(d.a)(e))}onUnmatch(e){e.dispatch(Object(d.b)(this.getRulesetId()))}}var Ti=n(94);class answerbot_predictive_context_AnswerbotPredictiveContextClientMatchObject extends base_BaseClientMatchObject{selectMatchObject(e){return e.answerbotPredictiveContexts}onMatch(e,t){t.dispatch(Object(Ti.a)(e))}onUnmatch(e){e.dispatch(Object(Ti.a)(null))}}const Ii=Si()("intercom.client-match-object.messenger-trigger");class messenger_trigger_MessengerTriggerClientMatchObject extends base_BaseClientMatchObject{constructor(...e){var t,n,r;super(...e),r=void 0,(n="_node")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}selectMatchObject(){return null}onMatch(e,t){this._node=this._findDOMNode(e),t.dispatch(Object(Kr.a)(e,h.b))}onUnmatch(e){e.dispatch(Object(Kr.b)(this.messengerTriggerId()))}onRefreshActiveMatch(e,t){this._shouldRefreshActiveMatch()&&(Ii(`TriggerId=${e.id} (${e.selector}) is missing from the page, re-attaching listener`),this.onUnmatch(t),this.onMatch(e,t))}messengerTriggerId(){return this.getSerializedObject().id}_shouldRefreshActiveMatch(){return Boolean(this._node&&!this._documentContains(this._node))}_findDOMNode(e){return window.parent.document.querySelector(e.selector)}_documentContains(e){return window.parent.document.contains?window.parent.document.contains(e):window.parent.document.body.contains(e)}}class chat_ChatClientMatchObject extends base_BaseClientMatchObject{selectMatchObject(e){return e.chat}onMatch(e,t){e&&t.dispatch(Object(C.o)(h.b,Object(h.a)(e)))}}class custom_bot_CustomBotClientMatchObject extends base_BaseClientMatchObject{selectMatchObject(e){return e.customBot}onMatch(e,t){e&&t.dispatch(Object(C.o)(h.b,Object(h.a)(e)))}}class post_PostClientMatchObject extends base_BaseClientMatchObject{selectMatchObject(e){return e.post}onMatch(e,t){e&&t.dispatch(Object(C.o)(h.b,Object(h.a)(e)))}}class seriesCondition_SeriesConditionClientMatchObject extends base_BaseClientMatchObject{selectMatchObject(e){return e.seriesCondition}onMatch(e,t,n,r){r.createOrUpdateUser({},"apiUpdate",!0)}}function ji(e){switch(e.ruleset_link_object_type){case"banner":return new banner_BannerClientMatchObject(e);case"tour":return new tour_TourClientMatchObject(e);case"inbound_trigger":case"inbound_custom_bot":return new inbound_trigger_InboundTriggerClientMatchObject(e);case"chat":return new chat_ChatClientMatchObject(e);case"custom_bot":return new custom_bot_CustomBotClientMatchObject(e);case"post":return new post_PostClientMatchObject(e);case"messenger_trigger":case"button_custom_bot":return new messenger_trigger_MessengerTriggerClientMatchObject(e);case"answerbot_predictive_context":return new answerbot_predictive_context_AnswerbotPredictiveContextClientMatchObject(e);case"series_condition":return new seriesCondition_SeriesConditionClientMatchObject(e);default:return new base_BaseClientMatchObject(e)}}function wi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ri=Si()("intercom.client-matching.client-match-runner");class client_match_runner_ClientMatchRunner{constructor(e,t){wi(this,"clientMatches",[]),wi(this,"activeClientMatchIds",{}),wi(this,"evalLoop",null),wi(this,"store",void 0),wi(this,"session",void 0),this.store=e,this.session=t}start(){null===this.evalLoop&&(Ri("Starting evaluation loop"),this.evalLoop=setInterval(()=>this.performClientMatching(),500))}stop(){null!==this.evalLoop&&(Ri("Stopping evaluation loop"),window.clearInterval(this.evalLoop),this.evalLoop=null)}updateClientMatches(e,t){this._removeMissingMatches(e,t),this._addNewMatches(e),this.performClientMatching()}performClientMatching(){const e=this._evaluateClientMatches();this._processResults(e)}_evaluateClientMatches(){const e={positiveMatches:[],negativeMatches:[]};return this.clientMatches.forEach(t=>{t.evaluatePredicates()?e.positiveMatches.push(t):e.negativeMatches.push(t)}),e}_processResults(e){e.negativeMatches.forEach(e=>{const t=e.getRulesetId();this.activeClientMatchIds[t]&&(e.unmatch(this.store),delete this.activeClientMatchIds[t],e.canRematch()||this._removeClientMatch(e))}),e.positiveMatches.forEach(e=>{const t=e.getRulesetId();this.activeClientMatchIds[t]?e.refreshActiveMatch(this.store):(e.match(this.store,this.session),this.activeClientMatchIds[t]=!0)})}_addNewMatches(e){for(const t of e)this.clientMatches.find(e=>e.getRulesetId()===t.ruleset_id)||this.clientMatches.push(ji(t));this._evaluateClientMatches()}_removeMissingMatches(e,t){for(const n of this.clientMatches)n.isMatchableInLocation(t)&&!e.find(e=>e.ruleset_id===n.getRulesetId())&&(this.activeClientMatchIds[n.getRulesetId()]&&n.unmatch(this.store),this._removeClientMatch(n))}_removeClientMatch(e){this.clientMatches.splice(this.clientMatches.indexOf(e),1)}}var Ai=n(221);const Ni=e=>{try{return e.self!==e.top}catch(e){return!1}},Pi=e=>{try{return e.document.body.text.length>0}catch(e){return!1}};function Mi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{assign:Di}=Object;function Ui(e,t,n){let r=t(e.getState());return()=>{const i=t(e.getState());r!==i&&(r=i,n(i))}}function Li(e){return e.intercomSettings}var ki=class session_Session{constructor(e,t,n){Mi(this,"handleCustomLauncherClick",e=>(e.preventDefault(),this.toggleMessenger(),this.addLauncherClickedMetric(),fi(Li(this.window))&&(D.j.addIncrementOpMetric("legacyCustomLauncherClick"),D.j.buildAndAddHcMetric("legacyCustomLauncherClick")),!1)),Mi(this,"handleMessengerChange",e=>{(e?this.messengerOpenCallbacks:this.messengerCloseCallbacks).forEach(e=>e()),e&&this.sendMessengerOpenRequest(),e||"messenger-trigger"!==Object(i.f)(this.store.getState())||this.store.dispatch(Yr.b.navigateBack())}),Mi(this,"handleUnreadConversationCountChange",e=>{this.unreadConversationCountChangeCallbacks.forEach(t=>t(e))}),this.window=e,this.store=t||(e=>{const t=Qr(e);return t.subscribe(w(t)),t.subscribe(x(t)),t})(),this.destroyApp=n,this.isReady=!1,this.hasScrapedCookies=!1,this.readyCallbacks=[],this.messengerOpenCallbacks=[],this.messengerCloseCallbacks=[],this.unreadConversationCountChangeCallbacks=[],this.storeSubscribers=[],this.clientMatchRunner=new client_match_runner_ClientMatchRunner(this.store,this),this.startClientMatchRunner(),this.createMessengerChangeSubscriber(),this.createUnreadConversationCountChangeSubscriber()}createOrUpdateUser(e={},t,n=!1){const r=this.getSettings(e),i=this.window.intercomEncryptedPayload;const s=this.store.getState().app;let{session:a}=this.store.getState();const d=pi(r);if(a=Di({},a,d),!function(e){return e&&e.appId}(a))return D.j.addIncrementOpMetric("bailed_ping_request_because_of_invalid_session"),Promise.resolve();const{appId:l}=a;(({appWindow:e,appId:t})=>{if(Ni(e)){const n=Ni(e.parent),r=Pi(e),{referrer:i}=e.document;Object(D.d)(`messenger_sandboxed - referrer=${i}`),Object(D.c)("messenger_sandboxed",{appId:t,appSandboxed:n,hasBodyText:r})}})({appWindow:this.window,appId:l}),a=Di({},a,function(e){const t={},n=o.a.read(Object(c.a)(e))||o.a.read(Object(c.d)(e)),r=o.a.read(Object(c.b)(e));n&&Di(t,{anonymousId:n});r&&Di(t,{anonymousSession:r});return t}(l));const p=li(r),f={};if(Object(c.f)())f.marketo_tracking_cookie=null,f.hubspot_tracking_cookie=null;else{if(s.features.marketoEnrichmentInstalled){this.hasScrapedCookies=!0;const e=o.a.read(Object(c.e)());e&&(f.marketo_tracking_cookie=e)}if(s.features.hubspotInstalled){this.hasScrapedCookies=!0;const e=o.a.read(Object(c.c)());e&&(f.hubspot_tracking_cookie=e)}}const b=hi(r);b&&this.enableCustomLauncher(b),this.stopMetricsPolling=D.j.startMetricsPolling(a,this.window),Object(u.a)()||(D.j.buildAndAddHcMetric("apiBoot"),Object(u.m)(!0));const _=this.window.document.URL,g=gi(r);return function(e,t){Object(ct.c)(e,e=>t.dispatch(Object(Oi.c)(e))),Object(ct.f)(e)}(this.window,this.store),this.store.dispatch(Jr.c.createOrUpdateUser(h.b,a,_,p,bi(r),_i(r),g,n,i,t,f,this.destroyApp)).then(e=>e&&this.handleUserCreateOrUpdate(e,r))}sendMessengerOpenRequest(){this.whenReady(()=>{const e=this.store.getState();if(e.app.features.openEndpoint||e.app.features.openEndpointShadow)return this.store.dispatch(Jr.c.sendMessengerOpen(h.b,e.app.features.openEndpointShadow)).then(e=>e&&this.handleMessengerOpen(e))})}handleMessengerOpen(e){if(!this.store.getState().app.features.openEndpoint)return;const{clientsideRulesetConditions:t,composerSuggestions:n}=e;this.store.dispatch(Object(d.e)(n)),this.clientMatchRunner.updateClientMatches(t,ti)}createCustomizationOverride(e){const t=gi(this.getSettings(e));return this.store.dispatch(Object(l.b)(t))}destroy(e=!0){this.store.dispatch(Jr.c.destroySession(e)),this.stopMetricsPolling&&this.stopMetricsPolling(),this.disableCustomLauncher(),this.removeStoreSubscribers(),this.stopClientMatchRunner(),Jr.c.setupDefaultCreateOrUpdateUserRateLimiting(),Jr.c.isDuplicateCreateOrUpdateUserRequest.reset()}openMessenger(){this.whenReady(()=>{const{borderless:e}=this.store.getState();e.conversationId?this.store.dispatch(Yr.b.openConversationInMessenger(e.conversationId)):(this.store.dispatch(Yr.b.showInitialScreen()),this.store.dispatch(Yr.b.openMessenger()))})}openOnBoot(){const{getState:e,dispatch:t}=this.store,n=e().openOnBoot;if(!Object(s.b)()&&n)switch(n.type){case"conversation":const e=n.metadata.conversationId;e&&t(Yr.b.openConversationInMessenger(e));break;case"new_conversation":t(Yr.b.openMessenger()),t(Yr.b.showNewConversation());break;case"article":if("article-link"===n.metadata.componentId&&n.metadata.url){var r,i;const e=null===(r=n.metadata)||void 0===r?void 0:null===(i=r.previousState)||void 0===i?void 0:i.metadata;if(e){const n=e.conversationId;n&&t(Yr.b.openConversationInMessenger(n))}t(Object(f.b)(h.b,n.metadata.cardUri,n.metadata.componentId,n.metadata.url,{}))}}}closeMessenger(){this.whenReady(()=>{this.store.dispatch(Yr.b.closeMessenger())})}toggleMessenger(){this.whenReady(()=>{this.store.dispatch(Yr.b.toggleMessenger())})}showConversations(){this.whenReady(()=>{this.store.dispatch(Yr.b.openConversations())})}showNewConversation(e){this.whenReady(()=>{this.store.dispatch(Yr.b.openNewConversation(e))})}startTour(e){this.whenReady(()=>{this.store.dispatch(Object(p.d)(e))})}createEvent(e,t){this.whenReady(()=>{this.store.dispatch(Jr.c.createEvent(h.b,e,t)).then(e=>{if(!e)return;const{clientsideRulesetConditions:t}=e;t&&t.length>0&&this.clientMatchRunner.updateClientMatches(t,ei)})})}createArticleReaction(e,t,n){this.whenReady(()=>{const{session:r,app:{isMessengerOpen:s}}=this.store.getState(),o=!("conversation"===Object(i.f)(this.store.getState())&&s);h.b.createArticleReaction(r,e,t,o,n)})}previewInboundCustomBot(e){this.whenReady(()=>{e=h.b.buildComposerSuggestions(e),this.store.dispatch(Object(d.d)(e))})}previewOutboundCustomBot(e){this.store.dispatch(Object(Kr.d)(h.b,e))}createMetric(e,t){this.whenReady(()=>{const{session:n,user:r}=this.store.getState();t=Di({anonymous_id:n.anonymousId,end_user_id:r.id,user_id:r.id,user_role:r.role},t);const i=n.appId,s=[{name:e.toString(),id:mi.a.generateUUID(),app_id_code:i,created_at:Math.round(Date.now()/1e3),metadata:t}];Object(Wn.a)(r)&&h.b.createMetrics(n,s)})}trigger(e){this.store.dispatch(Object(Kr.c)(e,h.b))}getSettings(e){return Di({},Li(this.window),e)}getArticleReaction(e,t,n){this.whenReady(()=>{const{session:r}=this.store.getState();h.b.getArticleReaction(r,e,t,n)})}enterTourPreviewMode(e){this.whenReady(()=>{this.store.dispatch(Object(p.h)(h.b.buildTour(e),!0))})}exitTourPreviewMode(){this.whenReady(()=>{this.store.dispatch(Object(p.i)())})}getVisitorId(){const{session:e}=this.store.getState();if(!e)return;const{appId:t}=e;return o.a.read(Object(c.a)(t))||o.a.read(Object(c.d)(t))}onMessengerOpen(e){this.messengerOpenCallbacks.push(e)}onMessengerClose(e){this.messengerCloseCallbacks.push(e)}onUnreadConversationCountChange(e){const t=this.store.getState(),n=Object(Xr.b)(t);this.unreadConversationCountChangeCallbacks.push(e),e(n)}enableCustomLauncher(e){if(Object(y.a)())return;this.disableCustomLauncher();const t=this.window.document.getElementsByTagName("body")[0];this.customLauncherClickHandler=Object(S.g)(t,e,this.handleCustomLauncherClick),Object(S.c)(t,"click",this.customLauncherClickHandler)}disableCustomLauncher(){if(!this.customLauncherClickHandler)return;const e=this.window.document.getElementsByTagName("body")[0];Object(S.y)(e,"click",this.customLauncherClickHandler),this.customLauncherClickHandler=null}whenReady(e){if(this.isReady)return setTimeout(e,1);this.readyCallbacks.push(e)}executeReadyCallbacks(){const{readyCallbacks:e}=this;for(;e.length;)e.shift()();this.readyCallbacks=[]}addLauncherClickedMetric(){this.whenReady(()=>{const{user:e,app:{isMessengerOpen:t}}=this.store.getState(),n={is_messenger_open:t,is_custom_launcher:!0};D.j.buildAndAddMetric(e,"clicked","launcher","in_app","",n)})}handleUserCreateOrUpdate(e,t){if(this.shouldSendTrackingCookies()&&this.createOrUpdateUser(t,"apiUpdate"),e.clientsideRulesetConditions&&this.clientMatchRunner.updateClientMatches(e.clientsideRulesetConditions,Zr),this.isReady)return e;if(this.executeReadyCallbacks(),this.isReady=!0,Object(Ai.a)()&&this.window.parent.postMessage("messenger_session_ready","*"),!Object(u.b)()){const e=this.store.getState(),t=Object(a.a)(e),n=Object(U.j)();D.j.buildAndAddHcMetric("createOrUpdateUser",{messengerIsVisible:Object(u.g)(t),isLauncherEnabled:t,hasDisplayNoneSet:n}),Object(u.k)(!0)}return e}shouldSendTrackingCookies(){const e=this.store.getState().app;return!this.hasScrapedCookies&&(e.features.hubspotInstalled||e.features.marketoEnrichmentInstalled)}startClientMatchRunner(){this.clientMatchRunner.start()}stopClientMatchRunner(){this.clientMatchRunner.stop()}createMessengerChangeSubscriber(){this.addStoreSubscriber(Ui(this.store,e=>e.app.isMessengerOpen,this.handleMessengerChange))}createUnreadConversationCountChangeSubscriber(){this.addStoreSubscriber(Ui(this.store,Xr.b,this.handleUnreadConversationCountChange))}addStoreSubscriber(e){this.storeSubscribers.push(this.store.subscribe(e))}removeStoreSubscribers(){this.storeSubscribers.forEach(e=>!!e&&e())}},xi=n(238),Gi=n.n(xi),Vi=n(222),Fi=n(58),Bi=n(223),Hi=n(224),$i=n(90);const Wi=({isLauncherEnabled:e,customization:{verticalPadding:t}})=>e?t+60+20:t;var qi=e=>`\n  @keyframes intercom-lightweight-app-launcher {\n    from {\n      opacity: 0;\n      transform: scale(0.5);\n    }\n    to {\n      opacity: 1;\n      transform: scale(1);\n    }\n  }\n\n  @keyframes intercom-lightweight-app-gradient {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n\n  @keyframes intercom-lightweight-app-messenger {\n    from {\n      opacity: 0;\n      transform: translateY(20px);\n    }\n    to {\n      opacity: 1;\n      transform: translateY(0);\n    }\n  }\n\n  .intercom-lightweight-app {\n    position: fixed;\n    z-index: 2147483001;\n    width: 0;\n    height: 0;\n    font-family: intercom-font, "Helvetica Neue", "Apple Color Emoji", Helvetica, Arial, sans-serif;\n  }\n\n  .intercom-lightweight-app-gradient {\n    position: fixed;\n    z-index: 2147483002;\n    width: 500px;\n    height: 500px;\n    bottom: 0;\n    ${e.customization.alignment}: 0;\n    pointer-events: none;\n    background: radial-gradient(\n      ellipse at bottom ${e.customization.alignment},\n      rgba(29, 39, 54, 0.16) 0%,\n      rgba(29, 39, 54, 0) 72%);\n    animation: intercom-lightweight-app-gradient 200ms ease-out;\n  }\n\n  .intercom-lightweight-app-launcher {\n    position: fixed;\n    z-index: 2147483003;\n    bottom: ${(({isMobile:e,customization:t})=>e?20:t.verticalPadding)(e)}px;\n    ${e.customization.alignment}: ${(({isMobile:e,customization:t})=>e?20:t.horizontalPadding)(e)}px;\n    width: 60px;\n    height: 60px;\n    border-radius: 50%;\n    background: ${e.colors.primaryColor};\n    cursor: pointer;\n    box-shadow: 0 1px 6px 0 rgba(0, 0, 0, 0.06), 0 2px 32px 0 rgba(0, 0, 0, 0.16);\n    animation: intercom-lightweight-app-launcher 250ms ease;\n  }\n\n  .intercom-lightweight-app-launcher:focus {\n    outline: none;\n    ${e.accessibility.tabNavigation?`box-shadow: inset 0 0 0 5px ${(({accessibility:e})=>$i.a[e.accessibilityTheme])(e)};`:""}\n  }\n\n  .intercom-lightweight-app-launcher-icon {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 60px;\n    height: 60px;\n    transition: transform 100ms linear, opacity 80ms linear;\n  }\n\n  .intercom-lightweight-app-launcher-icon-open {\n    ${e.isMessengerOpen?"\n        opacity: 0;\n        transform: rotate(30deg) scale(0);\n      ":"\n        opacity: 1;\n        transform: rotate(0deg) scale(1);\n      "}\n  }\n\n  .intercom-lightweight-app-launcher-icon-open svg {\n    width: 28px;\n    height: 32px;\n  }\n\n  .intercom-lightweight-app-launcher-icon-open svg path {\n    fill: ${e.colors.buttonTextColor};\n  }\n\n  .intercom-lightweight-app-launcher-icon-self-serve {\n    ${e.isMessengerOpen?"\n        opacity: 0;\n        transform: rotate(30deg) scale(0);\n      ":"\n        opacity: 1;\n        transform: rotate(0deg) scale(1);\n      "}\n  }\n\n  .intercom-lightweight-app-launcher-icon-self-serve svg {\n    height: 56px;\n  }\n\n  .intercom-lightweight-app-launcher-icon-self-serve svg path {\n    fill: ${e.colors.buttonTextColor};\n  }\n\n  .intercom-lightweight-app-launcher-custom-icon-open {\n    max-height: 36px;\n    max-width: 36px;\n    ${e.isMessengerOpen?"\n        opacity: 0;\n        transform: rotate(30deg) scale(0);\n      ":"\n        opacity: 1;\n        transform: rotate(0deg) scale(1);\n      "}\n  }\n\n  .intercom-lightweight-app-launcher-icon-minimize {\n    ${e.isMessengerOpen?"\n        opacity: 1;\n        transform: rotate(0deg) scale(1);\n      ":"\n        opacity: 0;\n        transform: rotate(-60deg) scale(0);\n      "}\n  }\n\n  .intercom-lightweight-app-launcher-icon-minimize svg {\n    width: 16px;\n  }\n\n  .intercom-lightweight-app-launcher-icon-minimize svg path {\n    fill: ${e.colors.buttonTextColor};\n  }\n\n  .intercom-lightweight-app-messenger {\n    position: fixed;\n    z-index: 2147483003;\n    overflow: hidden;\n    background-color: white;\n    animation: intercom-lightweight-app-messenger 250ms ease-out;\n    ${e.isMobile?"\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n      ":`\n        width: 376px;\n        height: calc(100% - ${20+Wi(e)}px);\n        max-height: 704px;\n        min-height: 250px;\n        ${e.customization.alignment}: ${e.customization.horizontalPadding}px;\n        bottom: ${Wi(e)}px;\n        box-shadow: 0 5px 40px rgba(0,0,0,0.16);\n        border-radius: 8px;\n      `}\n  }\n\n  .intercom-lightweight-app-messenger-header {\n    height: 75px;\n    background: linear-gradient(\n      135deg,\n      ${e.colors.gradientStartColor} 0%,\n      ${e.colors.gradientEndColor} 100%\n    );\n  }\n\n  @media print {\n    .intercom-lightweight-app {\n      display: none;\n    }\n  }\n`,zi=n(33);const Qi=(e,t)=>{const{onLauncherClick:n,launcherLogoUrl:r,allowSelfServeIcon:i}=t,s=Ki(t),o=e.document.createElement("div");o.addEventListener("click",n,!0),o.addEventListener("keydown",s,!0),o.setAttribute("class","intercom-lightweight-app-launcher intercom-launcher"),o.setAttribute("role","button"),o.setAttribute("tabindex","0"),o.setAttribute("aria-label",Object(zi.e)("open_intercom_messenger"));const c=e.document.createElement("div");if(c.setAttribute("class","intercom-lightweight-app-launcher-icon intercom-lightweight-app-launcher-icon-open"),r){const t=e.document.createElement("img");t.setAttribute("src",r),t.setAttribute("alt",""),t.setAttribute("class","intercom-lightweight-app-launcher-custom-icon-open"),c.appendChild(t)}else i?(c.setAttribute("class","intercom-lightweight-app-launcher-icon intercom-lightweight-app-launcher-icon-self-serve"),c.innerHTML='<svg aria-hidden="true" viewBox="1 1 60 60"><path d="M27.765 42.244c-8.614 0-15.622-7.008-15.622-15.622S19.151 11 27.765 11s15.622 7.008 15.622 15.622-7.007 15.622-15.622 15.622zm0-28.398c-7.045 0-12.775 5.73-12.775 12.775s5.73 12.775 12.775 12.775 12.775-5.73 12.775-12.775-5.73-12.775-12.775-12.775z"/><path d="M34.869 39.146l4.014-3.738 9.286 9.114a3.164 3.164 0 01-.07 4.562l-.071.066a3.163 3.163 0 01-4.561-.257l-8.598-9.747zM27.77 34.173c-2.882 0-5.412-.876-7.656-2.526a1.002 1.002 0 01-.35-.81c.008-.461.445-.969 1.02-.959.284.005.493.153.713.308 1.837 1.302 3.832 1.971 6.275 1.971 1.875 0 4.492-.476 6.314-2.118a.98.98 0 01.638-.261.92.92 0 01.686.241c.222.209.33.527.336.735a1.02 1.02 0 01-.318.775c-1.333 1.237-4.262 2.644-7.658 2.644z"/></svg>\n'):c.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 32"><path d="M28 32s-4.714-1.855-8.527-3.34H3.437C1.54 28.66 0 27.026 0 25.013V3.644C0 1.633 1.54 0 3.437 0h21.125c1.898 0 3.437 1.632 3.437 3.645v18.404H28V32zm-4.139-11.982a.88.88 0 00-1.292-.105c-.03.026-3.015 2.681-8.57 2.681-5.486 0-8.517-2.636-8.571-2.684a.88.88 0 00-1.29.107 1.01 1.01 0 00-.219.708.992.992 0 00.318.664c.142.128 3.537 3.15 9.762 3.15 6.226 0 9.621-3.022 9.763-3.15a.992.992 0 00.317-.664 1.01 1.01 0 00-.218-.707z"/></svg>';o.appendChild(c);const a=e.document.createElement("div");return a.setAttribute("class","intercom-lightweight-app-launcher-icon intercom-lightweight-app-launcher-icon-minimize"),a.innerHTML='<svg viewBox="0 0 16 14" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M.116 4.884l1.768-1.768L8 9.232l6.116-6.116 1.768 1.768L8 12.768.116 4.884z"/></svg>',o.appendChild(a),o},Yi=(e,t,n,r,i,s)=>o=>{if(s.textContent=qi(o),t.locale!==o.locale&&Object(zi.d)(o.locale),!t.isAppActive&&o.isAppActive?e.document.body.appendChild(n):t.isAppActive&&!o.isAppActive&&e.document.body.removeChild(n),!t.isLauncherEnabled&&o.isLauncherEnabled){const t=Qi(e,o);n.appendChild(t)}else if(t.isLauncherEnabled&&!o.isLauncherEnabled){const t=(e=>e.document.querySelector(".intercom-lightweight-app-launcher"))(e);t&&n.contains(t)&&n.removeChild(t)}!t.isMessengerOpen&&o.isMessengerOpen?(n.appendChild(r),n.appendChild(i)):t.isMessengerOpen&&!o.isMessengerOpen&&(n.removeChild(r),n.removeChild(i)),t=o},Ji=(e,t)=>()=>{const{body:n}=e.document;t&&n.contains(t)&&n.removeChild(t)},Ki=({onLauncherKeypress:e})=>({keyCode:t})=>{t!==S.a.ENTER&&t!==S.a.SPACE||e()},Xi=({onTabKeyDown:e})=>({keyCode:t})=>{t===S.a.TAB&&e()},Zi=({onClick:e})=>()=>{e()};var es=(e,t)=>{const{isAppActive:n,isLauncherEnabled:r,isMessengerOpen:i,locale:s}=t;void 0!==s&&Object(zi.d)(s);const o=Xi(t),c=Zi(t);e.document.addEventListener("keydown",o,!0),e.document.addEventListener("click",c,!1);const a=e.document.createElement("div");if(a.setAttribute("class","intercom-lightweight-app"),a.setAttribute("aria-live","polite"),n&&e.document.body.appendChild(a),r){const n=Qi(e,t);a.appendChild(n)}const u=e.document.createElement("div");u.setAttribute("class","intercom-lightweight-app-messenger intercom-messenger");const d=e.document.createElement("div");d.setAttribute("class","intercom-lightweight-app-messenger-header"),u.appendChild(d);const l=e.document.createElement("div");l.setAttribute("class","intercom-lightweight-app-gradient"),i&&(a.appendChild(u),a.appendChild(l));const p=e.document.createElement("style");p.setAttribute("id","intercom-lightweight-app-style"),p.setAttribute("type","text/css");const f=e.document.createTextNode(qi(t));return p.appendChild(f),a.appendChild(p),{updateLightweightApp:Yi(e,t,a,u,l,f),removeLightweightApp:Ji(e,a)}},ts=n(225),ns=n(226);const rs=e=>({type:"SET_LIGHTWEIGHT_APP_ACTIVE",isActive:e});var is=n(69);function ss(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function os(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ss(Object(n),!0).forEach((function(t){cs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ss(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const as=Object(b.createStructuredSelector)({isAppActive:ts.a,isLauncherEnabled:a.a,isMessengerOpen:Vi.a,customization:Fi.b,accessibility:Bi.a,colors:Hi.a,launcherLogoUrl:i.l,allowSelfServeIcon:i.c,locale:ns.a}),us=e=>{Object(D.e)("clicked","launcher","in_app","",{is_messenger_open:!1,is_custom_launcher:!1,is_borderless_open:!1}),e.dispatch(Object(Yr.l)())};var ds=(e,t)=>{const n=((e,t)=>({isMobile:Object(s.b)(),onLauncherClick:()=>{t.dispatch(Object(is.b)(!1)),us(t)},onLauncherKeypress:()=>{us(t)},onClick:()=>{t.dispatch(Object(is.b)(!1))},onTabKeyDown:()=>{t.dispatch(Object(is.b)(!0))}}))(0,t),r=as(t.getState()),i=os(os({},r),n),{updateLightweightApp:o,removeLightweightApp:c}=es(e,i);t.dispatch(rs(!0));const a=t.subscribe(()=>{const e=as(t.getState());if(e===r)return;const i=os(os({},e),n);o(i)});return()=>{a(),c(e),t.dispatch(rs(!1))}},ls=n(159);const ps=Object(b.createSelector)([e=>e.app.isMessengerOpen],e=>e),fs=Object(b.createSelector)([N.a],e=>e.length>0),hs=Object(b.createSelector)([P.a],e=>e.length>0),bs=Object(b.createSelector)([ls.a],e=>e.length>0),_s=Object(b.createSelector)([e=>e.install.isInstallModeOpen],e=>e),gs=Object(b.createSelector)([e=>e.banners],e=>e.length>0),ms=Object(b.createSelector)([Xr.b],e=>e>0),Os=Object(b.createSelector)([e=>e.launcherDiscoveryMode.isLauncherDiscoveryModeOpening],e=>e),Es=Object(b.createSelector)([e=>e.tour.activeTour],e=>null!=e);var Ss=Object(b.createSelector)([ps,fs,hs,bs,_s,gs,ms,Os,Es],(e,t,n,r,i,s,o,c,a)=>Boolean(e||t||n||r||i||s||o||c||a));const vs=e=>new Promise(t=>{const n=e.subscribe(()=>{Ss(e.getState())&&(n(),t())})}),ys=async(e=3)=>{try{const t=Date.now(),r=await Gi()(async()=>await Promise.all([n.e(48),n.e(0)]).then(n.bind(null,872)),{retries:e}),i=Date.now();return Object(D.f)("load_app_bundle_duration",i-t),r.default}catch(e){throw Object(D.c)("load_app_bundle_failed"),e}},Cs=async e=>{try{const n=e.getState(),{launcherLogoUrl:r}=n.app;if(!r)return;await(t=r,new Promise((e,n)=>{const r=new Image;r.addEventListener("load",()=>e(r)),r.addEventListener("error",()=>n(r)),r.src=t}))}catch(e){Object(D.c)("load_launcher_image_failed")}var t};var Ts=async(e,t)=>{await Cs(t);const n=ds(e,t);let r,i=!0;return Promise.race([new Promise(e=>{Object(y.a)()&&e()}),vs(t)]).then(async()=>{if(!i)return;const[,s]=await Promise.all([(o=250,new Promise(e=>{setTimeout(e,o)})),ys()]);var o;r=await s(e,t),n()}),()=>{i&&(r?r():n(),i=!1)}};var Is=class app_App{constructor(e){var t,n,r;r=e=>{this.session.destroy(e),this.session=new ki(this.window),this.renderApp&&this.renderApp.then(e=>e()),this.renderApp=void 0},(n="destroySession")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,this.window=e,this.session=new ki(this.window,null,this.destroySession)}createOrUpdateUser(e,t){const n=this.session.createOrUpdateUser(e,t);return this.renderApp||(this.renderApp=Ts(this.window,this.session.store)),n}openOnBoot(){this.session.openOnBoot()}createCustomizationOverride(e){return this.session.createCustomizationOverride(e)}openMessenger(){this.session.openMessenger()}openMessengerFromAPI(){this.session.openMessenger();const{user:e}=this.session.store.getState();Object(D.h)(e,"opened","messenger","in_app","from_api")}closeMessenger(){this.session.closeMessenger()}closeMessengerFromAPI(){this.session.closeMessenger();const{user:e}=this.session.store.getState();Object(D.h)(e,"closed","messenger","messenger","from_api")}showConversations(){this.session.showConversations()}showNewConversation(e){this.session.showNewConversation(e)}startTour(e){const t=parseInt(e,10);if(isNaN(t))return void Object(Mn.a)("Invalid tourId passed to startTour. tourId must be a number");this.session.startTour(t);const{user:n}=this.session.store.getState();Object(D.h)(n,"requested","messenger","tour","from_api",{tour_id:t})}createEvent(e,t){this.session.createEvent(e,t)}onMessengerOpen(e){this.session.onMessengerOpen(e)}onMessengerClose(e){this.session.onMessengerClose(e)}onUnreadConversationCountChange(e){this.session.onUnreadConversationCountChange(e)}getArticleReaction(e,t,n){this.session.getArticleReaction(e,t,n)}createArticleReaction(e,t,n){this.session.createArticleReaction(e,t,n)}previewInboundCustomBot(e){this.session.previewInboundCustomBot(e)}previewOutboundCustomBot(e){this.session.previewOutboundCustomBot(e)}createMetric(e,t){this.session.createMetric(e,t)}getVisitorId(){return this.session.getVisitorId()}enterTourPreviewMode(e){return this.session.enterTourPreviewMode(e)}exitTourPreviewMode(){return this.session.exitTourPreviewMode()}trigger(e){if(this.session.isReady)return this.session.trigger(e);Object(Mn.a)("Intercom is not ready. Aborting MessengerTrigger request")}};function js(e){return(...t)=>{const n={boot(t){e.createCustomizationOverride(t),e.createOrUpdateUser(t,"apiBoot"),e.openOnBoot()},update(t){e.createCustomizationOverride(t),e.createOrUpdateUser(t,"apiUpdate")},shutdown(t=!0){e.destroySession(t)},show(){e.openMessengerFromAPI()},showMessages(){e.showConversations()},showNewMessage(t){e.showNewConversation(t)},startTour(t){e.startTour(t)},hide(){e.closeMessengerFromAPI()},trackEvent(t,n){e.createEvent(t,n)},onShow(t){e.onMessengerOpen(t)},onHide(t){e.onMessengerClose(t)},onUnreadCountChange(t){e.onUnreadConversationCountChange(t)},trigger(t){e.trigger(t)},getVisitorId:()=>e.getVisitorId(),version:()=>"ee3991f0b23d32c5cf6a8c186b903b8e0b1254fc","private:getArticleReaction":(t,n,r)=>{e.getArticleReaction(t,n,r)},"private:createMetric":(t,n)=>{e.createMetric(t,n)},"private:createArticleReaction":(t,n,r)=>{e.createArticleReaction(t,n,r)},"private:enterTourPreviewMode":t=>{e.enterTourPreviewMode(t)},"private:exitTourPreviewMode":()=>{e.exitTourPreviewMode()},"private:previewInboundCustomBot":t=>{e.previewInboundCustomBot(t)},"private:previewOutboundCustomBot":t=>{e.previewOutboundCustomBot(t)}},r=t[0];if(r&&n[r])return n[r](...t.slice(1))}}function ws(e,t){t.Intercom=e,t.Intercom.booted=!0}function Rs(e){const t=function(e){return e.Intercom}(e);return t&&t.q||[]}function As(e){return Rs(e).some(e=>"boot"===e[0]||"shutdown"===e[0])}function Ns(e,t){const n=Rs(t);for(;n.length;)e(...n.shift())}var Ps=n(67),Ms=n.n(Ps);const Ds=n(150);var Us=n(13),Ls=n(92),ks=n(93),xs=n(51);if(Object(y.a)()){const e=JSON.parse(Object(xs.a)(window.location.href).window);Object(O.h)(e),Object(ks.a)()}else Object(O.h)(window.parent);Object(r.a)(window),function(e){if(void 0!==e)try{const t=new e.CustomEvent("test",{cancelable:!0});if(t.preventDefault(),!0!==t.defaultPrevented)throw new Error("Could not prevent default")}catch(t){const n=function(e,t){(t=t||{}).bubbles=!!t.bubbles,t.cancelable=!!t.cancelable;const n=document.createEvent("CustomEvent");n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail);const r=n.preventDefault;return n.preventDefault=function(){r.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch(e){this.defaultPrevented=!0}},n};n.prototype=e.Event.prototype,e.CustomEvent=n}}(window),Object(y.a)()||(window.requestAnimationFrame=window.parent.requestAnimationFrame||window.requestAnimationFrame),Object(y.a)();const Gs=Object(y.a)()?window:parent;Object(Zn.a)(window);const Vs=new Is(Gs);Object(Zn.b)(Vs.session.store);const Fs=js(Vs),Bs=As(Gs);Ns(Fs,Gs),ws(Fs,Gs),Bs||Fs("boot"),new class intersection_Intersection{constructor(e){var t,n,r;r=["http://intercom.test","http://app.intercom.test","https://app.intercom.com","https://app.intercom.io","https://intercomrades.intercom.io","https://intercomrades.intercom.com"],(n="intercomDomains")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,this.window=e,this.setupIntersection()}setupIntersection(){this.openerExists()&&(this.modeExists()?this.injectIntersection():(this.setupMessageListener(),this.sendMessageToOpener({type:"intercom-snippet__ready"})))}sendMessageToOpener(e){this.window.opener.postMessage(e,"*")}openerExists(){return!!this.window.opener}modeExists(){return!!fe.b.get("intercom-snippet__intersection-mode")}setupMessageListener(){this.window.addEventListener("message",this.bootIntersection.bind(this))}getMode(){return fe.b.get("intercom-snippet__intersection-mode")}getAppId(){return fe.b.get("intercom-snippet__intersection-app-id")}bootIntersection(e){-1!==this.intercomDomains.indexOf(e.origin)&&"intercom-snippet__boot-intersection"===e.data.type&&(this.removeMessageListener(),this.saveOpenerOrigin(e.origin),this.injectIntersection(e.data.mode,e.data.appId))}removeMessageListener(){this.window.removeEventListener("message",this.bootIntersection.bind(this))}saveOpenerOrigin(e){fe.b.set("intercom-snippet__intersection-opener-origin",e)}injectIntersection(e,t){this.window.document.getElementById("intersection-container")||(this.injectIntersectionFrame(),this.injectEmberApp(e,t))}injectIntersectionFrame(){const e=this.window.document.createElement("div"),t=this.window.document.createElement("iframe");e.id="intersection-container",t.id="intersection-frame",t.frameBorder=0,e.appendChild(t),this.window.document.body.insertAdjacentElement("beforeend",e)}createScriptTag(e){const t=document.createElement("script");return t.type="text/javascript",t.charset="utf-8",t.src=e,t}injectFrameTemplate(e,t=this.getMode(),n=this.getAppId()){const r=Ms()(t),i=Ms()(n);e.open(),e.write(`\n    <!doctype html>\n      <head>\n        <title>Intersection </title>\n        <meta name="intersection-mode" content=${r}>\n        <meta name="intersection-appId" content=${i}>\n      </head>\n      <body></body>\n    </html>\n    `),e.close()}injectIntersectionScripts(e){const t=this.createScriptTag(Ds.intersection_js),n=this.createScriptTag(Ds.intersection_styles);e.contentWindow.document.head.appendChild(t),e.contentWindow.document.head.appendChild(n)}injectEmberApp(e,t){const n=this.window.document.getElementById("intersection-frame");this.injectFrameTemplate(n.contentDocument,e,t),this.injectIntersectionScripts(n)}}(Gs),Object(y.a)()&&(window.addEventListener("message",Object(v.b)({"intercom:boot":({settings:e})=>{Vs.createOrUpdateUser(e)},"intercom:window-resize":({updates:e})=>{Object(O.i)(e)},"intercom:api-call":({args:e})=>{Fs(...e)},"intercom:ready-for-boot":({cookie:e})=>{Object(Ls.b)(e),Object(v.i)()}})),Object(Us.a)("intercom:prepare-for-boot"))}]);